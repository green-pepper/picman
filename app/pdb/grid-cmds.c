/* PICMAN - The GNU Image Manipulation Program
 * Copyright (C) 1995-2003 Spencer Kimball and Peter Mattis
 *
 * This program is free software: you can redistribute it and/or modify
 * it under the terms of the GNU General Public License as published by
 * the Free Software Foundation; either version 3 of the License, or
 * (at your option) any later version.
 *
 * This program is distributed in the hope that it will be useful,
 * but WITHOUT ANY WARRANTY; without even the implied warranty of
 * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
 * GNU General Public License for more details.
 *
 * You should have received a copy of the GNU General Public License
 * along with this program.  If not, see <http://www.gnu.org/licenses/>.
 */

/* NOTE: This file is auto-generated by pdbgen.pl. */

#include "config.h"

#include <cairo.h>

#include <gegl.h>

#include <gdk-pixbuf/gdk-pixbuf.h>

#include "libpicmanbase/picmanbaseenums.h"
#include "libpicmancolor/picmancolor.h"

#include "libpicmanbase/picmanbase.h"

#include "pdb-types.h"

#include "core/picmangrid.h"
#include "core/picmanimage-grid.h"
#include "core/picmanimage.h"
#include "core/picmanparamspecs.h"

#include "picmanpdb.h"
#include "picmanprocedure.h"
#include "internal-procs.h"


static PicmanValueArray *
image_grid_get_spacing_invoker (PicmanProcedure         *procedure,
                                Picman                  *picman,
                                PicmanContext           *context,
                                PicmanProgress          *progress,
                                const PicmanValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  PicmanValueArray *return_vals;
  PicmanImage *image;
  gdouble xspacing = 0.0;
  gdouble yspacing = 0.0;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_get (grid,
                      "xspacing", &xspacing,
                      "yspacing", &yspacing,
                      NULL);
      else
        success = FALSE;
    }

  return_vals = picman_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    {
      g_value_set_double (picman_value_array_index (return_vals, 1), xspacing);
      g_value_set_double (picman_value_array_index (return_vals, 2), yspacing);
    }

  return return_vals;
}

static PicmanValueArray *
image_grid_set_spacing_invoker (PicmanProcedure         *procedure,
                                Picman                  *picman,
                                PicmanContext           *context,
                                PicmanProgress          *progress,
                                const PicmanValueArray  *args,
                                GError               **error)
{
  gboolean success = TRUE;
  PicmanImage *image;
  gdouble xspacing;
  gdouble yspacing;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);
  xspacing = g_value_get_double (picman_value_array_index (args, 1));
  yspacing = g_value_get_double (picman_value_array_index (args, 2));

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_set (grid,
                      "xspacing", xspacing,
                      "yspacing", yspacing,
                      NULL);
      else
        success = FALSE;
    }

  return picman_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static PicmanValueArray *
image_grid_get_offset_invoker (PicmanProcedure         *procedure,
                               Picman                  *picman,
                               PicmanContext           *context,
                               PicmanProgress          *progress,
                               const PicmanValueArray  *args,
                               GError               **error)
{
  gboolean success = TRUE;
  PicmanValueArray *return_vals;
  PicmanImage *image;
  gdouble xoffset = 0.0;
  gdouble yoffset = 0.0;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_get (grid,
                      "xoffset", &xoffset,
                      "yoffset", &yoffset,
                      NULL);
      else
        success = FALSE;
    }

  return_vals = picman_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    {
      g_value_set_double (picman_value_array_index (return_vals, 1), xoffset);
      g_value_set_double (picman_value_array_index (return_vals, 2), yoffset);
    }

  return return_vals;
}

static PicmanValueArray *
image_grid_set_offset_invoker (PicmanProcedure         *procedure,
                               Picman                  *picman,
                               PicmanContext           *context,
                               PicmanProgress          *progress,
                               const PicmanValueArray  *args,
                               GError               **error)
{
  gboolean success = TRUE;
  PicmanImage *image;
  gdouble xoffset;
  gdouble yoffset;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);
  xoffset = g_value_get_double (picman_value_array_index (args, 1));
  yoffset = g_value_get_double (picman_value_array_index (args, 2));

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_set (grid,
                      "xoffset", xoffset,
                      "yoffset", yoffset,
                      NULL);
      else
        success = FALSE;
    }

  return picman_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static PicmanValueArray *
image_grid_get_foreground_color_invoker (PicmanProcedure         *procedure,
                                         Picman                  *picman,
                                         PicmanContext           *context,
                                         PicmanProgress          *progress,
                                         const PicmanValueArray  *args,
                                         GError               **error)
{
  gboolean success = TRUE;
  PicmanValueArray *return_vals;
  PicmanImage *image;
  PicmanRGB fgcolor = { 0.0, 0.0, 0.0, 1.0 };

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        fgcolor = grid->fgcolor;
      else
        success = FALSE;
    }

  return_vals = picman_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    picman_value_set_rgb (picman_value_array_index (return_vals, 1), &fgcolor);

  return return_vals;
}

static PicmanValueArray *
image_grid_set_foreground_color_invoker (PicmanProcedure         *procedure,
                                         Picman                  *picman,
                                         PicmanContext           *context,
                                         PicmanProgress          *progress,
                                         const PicmanValueArray  *args,
                                         GError               **error)
{
  gboolean success = TRUE;
  PicmanImage *image;
  PicmanRGB fgcolor;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);
  picman_value_get_rgb (picman_value_array_index (args, 1), &fgcolor);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_set (grid, "fgcolor", &fgcolor, NULL);
      else
        success = FALSE;
    }

  return picman_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static PicmanValueArray *
image_grid_get_background_color_invoker (PicmanProcedure         *procedure,
                                         Picman                  *picman,
                                         PicmanContext           *context,
                                         PicmanProgress          *progress,
                                         const PicmanValueArray  *args,
                                         GError               **error)
{
  gboolean success = TRUE;
  PicmanValueArray *return_vals;
  PicmanImage *image;
  PicmanRGB bgcolor = { 0.0, 0.0, 0.0, 1.0 };

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        bgcolor = grid->bgcolor;
      else
        success = FALSE;
    }

  return_vals = picman_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    picman_value_set_rgb (picman_value_array_index (return_vals, 1), &bgcolor);

  return return_vals;
}

static PicmanValueArray *
image_grid_set_background_color_invoker (PicmanProcedure         *procedure,
                                         Picman                  *picman,
                                         PicmanContext           *context,
                                         PicmanProgress          *progress,
                                         const PicmanValueArray  *args,
                                         GError               **error)
{
  gboolean success = TRUE;
  PicmanImage *image;
  PicmanRGB bgcolor;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);
  picman_value_get_rgb (picman_value_array_index (args, 1), &bgcolor);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_set (grid, "bgcolor", &bgcolor, NULL);
      else
        success = FALSE;
    }

  return picman_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

static PicmanValueArray *
image_grid_get_style_invoker (PicmanProcedure         *procedure,
                              Picman                  *picman,
                              PicmanContext           *context,
                              PicmanProgress          *progress,
                              const PicmanValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  PicmanValueArray *return_vals;
  PicmanImage *image;
  gint32 style = 0;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_get (grid, "style", &style, NULL);
      else
        success = FALSE;
    }

  return_vals = picman_procedure_get_return_values (procedure, success,
                                                  error ? *error : NULL);

  if (success)
    g_value_set_enum (picman_value_array_index (return_vals, 1), style);

  return return_vals;
}

static PicmanValueArray *
image_grid_set_style_invoker (PicmanProcedure         *procedure,
                              Picman                  *picman,
                              PicmanContext           *context,
                              PicmanProgress          *progress,
                              const PicmanValueArray  *args,
                              GError               **error)
{
  gboolean success = TRUE;
  PicmanImage *image;
  gint32 style;

  image = picman_value_get_image (picman_value_array_index (args, 0), picman);
  style = g_value_get_enum (picman_value_array_index (args, 1));

  if (success)
    {
      PicmanGrid *grid = picman_image_get_grid (image);

      if (grid)
        g_object_set (grid, "style", style, NULL);
      else
        success = FALSE;
    }

  return picman_procedure_get_return_values (procedure, success,
                                           error ? *error : NULL);
}

void
register_grid_procs (PicmanPDB *pdb)
{
  PicmanProcedure *procedure;

  /*
   * picman-image-grid-get-spacing
   */
  procedure = picman_procedure_new (image_grid_get_spacing_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-get-spacing");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-get-spacing",
                                     "Gets the spacing of an image's grid.",
                                     "This procedure retrieves the horizontal and vertical spacing of an image's grid. It takes the image as parameter.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   g_param_spec_double ("xspacing",
                                                        "xspacing",
                                                        "The image's grid horizontal spacing",
                                                        -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                        PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   g_param_spec_double ("yspacing",
                                                        "yspacing",
                                                        "The image's grid vertical spacing",
                                                        -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                        PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-set-spacing
   */
  procedure = picman_procedure_new (image_grid_set_spacing_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-set-spacing");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-set-spacing",
                                     "Sets the spacing of an image's grid.",
                                     "This procedure sets the horizontal and vertical spacing of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               g_param_spec_double ("xspacing",
                                                    "xspacing",
                                                    "The image's grid horizontal spacing",
                                                    -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                    PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               g_param_spec_double ("yspacing",
                                                    "yspacing",
                                                    "The image's grid vertical spacing",
                                                    -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                    PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-get-offset
   */
  procedure = picman_procedure_new (image_grid_get_offset_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-get-offset");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-get-offset",
                                     "Gets the offset of an image's grid.",
                                     "This procedure retrieves the horizontal and vertical offset of an image's grid. It takes the image as parameter.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   g_param_spec_double ("xoffset",
                                                        "xoffset",
                                                        "The image's grid horizontal offset",
                                                        -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                        PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   g_param_spec_double ("yoffset",
                                                        "yoffset",
                                                        "The image's grid vertical offset",
                                                        -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                        PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-set-offset
   */
  procedure = picman_procedure_new (image_grid_set_offset_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-set-offset");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-set-offset",
                                     "Sets the offset of an image's grid.",
                                     "This procedure sets the horizontal and vertical offset of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               g_param_spec_double ("xoffset",
                                                    "xoffset",
                                                    "The image's grid horizontal offset",
                                                    -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                    PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               g_param_spec_double ("yoffset",
                                                    "yoffset",
                                                    "The image's grid vertical offset",
                                                    -G_MAXDOUBLE, G_MAXDOUBLE, 0,
                                                    PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-get-foreground-color
   */
  procedure = picman_procedure_new (image_grid_get_foreground_color_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-get-foreground-color");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-get-foreground-color",
                                     "Sets the foreground color of an image's grid.",
                                     "This procedure gets the foreground color of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   picman_param_spec_rgb ("fgcolor",
                                                        "fgcolor",
                                                        "The image's grid foreground color",
                                                        TRUE,
                                                        NULL,
                                                        PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-set-foreground-color
   */
  procedure = picman_procedure_new (image_grid_set_foreground_color_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-set-foreground-color");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-set-foreground-color",
                                     "Gets the foreground color of an image's grid.",
                                     "This procedure sets the foreground color of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               picman_param_spec_rgb ("fgcolor",
                                                    "fgcolor",
                                                    "The new foreground color",
                                                    TRUE,
                                                    NULL,
                                                    PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-get-background-color
   */
  procedure = picman_procedure_new (image_grid_get_background_color_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-get-background-color");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-get-background-color",
                                     "Sets the background color of an image's grid.",
                                     "This procedure gets the background color of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   picman_param_spec_rgb ("bgcolor",
                                                        "bgcolor",
                                                        "The image's grid background color",
                                                        TRUE,
                                                        NULL,
                                                        PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-set-background-color
   */
  procedure = picman_procedure_new (image_grid_set_background_color_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-set-background-color");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-set-background-color",
                                     "Gets the background color of an image's grid.",
                                     "This procedure sets the background color of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               picman_param_spec_rgb ("bgcolor",
                                                    "bgcolor",
                                                    "The new background color",
                                                    TRUE,
                                                    NULL,
                                                    PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-get-style
   */
  procedure = picman_procedure_new (image_grid_get_style_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-get-style");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-get-style",
                                     "Gets the style of an image's grid.",
                                     "This procedure retrieves the style of an image's grid.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_return_value (procedure,
                                   g_param_spec_enum ("style",
                                                      "style",
                                                      "The image's grid style",
                                                      PICMAN_TYPE_GRID_STYLE,
                                                      PICMAN_GRID_DOTS,
                                                      PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);

  /*
   * picman-image-grid-set-style
   */
  procedure = picman_procedure_new (image_grid_set_style_invoker);
  picman_object_set_static_name (PICMAN_OBJECT (procedure),
                               "picman-image-grid-set-style");
  picman_procedure_set_static_strings (procedure,
                                     "picman-image-grid-set-style",
                                     "Sets the style unit of an image's grid.",
                                     "This procedure sets the style of an image's grid. It takes the image and the new style as parameters.",
                                     "Sylvain Foret",
                                     "Sylvain Foret",
                                     "2005",
                                     NULL);
  picman_procedure_add_argument (procedure,
                               picman_param_spec_image_id ("image",
                                                         "image",
                                                         "The image",
                                                         pdb->picman, FALSE,
                                                         PICMAN_PARAM_READWRITE));
  picman_procedure_add_argument (procedure,
                               g_param_spec_enum ("style",
                                                  "style",
                                                  "The image's grid style",
                                                  PICMAN_TYPE_GRID_STYLE,
                                                  PICMAN_GRID_DOTS,
                                                  PICMAN_PARAM_READWRITE));
  picman_pdb_register_procedure (pdb, procedure);
  g_object_unref (procedure);
}
