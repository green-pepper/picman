Sun Dec 24 23:18:32 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.2.0 release

Sun Dec 24 12:24:01 PST 2000 Manish Singh <yosh@picman.org>

	* app/Makefile.am
	* app/app_procs.c
	* app/color_area.[ch]
	* app/commands.[ch]
	* app/gdisplay.[ch]
	* app/makefile.mingw.in
	* app/menus.c
	* modules/Makefile.am
	* modules/makefile.mingw.in: disabled display filters code, since
	it is unfinished

2000-12-24  Michael Natterer  <mitch@picman.org>

	* app/color_cmds.c
	* app/threshold.c
	* tools/pdbgen/pdb/color.pdb: my last s/rangechanged/range_changed/
	somehow was not really "g" ;)

2000-12-21  Sven Neumann  <sven@picman.org>

	* plug-ins/common/sunras.c: applied picman-kirchgessner-001220-0
	which makes the sunras plug-in recognize files with the .ras and 
	.rs extensions (used by StarOffice and Suns Image Tool).

2000-12-21  Sven Neumann  <sven@picman.org>

	* docs/Wilber_Construction_Kit.xcf.gz: a new hat for Wilber courtesy 
	of Seth Burgess. 

2000-12-21  Sven Neumann  <sven@picman.org>

	* app/gradient.c
	* app/gradient_select.[ch]: reviewed the gradient code. The old code
	used to use list indices which led to bug #35612 and other problems.
	We now attach a pointer to the gradient to each row in the GtkClists
	and retrieve the matching row for a gradient using 
	gtk_clist_find_row_from_data(). Additionally I have added similar code
	as we use for brushes to assure that no two gradients have the same
	name.

2000-12-20  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/makefile.mingw.in (COMMON): Remove gpb and
	spheredesigner. Add gih. (Thanks Sven and Jens for cleaning up the
	brush stuff...)

	* libpicman/picman.def: Add picman_invert.

Wed Dec 20 14:39:38 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.32 release (1.2final)

2000-12-20  Michael Natterer  <mitch@picman.org>

	* app/picmanhistogram.c: plonk, my "cleanup" yesterday
	broke ENABLE_MP. Fixes #35668.

2000-12-19  Michael Natterer  <mitch@picman.org>

	* app/gradient.c: couldn't resist to heavily indent all function
	prototypes before starting to fix the rename-bug. Nothing changed.

Tue Dec 19 12:37:55 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.31 release (1.2final)

2000-12-19  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gap/gap_lib.c: Typo fixes.
	* po-plug-ins/POTFILES.in: Added gee_zoom.c.
	* plug-ins/common/gee.c, plug-ins/common/gee_zoom.c: Added i18n
	of menu item.

2000-12-19  Sven Neumann  <sven@picman.org>

	* app/curves.c: applied a patch from David Hodson that reverts
	the curves tool back to its old behaviour (start with the identical
	transform), but keeps the fix for bug #33403.

2000-12-19  Michael Natterer  <mitch@picman.org>

	* app/patterns.c: uniquefy pattern names before inserting them
	into the list. This way DND (which passes only the pattern's
	name) works as expected. Fixes #35258.

2000-12-19  Michael Natterer  <mitch@picman.org>

	* app/Makefile.am
	* app/picmanhistogramP.h: removed.

	* app/picmanhistogram.[ch]
	* app/histogramwidget.[ch]: Histogram cleanup: replaced the
	channel #define's by a properly named enum and use this enum
	type as parameter in functions instead of "int".

	* app/curves.c
	* app/histogram_tool.c
	* app/levels.c: changed accordingly.

2000-12-19  Sven Neumann  <sven@picman.org>

	* plug-ins/common/exchange.c: applied (a modified version of)
	picman-timecop-20001213-17. Delayed update for the sliders and
	and a "click preview to pick color" function.

2000-12-19  Sven Neumann  <sven@picman.org>

	* app/picmanbrushpipe.c (picman_brush_pipe_load): set the spacing and
	other info from the first brush just as the old code used to do.

2000-12-19  Sven Neumann  <sven@picman.org>
            Michael Natterer  <mitch@picman.org>

	* TODO: reviewed

2000-12-19  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/pat.c: Load broken (GRAYA and RGBA) patterns
	but tell the user that they are broken. Cleanup.

2000-12-19  Sven Neumann  <sven@picman.org>

	* plug-ins/common/gih.c: alter the pixpipe parameters and attach them
	as parasite, so saving a loaded .gih file yields the same brush again
	(minus the brush spacing which is not yet stored in the image).
	
2000-12-18  Sven Neumann  <sven@picman.org>
	    Jens Lautenbacher <jtl@picman.org>

	* data/brushes/Makefile.am: remove old pepper.gpb when installing new
	brushes.

	* data/brushes/SketchBrush-16.gih
	* data/brushes/SketchBrush-32.gih
	* data/brushes/SketchBrush-64.gih: converted to grayscale brush pipes.

	* plug-ins/common/gih.c: commented out code that sets loaded pipe
	parameters as parasite until we figure out how to do it right.

	* devel-docs/gpb.txt: mention that the .gpb format is obsolete.
	* devel-docs/gih.txt: updated.
	
2000-12-18  Sven Neumann  <sven@picman.org>
	    Jens Lautenbacher <jtl@picman.org>

	* plug-ins/common/gbr.c: save and load brush name into/from layer name.

	* plug-ins/common/gih.c: added gih loader. The loader is able to read
	the old brush pipe format too. Brush pipes will only be saved in the 
	new format. Fixes bugs #21806, #34167 and #34168.
	
2000-12-18  Daniel Egger <egger@suse.de>

	* plug-ins/ifcompose/ifscompose.c:
	Second attempt from David Neary which should work
	better. 

2000-12-18  Jens Lautenbacher  <jtl@picman.org>
	    Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/scripts/mkbrush.scm 
	* plug-ins/script-fu/scripts/select_to_brush.scm: make it work with
	the new brush format and the new saving code; select_to_brush
	loads and saves RGB selections into pixmap brushes now.

2000-12-18  Daniel Egger <egger@suse.de>

	* plug-ins/ifcompose/ifscompose.c:
	Added patch from David Neary to fix calulations. 
	Fixes bug #9156.

2000-12-18  Sven Neumann  <sven@picman.org>
	    Jens Lautenbacher <jtl@picman.org>

	* data/brushes/Makefile.am
	* data/brushes/pepper.gpb: removed
	* data/brushes/pepper.gbr: added (a nicer version of) the Pepper
	brush in the .gbr format that does support pixmap brushes now.
	
	* plug-ins/common/gbr.c: added support for loading obsoleted 
	Picman Pixmap Brushes format (.gpb).

2000-12-18  Sven Neumann  <sven@picman.org>
	    Jens Lautenbacher <jtl@picman.org>

	* app/Makefile.am
	
	* app/picmanbrushlistP.h
	* app/picmanbrushpipeP.h
	* app/picmanobjectP.h: removed these three files

	* app/parasitelistP.h
	* app/channels_dialog.c
	* app/docindex.c
	* app/picmandrawable.c
	* app/picmandrawableP.h
	* app/picmanimage.c
	* app/picmanimageP.h
	* app/picmanlist.[ch]
	* app/picmanobject.c
	* app/picmanobject.h
	* app/picmansetP.h: changed according to header removal

	* app/airbrush.c
	* app/brush_select.[ch]
	* app/brushes_cmds.c
	* app/picmanbrush.[ch]
	* app/picmanbrushgenerated.[ch]
	* app/picmanbrushlist.[ch]
	* app/picmanbrushpipe.[ch]
	* app/picmancontextpreview.c
	* app/paint_core.c
	* app/paintbrush.c
	* app/pencil.c
	* tools/pdbgen/pdb/brushes.pdb: Big Brushes Cleanup.

	The PicmanBrush* object hierarchy and the file formats were broken by
	"design". This made it overly difficult to read and write pixmap
	brushes and brush pipes, leading to the situation that The PICMAN was
	not able to read it's very own file formats. Since the PicmanBrush
	format did support arbitrary color depths, the introduction of a 
	file format for pixmap brushes was unnecessary.
	
	The PicmanBrushPixmap object is dead. PicmanBrush has an additional
	pixmap temp_buf and handles pixmap brushes transparently. The file
	format of pixmap brushes is not any longer a grayscale brush plus
	a pattern, but a simple brush with RGBA data. The old brushes can
	still be loaded, but the .gpb format is deprecated.

	PicmanBrushPipe derives from PicmanBrush. The fileformat is still a text
	header, followed by a number of brushes, but those brushes are stored
	in the new PicmanBrush format (no pattern anymore). The pipe does not
	care about the depth of the contained PicmanBrushes, so we get 
	grayscale BrushPipes for free. Since the brush loader still loads the
	old format, old .gih files can also still be loaded.

	Since the brushes in the PicmanBrushPipe do not any longer contain a
	pointer to the pipe object, we do only temporarily switch brushes
	in the paint_core routines. This is not very elegant, but the best
	we can do without a major redesign.
	
	* app/patterns.[ch]: changed the loader to work with a filedescriptor
	instead of a filehandle to make it work with the new brush loading
	code.

	* plug-ins/common/.cvsignore
	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/gih.c: new plug-in that saves GIH files in the 
	new format (loader will follow soon)
	
	* plug-ins/common/gpb.c: removed since Pixmap Brushes are no longer
	supported as a special file format.

	* plug-ins/common/gbr.c: load and save brushes in the new brush format
	which allows RGBA brushes too.
	
	* plug-ins/common/pat.c: load and save grayscale patterns too

2000-12-18  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/gee.c: Using "env" instead of "environ" caused
	a clash. Changed the other one to "environment".

2000-12-17  Tor Lillqvist  <tml@iki.fi>

	* config.h.win32: Typo.
	Use GLib random functions.

	* plug-ins/makefile.mingw.in (COMMON): Add gee_zoom.

	* plug-ins/common/animationplay.c: Win32-specific #include and
	#define stuff not needed any longer.

	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/common/gz.c
	* plug-ins/common/hrz.c: No use trying to use G_OS_WIN32 to decide
	whether to include glib.h, as glib.h is where G_OS_WIN32 gets
	defined...

	* plug-ins/common/gee.c: Can't use "environ" as variable name,
	it's in the C library.h on various systems. Use the name "env"
	instead.

2000-12-17  Michael Natterer  <mitch@picman.org>

	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/common/animationplay.c
	* plug-ins/common/gz.c
	* plug-ins/common/hrz.c
	* plug-ins/common/pat.c
	* plug-ins/common/pnm.c
	* plug-ins/common/ps.c. #ifdef early inclusion of <glib.h> with
	G_OS_WIN32. Avoids warnings about redefinition of MIN and MAX.
	Some #include cleanups.

2000-12-17  Michael Natterer  <mitch@picman.org>

	* app/menus.c: don't warn about a non-existant "Script-Fu" menu.
	(the user should have the choice of just removing the script-fu
	plug-in without any side-effects).

2000-12-17  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/common/gz.c (save_image): Use PICMAN_PDB_EXECUTION_ERROR. 
	OS/2 fix.

2000-12-16  Sven Neumann  <sven@picman.org>

	* Makefile.am
	* docs/Wilber_Construction_Kit.xcf.gz: ooops, got the name wrong
	
2000-12-17  Sven Neumann  <sven@picman.org>

	* app/curves.c: preview the curve settings in the image window when
	initializing the tool. This way the new curves behaviour (init with
	last settings) is visible.

	* app/user_install.c: check that strings are non-NULL before passing
	them to strcmp.

	* libpicman/picmanfileselection: do not try to pass a NULL text to 
	gtk_entry_set_text, use an empty string instead.

2000-12-16  Sven Neumann  <sven@picman.org>

	* app/picmanpreviewcache.h
	* app/channel.c
	* app/layer.c: put the preview cache priming code back into place, 
	but disabled it for small images to avoid unnecessary upscaling.
	
2000-12-16  Sven Neumann  <sven@picman.org>

	Last-minute cleanup:
	
	* app/picmandrawableF.h
	* app/picmanhistogramF.h
	* app/picmanimageF.h
	* app/picmanlistF.h
	* app/picmanlutF.h
	* app/picmanobjectF.h
	* app/picmansetF.h
	* app/layerF.h
	* app/parasitelistF.h: removed these files

	* app/Makefile.am
	* tools/pdbgen/Makefile.am: changed accordingly

	* app/[almost every file]: include cleanup
	
2000-12-16  Seth Burgess <sjburges@picman.org>
	
	* plug-ins/common/colortoalpha.c: Change to accept RGB input 
	(automatically add an alpha channel if needed).

2000-12-16  Sven Neumann  <sven@picman.org>
	    Jens Lautenbacher <jtl@picman.org>

	* Makefile.am
	* docs/Wilber_Construction_Kit.xcf.gz: added an example XCF file

2000-12-16  Sven Neumann  <sven@picman.org>

	* app/fileops.c: fixed a warning
	* app/menus.c: since gee is no longer hidden, I put the old code
	back in that keeps its entry at the bottom of the menu.
	
Fri Dec 15 19:16:31 GMT 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/gee.c, plug-ins/common/Makefile.am,
	plug-ins/common/plugin-defs.pl, plug-ins/common/gee_zoom.c,
	plug-ins/common/.cvsignore:
	Unhide 'gee' once more... come on Sven, we have nothing worth
	hiding any longer.  =)

2000-12-15  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/spheredesigner.c: re-added it to CVS.

	* plug-ins/common/.cvsignore
	* plug-ins/common/plugin-defs.pl: properly exclude it from the build
	and the distribution.

2000-12-15  Vidar Madsen  <vidar@picman.org>

	* plug-ins/common/spheredesigner.c: Removed from CVS, until
	it gets more usable.

2000-12-15  Simon Budig  <simon@picman.org>

	* plug-ins/common/convmatrix.c: Fixed the unuseable PDB-interface

	* plug-ins/script-fu/scripts/erase-rows.scm: Changed the script
	so that it actually does what it claims to do: *erase* the rows.

2000-12-15  Sven Neumann  <sven@picman.org>

	* app/picmanpreviewcache.[ch]: added new function picman_preview_scale().

	* app/channel.c
	* app/channels_dialog.c
	* app/picmanimage.c
	* app/layer.c
	* app/layers_dialog.c
	* app/lc_dialog.c
	* app/nav_window.c: unified preview drawing code. Previews are never
	generated larger than the canvas size. Image and channel previews are
	scaled up to the desired size, so does the navigation window. The 
	layer previews are not yet scaled up again since we can not use
	picman_preview_scale here. I have removed the preview_cache priming 
	code since we don't need it any longer and it caused bad results.

2000-12-15  Michael Natterer  <mitch@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c: added support for the
	PICMAN_HELP_ROOT environment variable: Let it point to some
	directory to let the help browser read it's files from there.
	Useful for viewing the autogenerated stuff in <picman-help>/help/C/picman/.

2000-12-15  Michael Natterer  <mitch@picman.org>

	* configure.in
	* help/*: Updated Picman-Help. See help/ChangeLog for details.

	* app/channels_dialog.c
	* app/gdisplay.c
	* app/gradient.c
	* app/layers_dialog.c
	* app/menus.c
	* app/paths_dialog.c
	* app/preferences_dialog.c
	* app/resize.c: fixed menu paths.

	* plug-ins/helpbrowser/helpbrowser.c: load a special
	"undocumented_filter.html" page if a filter was not found.
	Adapted to the new help structure.

2000-12-14  Sven Neumann  <sven@picman.org>

	* app/nav_window.c: missed a place that needed the same fix for
	bug #31098.

2000-12-14  Sven Neumann  <sven@picman.org>

	* app/commands.c (image_resize_callback): 
	call lc_dialog_update_image_list() when resizing the image so the
	image preview is updated in the l&c dialog.

2000-12-14  Vidar Madsen  <vidar@picman.org>

	* plug-ins/picmanressionist/brush.c: Fix to avoid a warning when
	closing window.

	* plug-ins/picmanressionist/Paper/struc.pgm
	* plug-ins/picmanressionist/Paper/Makefile.am
	* plug-ins/picmanressionist/Presets/ApplyCanvas
	* plug-ins/picmanressionist/Presets/Makefile.am: Added a paper and
	preset on request from Bex, to simulate "Apply Canvas".

2000-12-14  Sven Neumann  <sven@picman.org>

	* app/layers_dialog.c
	* app/lc_dialog.c
	* app/nav_window.c: another try on bug #31098. This time limited the
	preview scale ratio in the calling functions. Please test!
	
	* app/picmanimage.c: small cleanup

2000-12-14  Sven Neumann  <sven@picman.org>

	* app/menus.c: modified debug function to help to find missing 
	help files.

2000-12-14  Sven Neumann  <sven@picman.org>

	* app/picmanimage.c
	* app/layer.c
	* app/layers_dialog.c
	* app/nav_window.c: cleaned up these files while trying to find a 
	fix for #31098. No real changes, the bug is still present :-(

2000-12-13  Sven Neumann  <sven@picman.org>

	* app/color_picker.c
	* app/convert.c
	* app/curves.c
	* app/picmandrawable.c
	* app/picmanimage.c
	* app/picmanimage.h
	* app/image_map.c
	* app/info_window.c
	* app/layer.c
	* app/undo.c: couldn't resist: renamed TYPE_HAS_ALPHA() to
	PICMAN_IMAGE_TYPE_HAS_ALPHA()

        * plug-ins/common/sunras.c
	* plug-ins/common/xwd.c: small cleanups
	
2000-12-13  Vidar Madsen  <vidar@picman.org>

	* plug-ins/common/spheredesigner.c: Small algo improvements.

2000-12-12  Vidar Madsen  <vidar@picman.org>

	* plug-ins/common/spheredesigner.c: Nicer bumpmapping.

2000-12-12  Kelly Martin  <kmartin@kiva.net>

	* plug-ins/perl/Picman/Fu.pm: fixed default JPEG quality (0.75
	  instead of 75 -- jpeg plug-in wants a fraction)

2000-12-12  Austin Donnelly  <austin@picman.org>

	* plug-ins/common/autocrop.c: Fixed #7689: plug-in-autocrop shows
	    a progress dialog when run non-interactively.  In fact, I also
	    cleared up the initialisation code, and made it more robust.

2000-12-12  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: Continue after errors (#28799)

Mon Dec 11 22:52:43 GMT 2000 Andy Thomas <alt@picman.org>

	* app/picmanimage.c
        * app/layers_dialog.c
	
	Backed out some changes that caused problems with the Nav preview
	and small sized images.

2000-12-11  Sven Neumann  <sven@picman.org>

	* app/channel.c (channel_invalidate_previews): check for NULL pointer
	
	* app/fileops.c: if saving and loading images at the same time, the
	PDB obviously manages to mangle return values. By checking the 
	validity of the returned image id we avoid to crash as described in
	bug #26788.
	
	* app/module_db.c: unload modules from the idle_loop as suggested
	by Austin in #5745.

Mon Dec 11 20:29:55 GMT 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/gee.c: v1.05: Sub-pixel jitter is
	now less severe and less coarse.

2000-12-11  Sven Neumann  <sven@picman.org>

	* app/paint_core.c: clamp scale factor between 0.0 and 1.0 to avoid
	problems with broken XInput drivers. Should fix bug #18913.

2000-12-11  Sven Neumann  <sven@picman.org>

	* configure.in
	* plug-ins/print/Makefile.am: removed obsolete checks for lpc, lpstat
	and friends

	* plug-ins/perl/examples/blended2
	* plug-ins/perl/examples/translogo: register with the correct image
	types. Fixes bug #10675.
	
2000-12-11  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/font_selection.c
	* plug-ins/winsnap/winsnap.c: use new GTK+ API
	s/gtk_toggle_button_set_state/gtk_toggle_button_set_active/
	s/gtk_container_border_width/gtk_container_set_border_width/
	
2000-12-11  Sven Neumann  <sven@picman.org>

	* plug-ins/common/convmatrix.c: return with an error message if
	called with drawables smaller than 3 pixels. Fixes bug #30870.

2000-12-11  Sven Neumann  <sven@picman.org>

	* app/gradient.c: use the correct pointer when dumping gradients to
	stderr in case of problems. Sort of fixes bug #31510.

2000-12-11  Sven Neumann  <sven@picman.org>

	* app/picmanhistogram.c (picman_histogram_calculate_sub_region): 
	corrected incrementor for the bpp == 4 case. Fixes bug #34738.

2000-12-11  Vidar Madsen  <vidar@picman.org>

	* plug-ins/picmanressionist/repaint.c: Fixed a bug appearing
	when using Tileable + Center of Brush coloring, closing #14221.

2000-12-11  Vidar Madsen  <vidar@picman.org>

	* plug-ins/picmanressionist/repaint.c: Fixed a bug when using
	Paper Relief, closing bug #34667.
	* plug-ins/picmanressionist/picmanressionist.c: Moved the Presets tab
	to the far left.

2000-12-11  Sven Neumann  <sven@picman.org>

	* app/edit_selection.c
	* app/picmanimage.c
	* app/layer_select.c
	* app/layers_dialog.c: when computing a preview, limit the scale ratio
	to a maximum of 1.0. By doing so we avoid to scale drawables up if the
	image (canvas) size becomes larger than the drawable. Fixes bug #31098.

	* app/picmanpreviewcache.[ch]: indented

2000-12-11  Michael Natterer  <mitch@picman.org>

	* configure.in: forgot to bump picman-print's version number and
	release date when updating to 4.0.4

Sat Dec  9 11:43:33 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.30 release (1.2final)

2000-12-07  Vidar Madsen  <vidar@picman.org>

	* plug-ins/picmanressionist/Brushes/{Makefile.in,snow1.pgm}: Added a
	brush contributed by Nevit <nevilo@yahoo.com>.

2000-12-07  Sven Neumann  <sven@picman.org>

	* plug-ins/MapObject/mapobject_image.c: set the background using 
	picman_palette_get_background() in non-interactive mode too.

2000-12-03  Sven Neumann  <sven@picman.org>

	* app/picmanimage.c: when merging layers, do not set the layer mode 
	of the bottom layer to NORMAL_MODE if it is DISSOLVE_MODE since the 
	latter does not work on the projection with the lower layer but on 
	the layers alpha channel. Fixes bug #7829.

2000-12-03  Michael Natterer  <mitch@picman.org>

	* app/layers_dialog.c: when applying or deleting the layer mask,
	we have to call layers_dialog_set_menu_sensitivity() ourselves
	whenever calling layer_widget_layer_flush() instead of
	gdisplays_flush().

2000-12-03  Michael Natterer  <mitch@picman.org>

	* plug-ins/gflare/gflare.c
	* libpicman/picmanunitmenu.c
	* libpicman/picmanwidgets.c: set separators of option menus insensitive.
	(see Sven's fix below).

	* app/layers_dialog.c: set "Merge Down" insensitive for
	the bottom layer.

2000-12-03  Sven Neumann  <sven@picman.org>

	* app/layer.c
	* app/layers_dialog.c
	* plug-ins/common/jpeg.c: reviewed code in an attempt to fix the 
	crash-on-jpeg-save. The only thing that I have changed (despite 
	lots of indentation) is that we now connect the preview rewdraw
	using gtk_signal_connect_while_alive() which should keep picman from
	trying to create previews of nonexistant drawables.
	
2000-12-03  Sven Neumann  <sven@picman.org>

	* libpicman/picmanunitmenu.c (picman_unit_menu_new): set empty menu_items
	used as separators insensitive. Something seems to be wrong in GTK+
	when it comes to separators in option_menus. This change seems to 
	work around this problem.

2000-12-03  Sven Neumann  <sven@picman.org>

	* PLUGIN_MAINTAINERS: changed email address of Wolfgang Hofer
	
	* plug-ins/gap/README
	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/gap/gap_decode_xanim.c
	* plug-ins/gap/gap_filter_codegen.c
	* plug-ins/gap/gap_filter_foreach.c
	* plug-ins/gap/gap_filter_main.c
	* plug-ins/gap/gap_frontends_main.c
	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_lib.h
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_match.c
	* plug-ins/gap/gap_mod_layer.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_mov_dialog.h
	* plug-ins/gap/gap_mov_exec.c
	* plug-ins/gap/gap_mov_exec.h
	* plug-ins/gap/gap_navigator_dialog.c
	* plug-ins/gap/resize.c
	* plug-ins/gap/sel-to-anim-img.scm: 
	applied patches provided by Wolfgang Hofer <hof@picman.org>
	
	- Bugfix: replaced MovePath's intern Algorithm for calculating 
	  Values between controlpoints (the old Algorithm fails sometimes
	  especially if only 1 controlpoint is used, or if you have n 
	  frames and n-1 controlpoints)
	- new e-mail adress
	- replaced sprintf (used g_strdup_printf g_snprintf)
	- procedures for gap locks, check for locking processes pid
	- NONINTERACTIVE PDB Interface(s) for MovePath 
	  plug_in_gap_get_animinfo, plug_in_gap_set_framerate    
	- FRAME based Stepmodes for MovePath
	- increased controlpoint limit GAP_MOV_MAX_POINT (256 -> 1024)

2000-12-02  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/README
	* plug-ins/print/RELNOTES
	* plug-ins/print/print-util.c: Updated to bugfix release 4.0.4

2000-11-30  Andy Thomas <alt@picman.org>

	* app/curves.c
        * app/levels.c
	
	Fix for picman bug #33403. The curves and levels dialogs should now
	work in GRAYA images.

2000-11-29  Austin Donnelly  <austin@picman.org>

	* app/curves.c: Applied patch from David Hodson
	    <hodsond@ozemail.com.au> to fix Bug#33399: PICMAN crashes when
	    applying curve to Grayscaled image when preview is off.
	    Previously the curves tool attempted a reset when changing
	    image, but didn't correctly do this.  Now it has the
	    (more useful) behaviour of doing a partial reset, where the
	    curve remains the same across multiple invocations, allowing
	    you to apply the same tweak to multiple images.  The internal
	    state relevant to image type/depth is correctly reset,
	    stopping the segfault behaviour seen before.

	    Still no fix for Bug#33403: Curves/Levels Tool does not work
	    on GRAYA-Images.

2000-11-27  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.c: use RINT() instead or rint(). Sprinkled
	some GPOINTER_TO_INT() and other macros where we used to cast
	directly. Minor doc fixes.

2000-11-27  Sven Neumann  <sven@picman.org>

	* libpicman/picmanwidgets.c (picman_int_adjustment_update): use rint(). 
	The old behaviour was broken for neagtive values.

2000-11-27  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/README
	* plug-ins/print/RELNOTES
	* plug-ins/print/print-pcl.c: Version 4.0.3

2000-11-27  Austin Donnelly <austin@picman.org>

	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/ifscompose/ifscompose_storage.c: Element labels now
	    properly preserved across multiple runs.  Allow run with same
	    values.  This is a partial fix for Bug#9156: bug in ifscompose.
	    Not all the behaviour described in that bug report could be
	    reproduced.  Thanks to David Hodson <hodsond@ozemail.com.au>
	    for putting the work in to sort this out and produce the patch.

2000-11-26  Sven Neumann  <sven@picman.org>

	* PLUG_IN_MAINTAINERS
	* plug-ins/common/unsharp.c: changed email address of Winston Chang 

	* app/gdisplay_color_ui.c: applied a modified version of another
	patch sent by David Odin <David.Odin@bigfoot.com> which sets the
	sensitivity of the buttons in the dialog according to the possible
	actions.
	
2000-11-26  Sven Neumann  <sven@picman.org>

	* picman_splash.ppm: new splash, original photo taken by Garrett.

2000-11-24  Garry R. Osgood <gosgood@idt.net>

	* app/smudge.c:
 	Defer tool initialization to first motion event.
	Fixes latency problem that gave rise to Shift-smudge bug. 
	Closes #30778. 

2000-11-24  Sven Neumann  <sven@picman.org>

	* INSTALL: mention that PICMAN will not compile, nor work with 
	unstable GTK+ version 1.3.x.

2000-11-21  Sven Neumann  <sven@picman.org>

	* app/gdisplay_color.c
	* app/gdisplay_color_ui.c: applied patches proposed by 
	David Odin <David.Odin@bigfoot.com>. Fixes segfault when removing
	a display filter twice.

2000-11-21  Austin Donnelly  <austin@picman.org>

	* plug-ins/common/exchange.c: fixed buffer overrun when previewing
	    an image with alpha that was causing segfaults on Linux.
	    Fixes Bug#32860.

2000-11-20  Sven Neumann  <sven@picman.org>

	* app/convert.c (build_palette_button): changed the logic that sets
	the default for "Custom Palette" so it goes through the whole list
	instead of stopping at the "Web" palette. The Indexed-Conversion 
	dialog now also remembers palettes appearing after the "Web" palette.

2000-11-19  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: Little-endian fix for 16bit TIFF
	* plug-ins/common/pcx.c: Use same endian-detect as other plug-ins

2000-11-19  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanenv.c: a missing newline confused gtk-doc. Minor doc 
	fixes.

2000-11-18  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tga.c: Fix alleged problem with small images

2000-11-18  Michael Natterer  <mitch@picman.org>

	* plug-ins/rcm/rcm_pixmaps.h: removed.

	* plug-ins/rcm/pixmaps/.cvsignore
	* plug-ins/rcm/pixmaps/rcm_360.xpm
	* plug-ins/rcm/pixmaps/rcm_a_b.xpm
	* plug-ins/rcm/pixmaps/rcm_ccw.xpm
	* plug-ins/rcm/pixmaps/rcm_cw.xpm: new files.

	* plug-ins/rcm/Makefile.am
	* plug-ins/rcm/rcm_callback.c
	* plug-ins/rcm/rcm_dialog.c: changed accordingly.

	The old method was producing warnings because not all pixmaps
	were used in all files. Also changed the XPMs a bit now that I
	could load them into the PICMAN... they are still ugly, though.

2000-11-18  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/Makefile.am
	* plug-ins/print/print.c: Oops, didn't see Sven's patch when applying
	a different one to both sourceforge branches:

	Don't define LOCALE in Makefile.am but check if the macro
	INIT_I18N_UI exists and use it in that case.

2000-11-18  Michael Natterer  <mitch@picman.org>

	* app/fileops.c
	* libpicman/picmanquerybox.[ch]: Make sure that we don't try to destroy
	query_boxes twice or try to disconnect not-any-more connected
	handlers.

	* app/color_notebook.c
	* app/picmancontext.[ch]
	* app/picmanhelp.[ch]
	* app/lc_dialog.[ch]
	* app/menus.h
	* app/preferences_dialog.c
	* app/tools.[ch]
	* libpicman/picmancolorbutton.[ch]
	* libpicman/picmandialog.[ch]
	* libpicman/picmanexport.[ch]
	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanhelpui.[ch]
	* libpicman/picmanpatheditor.[ch]
	* libpicman/picmanpixmap.[ch]
	* libpicman/picmansizeentry.[ch]
	* libpicman/picmanui.[ch]
	* libpicman/picmanunitmenu.[ch]
	* libpicman/picmanwidgets.[ch]: in a coding attack, changed help_data
	and many other strings passed to UI functions to (const gchar *).
	As a consequence, I had to fix lots of warnings ;)

	* plug-ins/common/tga.c
	* plug-ins/imagemap/imap_main.c: fixed warnings.

	Code cleanup and indentation all over the place.

2000-11-16  Sven Neumann  <sven@picman.org>

	* plug-ins/print/Makefile.am
	* plug-ins/print/print.c: set the locale to "picman-std-plug-ins". We
	do this by defining LOCALE in the Makefile so the picman-print people
	can define their own value and we can still continue to use the same 
	C files that ship with the standalone picman-print package. Thanks to
	Zbigniew Chyla <cyba@gnome.pl> for pointing this out.

2000-11-15  Sven Neumann  <sven@picman.org>

	* app/fileops.c: we used to g_free memory returned by strdup() here!
	Also we used to append DIR_SEPARATORs to the filename shown in the
	file_selector even if it already ended in one. Fixed all this, closed
	a memleak and cleaned up the code.

Mon Nov 13 01:28:24 PST 2000 Manish Singh <yosh@picman.org>

	* plug-ins/common/url.c: set all the locale variables we can, to
	make sure we get predictable output from wget

2000-11-11  Simon Budig <simon@picman.org>

	* app/interface.c: fixed #10554 by requesting a window
	with the max. size of 0.75*screen_width x 0.75*screen_height.
	These 75% value is taken from the shrink_wrap code and
	probably should be configurable...

2000-11-11  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/gpb.c: Implement the noninteractive run mode for
	file_gih_save. Whew, it took some trial-and-error iterations to
	figure out how to call this from script-fu, for testing, because
	of the int8 and string array args. Include script-fu snippet in
	comment for reference.

2000-11-11 Garry R. Osgood <gosgood>@idt.net

	* app/picmanbrushpipe.c
	Apropos to #8150, double frees of RGB
	mask and brush name strings belonging to the the 
	last successfully constructed pixmap brush of a pipe 
	occured due to dangling pointers to these regions left 
	in the temporary GPattern [picmanbrushpipe.c CVS-1.27 Lines
	396 ff]. Upon failure to load an n-th pixmap, the
	GPattern would be released first, also releasing n-1
	pixmap's name and RGB mask. These would again be freed
	in pipe deconstruction. Heap memory would
	remain corrupt for any type "2" variant of the bug, as 
	defined by Raphael Quinet in his original #8150 report.
 	Examples: (1) the rank cited in the pipe header is 
	inconsistent with actual pixmap content of pipe, or (2)
	a component pixmap is missing or corrupt.

2000-11-11  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/picmanressionist/picmanressionist.c (readdirintolist_real,
	reselect): Use '/' instead of G_DIR_SEPARATOR. We are scanning a
	"preset" file here, with file names always in Unix format. Thanks
	to Jean-Louis HAMEL for this fix.

Thu Nov  9 14:29:20 PST 2000 Manish Singh <yosh@picman.org>

	* AUTHORS
	* app/authors.h
	* tools/authorsgen/contributors: Correct Ray Lehtiniemi's name

2000-11-09  Sven Neumann  <sven@picman.org>

	* plug-ins/gap/gap_lib.c: removed some debugging printf statements 
	that were accidentally left in the code.

2000-11-09  Michael Natterer  <mitch@picman.org>

	* app/fileops.c: added a confirm dialog for <Image>/File/Revert
	as suggested by Marc. The old behaviour of simply reverting
	withuot asking is questionable because the "Revert" menu item is
	directly below "Save as..."

2000-11-08  Sven Neumann  <sven@picman.org>

	* plug-ins/common/tile.c (tile): sanity check new width and height.
	Wrong values might result in a divide by zero.

2000-11-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/bz2.c
	* plug-ins/common/gz.c
	* plug-ins/common/mail.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/url.c: applied a (modified) version of
	picman-quinet-20001108-1.patch which adds proper checking of the
	return value of waitpid(). Removed the lines adding
	picman_signal_private() because of the fix below.

	* libpicman/picman.c: Don't install a SIGCHLD signal handler but simply
	call picman_signal_private(SIGCHLD, SIG_DFL, SA_RESTART) instead.

	This is IMHO the right thing to do because the reason for the
	introducion of the signal handler was the SA_RESTART feature
	and not the handler itself.

2000-11-08  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/scripts/perspective-shadow.scm: fixed bug 
	#10151 (Script-fu shadow perspective doesn't work properly).

2000-11-08  Sven Neumann  <sven@picman.org>	

	* plug-ins/common/jpeg.c: fixed the option_menu code for the
	DCT and subsampling options. Fixes bug #31253.

2000-11-08  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: cleaned up the code and 
	moved interface variables into a structure, thus getting rid of 
	most global variables. When a script is run, we now check that 
	there's no Script-Fu interface active and fail silently if there 
	is one. This is an ugly workaround for the fact that the script-fu 
	interpreter can not handle multiple scripts at the same time. 
	Sort of fixes bug #30665.

	While I was on it, I added proper error reporting for script-fu
	which should help significantly when debugging script-fus.
	
	* plug-ins/script-fu/script-fu.c: indentation and small cleanups.
	
	* plug-ins/script-fu/scripts/title-header.scm: fixed this script
	which had been broken for a long time.

2000-11-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/fp/fp_gdk.c
	* plug-ins/fp/fp_gtk.c: #include <libpicman/picmanmath.h> g* types, stuff.

2000-11-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/RELNOTES
	* plug-ins/print/print-canon.c: Version 4.0.2 (this time the
	official one, not just the README saying 4.0.2 :)

2000-11-08  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* picman.spec.in
	* user_install
	* gtkrc_user: new file gtkrc_user which gets installed as
	~/.picman-1-1/gtkrc (We used to parse the same file twice if the
	user didn't change the user-specific gtkrc. The new file has
	comments only).

	* app/app_procs.c: g_free() the user gtkrc filename after use.

	* libpicman/picmanui.c: parse the user gtkrc here too.

2000-11-07  Sven Neumann  <sven@picman.org>

	* app/text_tool.c (text_get_extents): use gdk_fontset_load() as we
	do in text_render(). Supposed to fix #31099.

2000-11-07  Sven Neumann  <sven@picman.org>

	* plug-ins/common/screenshot.c: applied a patch from Raphael
	Quinet which adds a check for the return value of waitpid().

2000-11-06  Daniel Egger <egger@suse.de>

	* configure.in: Added new language hr (Croatian).

2000-11-06  Sven Neumann  <sven@picman.org>

	* plug-ins/gap/gap_filter_foreach.c
	* plug-ins/gap/gap_filter_pdb.c
	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_mod_layer.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_split.c: check if return_value of PDB calls is
	!= PICMAN_PDB_SUCCESS, not == FALSE. Use PICMAN_RUN_WITH_LAST_VALS on
	consecutive calls of picman_file_save procedures, so the values set
	in the first interactive call are used for all frames.
		
2000-11-06  Sven Neumann  <sven@picman.org>

	* app/convolve.[ch]: moved the new enum Garry introduced recently
	from the header to the .c file so it does not get exported to the
	PDB by enumgen.pl.

2000-11-05  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c:  Add some comments.  Delete some commented code.
	* app/picmanbrushlist.c:  Make sure that we are not using bad file names
	for generated brushes.

2000-11-04 Garry R. Osgood <gosgood@idt.net>

	* app/convolve.c
	* app/convolve.h
	When the  convolution tool finds itself
	within a brush-mask width of the image
	edge it internally allocates pseudo pixels
	beyond the image edge. This allows the center
	of the convolution matrix to operate right
	at the image edge. closes #19285. See gorey details
	at http://idt.net/~gosgood/picman-patch/patch08.html.

2000-11-04  Michael Natterer  <mitch@picman.org>

	* configure.in
	* plug-ins/print/README
	* plug-ins/print/RELNOTES: ...and 4.0.2 :)

2000-11-04  Michael Natterer  <mitch@picman.org>

	* configure.in
	* plug-ins/print/RELNOTES: picman-print version 4.0.1

2000-11-03  Sven Neumann  <sven@picman.org>

	* app/app_procs.c (app_init): parse the users gtkrc as found in
	~/.picman-1.1 after the systemwide gtkrc has been parsed.

	* user_install.bat: reverted Tor's change since we use the file
	again now.
	
2000-11-03  David Monniaux  <monniaux@quatramaran.ens.fr>

	* autogen.sh: some regexps used to parse the output of
	  <some tool> --version did not work with Solaris sed.

2000-11-03  Nick Lamb  <njl195@zepler.org.uk>

	* PLUGIN_MAINTAINERS: I'll take BMP and TGA too, any more?

2000-11-03  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tga.c: Shiny new version. Report bugs to me.

2000-11-02  Tor Lillqvist  <tml@iki.fi>

	* user_install.bat: Don't copy gtkrc any longer, not used.

2000-10-31  Sven Neumann  <sven@picman.org>

	* plug-ins/print/escputil.1.in: Robert L Krawitz <rlk@alum.mit.edu>
	filled the empty spaces.
	
Mon Oct 30 22:55:32 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.29 release (1.2final)

2000-10-29  Sven Neumann  <sven@picman.org>

	* configure.in
	* plug-ins/print/Makefile.am
	* plug-ins/print/escputil.1.in: added framework for a manpage
	describing our new tool, escputil. Someone needs to fill in 
	some descriptive words here...

	* picman.spec.in:
	* debian/picman1.1.files: added entries for escputil and escputil.1
	
2000-10-29  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/escputil.c
	* plug-ins/print/.cvsignore
	* plug-ins/print/Makefile.am: new tool which installs under
	<prefix>/bin and does stuff like cleaning and adjusting your
	printer's head.

	* plug-ins/print/README
	* plug-ins/print/RELNOTES: these files already say 4.0.1 now but I
	didn't tag the sourceforge tree of bumped the version number in
	Makefile.am (it's just about getting in the new executable as early
	as possible).

2000-10-29  Sven Neumann  <sven@picman.org>

	* plug-ins/common/screenshot.c: tuned the dialog layout and cleaned
	up the code. No real changes.

2000-10-29  Michael Natterer  <mitch@picman.org>

	* app/main.c: the argv[] element containing "-g" or "--picmanrc"
	was not set to NULL, fixed broken (tabsize != 8) indentation.

2000-10-29  Michael Natterer  <mitch@picman.org>

	* app/menus.c: after getting confused again by the boolean
	"initialize" variable, I finally decided to reverse it's
	logic and changed it to "menus_initialized".

2000-10-29  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/Makefile.am
	* plug-ins/print/README
	* plug-ins/print/RELNOTES
	* plug-ins/print/print-canon.c
	* plug-ins/print/print-pcl.c: Picman-Print Version 4.0.0

2000-10-28  Tor Lillqvist  <tml@iki.fi>

	* app/picmanrc.c (parse_picmanrc_file) 
	* libpicman/picmanenv.c (picman_directory): Make sure the directory
	doesn't get double path separators in case HOME ends with one. On
	Windows, if the user has set his HOME to \, we get into trouble
	when we try to access a path like \\_picman1.1\picmanrc. Windows
	thinks it's an UNC path to a network server called "_picman1.1", and
	the program hangs for a moment.

2000-10-28  Michael Natterer  <mitch@picman.org>

	* app/picmandrawable.[ch]
	* libpicman/picmansizeentry.c: did some code review: s/0/NULL/,
	s/sprintf/g_snprintf/, spacing.

2000-10-27  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/grid.c
	* plug-ins/common/spread.c
	* plug-ins/common/tile.c
	* plug-ins/gflare/gflare.c: RINT (picman_size_entry_get_refval ()),
	indentation.

2000-10-27  Michael Natterer  <mitch@picman.org>

	* app/resize.c: same RINT (picman_size_entry_get_refval ()) fix as
	below and cleanup.

2000-10-26  Sven Neumann  <sven@picman.org>

	* app/channel_ops.c (offset_ok_callback): avoid modulo operation on 
	negative values.

	* app/channel_ops.c
	* app/crop.c
	* app/file_new_dialog.c
	* app/layers_dialog.c
	* app/preferences_dialog.c
	* app/rotate_tool.c
	* app/scale_tool.c: use RINT() when assigning the result of 
	picman_size_entry_get_refval() to an integer.

Thu Oct 26 10:58:23 PDT 2000 Manish Singh <yosh@picman.org>

	* INSTALL: clear up use of --prefix

2000-09-30  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: Fix #27994 (corruption of tiled tiffs)

2000-10-24  Daniel Egger <egger@suse.de>

	* app/image_render.c:
	* app/tile.h: Revert last patch because it broke 
	the renderer for some people.

2000-10-24  Daniel Egger <egger@suse.de>

	* app/image_render.c:
	* app/tile.h: Removed the JIT calculation of the tile_shift
	value and replaced it by a constant called TILE_SHIFT in tile.h.
	This gives the compiler a better chance to optimize the code.
	Also added a few consts all over the place to give the compiler
	some hints.

2000-10-24  Simon Budig  <simon@picman.org>

	* picman_splash.ppm  A new splash-screen  (not for 1.2...)    :-)

2000-10-24  Michael Natterer  <mitch@picman.org>

	* libpicman/picmansizeentry.c: don't ask for PICMAN_UNIT_PIXEL's number
	of digits, code cleanup.

2000-10-22  Sven Neumann  <sven@picman.org>

	* app/edit_selection.[ch]: plugged memleak (similar to the one that 
	was present in gtkutil_compress_motion()) in the key snooper.

	Round moves to nearest integer instead of truncating the value.
	This seems to fix the reported redraw problems when moving 
	selections at low zoom levels.
	
	Cleaned up the code a little and converted enum values to uppercase.

	* app/bezier_select.c
	* app/free_select.c
	* app/fuzzy_select.c
	* app/move.c
	* app/rect_select.c
	* app/text_tool.c: updated to use the new EditType enum values.
	
	* app/picmanrc.c: minor optimization in the GList handling.

	* app/layer.[ch]: removed unused functions.
	
	* app/menus.c: removed "Dump Items (Debug)" menu entry.

2000-10-21  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/RELNOTES: new file

	* plug-ins/print/Makefile.am
	* plug-ins/print/README
	* plug-ins/print/print-escp2.c
	* plug-ins/print/print-pcl.c
	* plug-ins/print/print-printers.c
	* plug-ins/print/print-weave.c: Updated to the latest CVS version
	of picman-print's new stable "print-4_0_branch" branch.

2000-10-21  Austin Donnelly  <austin@picman.org>

	* plug-ins/common/nlfilt.c: minor patch from David Hodson
	    <hodsond@ozemail.com.au> to fix off-by-one error in previous fix.

	* AUTHORS
	* app/authors.h
	* tools/authorsgen/contributors: Add the prolific David Hodson
	to the authors list.

2000-10-19  Seth Burgess  <sjburges@picman.org>
  
    	* plug-ins/common/xbm.c : oops, should have compiled it before
	committing. 

2000-10-19  Seth Burgess  <sjburges@picman.org>

	* plug-ins/common/xbm.c : fixed parasite handling so passed in 
	strings and hotspots aren't overwritten with parasite.
	
	* plug-ins/common/csource.c : noted that has no non-interactive 
	runmode in the Help string.
	
	* plug-ins/common/gif.c
	* plug-ins/common/tiff.c : Added help string describing 
	picman-comment parasite to Help string.

2000-10-19  Sven Neumann  <sven@picman.org>

	* app/authors.h
	* tools/authorsgen/contributors: updated after Seth's change to
	AUTHORS. Please do always change the file contributors, then run
	authorsgen.

2000-10-18  Seth Burgess <sjburges@picman.org>

	*app/color_cmds.c
	*tools/pdbgen/pdb/color.pdb: patch from Tom Rathborne
	<tomr@aceldama.com> to enable ALPHA_LUT on the levels PDB 
	interface.

2000-10-18  Daniel Egger  <egger@suse.de>

	* app/resize.c: Add a patch from 
	Tino Schwarze <tino.schwarze@informatik.tu-chemnitz.de>
	to add a reset button to the image resize dialog.

2000-10-18  Sven Neumann  <sven@picman.org>

	* app/cursorutil.c (gtkutil_compress_motion): as Mitch pointed out we
	used to leak GList memory here. The new implementation should be 
	faster too, since it prepends to the list instead of appending.

2000-10-18  Michael Natterer  <mitch@picman.org>

	* plug-ins/helpbrowser/Makefile.am: added $GTK_CFLAGS and $GTK_LIBS.
	Closes #28491.

2000-10-18  Sven Neumann  <sven@picman.org>

	* picman.m4: as Garrick James correctly pointed out, GPlugInInfo was
	changed to PicmanPlugInInfo with version 1.1.24, not 1.1.20.

2000-10-17  Michael Natterer  <mitch@picman.org>

	* libpicman/picman.c: picman_uninstall_temp_proc(): free the original
	hash key _after_ removing the procedure from the hash table.

	I didn't observe any crash from this bug, but as the function
	is called *only* from

	- plug-ins/perl/Picman/Lib.c and
	- plug-ins/script-fu/script-fu-scripts.c

	it may have been the reason for various reported perl<->script-fu
	problems. Bug reporters, please check your bugs.

x2000-10-17  Sven Neumann  <sven@picman.org>

	* app/paint_funcs.c
	* app/pixel_processor.c
	* plug-ins/common/pix.c
	* plug-ins/gap/gap_pdb_calls.c
	* plug-ins/gdyntext/message_window.c
	* plug-ins/xjt/xjpeg.c: removed compiler warnings

2000-10-17  Tor Lillqvist  <tml@iki.fi>

	* app/makefile.mingw.in (picman_OBJECTS): Add
	resolution_calibrate.o.

	* app/user_install.c (user_install_run): Add missing semicolon.

	* tips/makefile.mingw (install): Copy picman_tips.txt separately. We
	used to get picman_tips.txt.txt because of `basename $f .utf8`.

Tue Oct 17 03:55:44 CEST 2000  Marc Lehmann <pcg@goof.com>
	Applied patch by Robert L Krawitz <rlk@alum.mit.edu>.

        * picman.m4: Don't barf if an old version of picmantool is used
        that doesn't support PICMAN_DATA_DIR and PICMAN_PLUGIN_DIR and
        Work correctly with versions of the Picman that don't have the
        PICMAN_CHECK_VERSION macro (if any).

Mon Oct 16 11:57:17 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.28 release (1.2pre)

Mon Oct 16 11:53:29 PDT 2000 Manish Singh <yosh@picman.org>

	* Makefile.am: added docs/Wilber.svg to EXTRA_DIST

	* plug-ins/common/pnm.c: fix usage of %s in a CHECK_FOR_ERROR
	(can't do that with that macro)

2000-10-16  Sven Neumann  <sven@picman.org>

	* libpicman/picmanfeatures.h.in: added PICMAN_HAVE_SYSCONFDIR

2000-10-16  Sven Neumann  <sven@picman.org>

	* picman.spec.in: make it work with my modifications of Ben's patch.

	* modules/cdisplay_gamma.c
	* modules/cdisplay_highcontrast.c: applied patch by Radim Kolar that
	initializes the interface of the configure dialogs correctly.

2000-10-15  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.c: picman_mem_size_entry_new(): fixed typo:
	s/4069/4096/ (reported by David Odin <David.Odin@bigfoot.com>)

2000-10-14  Sven Neumann  <sven@picman.org>

	* Makefile.am
	* configure.in
	* picman.1.in
	* picman.spec.in
	* picmanrc.5.in
	* user_install
	* user_install.bat
	* app/picmanrc.c
	* app/user_install.c
	* libpicman/Makefile.am
	* libpicman/picmanenv.[ch]: applied a modified version of 
	picman-che-20001013-2, a patch from Ben Gertzfield <che@debian.org> 
	that moves the system-dependant configuration files (picmanrc and 
	friends) into $prefix/etc/picman/1.1.
	
2000-10-14  Sven Neumann  <sven@picman.org>

	* plug-ins/print/Makefile.am
	* plug-ins/print/README
	* plug-ins/print/picman_main_window.c
	* plug-ins/print/print-canon.c
	* plug-ins/print/print-escp2.c
	* plug-ins/print/print-pcl.c
	* plug-ins/print/print-printers.c
	* plug-ins/print/print-util.c
	* plug-ins/print/print.c: updated picman-print to version 4.0b3

2000-10-14  Sven Neumann  <sven@picman.org>

	* app/user_install.c: applied picman-che-20001013-2, a patch from Ben 
	Gertzfield which fixes a misuse of "it's", changing it to "its".

2000-10-14  Daniel Egger  <egger@suse.de>

	* README.i18n: Added a few words about "Tip of the Day" translations
	by <miha.tomsic@guest.arnes.si>.

2000-10-14  Austin Donnelly  <austin@picman.org>

	* plug-ins/common/nlfilt.c: applied patch by David Hodson
	    <hodsond@ozemail.com.au> to fix Bugs:
	      #12299 NL Filter: shift by one pixel
	      #25968 NL Filter gives strange effects when using alpha > 0.5
	    Slightly changed from original patch to merge in Sven's
	    changes to nlfilt and correct a memory trampling bug.

2000-10-12  Kevin Turner  <acapnotic@users.sourceforge.net>

	(applying patch from maru)
	
	* plug-ins/common/blur.c: use double callback for double data.
	Why repeat count is a double, we'll never know.
	
	* plug-ins/perl/examples/xachshadow
	* plug-ins/perl/examples/xachlego: set non-zero limits on some 
	parameters.	
	

2000-10-09  Michael Natterer  <mitch@picman.org>

	* picman_splash.ppm: A nicer one (this time without
	version number) from our reporter in Picmanland,
	Gerald Brosseau <os2user@contact.net>

2000-10-09  Sven Neumann  <sven@picman.org>

	* picman.m4: try to make it work again

2000-10-07  Michael Natterer  <mitch@picman.org>

	* AUTHORS
	* app/authors.h: somehow Sven's latest "contributors" update
	didn't make it here.

2000-10-07  Michael Natterer  <mitch@picman.org>

	* picman_splash.ppm: it's not 1.1.26 but shiny NEW and UPDATED
	1.1.27... It's your chance: GET PICMAN STOCK OPTIONS.

2000-10-06  Sven Neumann  <sven@picman.org>

	* plug-ins/common/ps.c: applied picman-kirchgessner-001005-0
	Check if input filename keeps a space. Then enclose filename 
	in " or ' before passing to ghostscript. Otherwise it can't be 
	interpreted.

	* tips/picman_tips.pl.txt
	* tools/authorsgen/contributors: applied picman-art-20000926-0
	Updates to the polish translation by Artur Polaczynski 
	<artie@kmfms.com>

2000-10-05  Sven Neumann  <sven@picman.org>

	* plug-ins/rcm/rcm_dialog.c: fixed typo

Wed Oct  4 16:18:11 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.27 release (1.2pre)

2000-10-05  Simon Budig  <simon@picman.org>

	* app/paths_dialog.c: Made the import path command work as
	  intended. Now files can contain multiple paths (simply
	  cat path files together). Note, that this is a bugfix:
	  I just moved one line in the code - I like that...  :-)
	  
2000-10-04  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/*: a fresh snapshot of the CVS version from
	sourceforge. Added new files "AUTHORS" and "print-intl.h".

	The files are identical now (no need any more to add stuff like
	#include "config.h" to make them work in the PICMAN tree).

2000-10-03  Simon Budig  <simon@picman.org>

	* tools/picmanpath2svg.py: New file: Script to convert an exported
	  picman-path to a simple SVG-File.

2000-10-03  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/align_layers.c: Fixed cut'n'paste bug #26203.

2000-10-03  Michael Natterer  <mitch@picman.org>

	* plug-ins/gdyntext/gdyntext.c: added a missing "break". Fixes #26268.

Tue Oct  3 18:05:53 CEST 2000  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/exchange.c: Try to fix bug #26614.

2000-10-02  Simon Budig  <simon@picman.org>

	* docs/Wilber.svg: New file: Our favourite pet in a svg-version  :-)

2000-10-02  Michael Natterer  <mitch@picman.org>

	* app/undo.c: resize the cursor label if the shrink_wrap flag is
	set. Closes #21936.

2000-10-01  Michael Natterer  <mitch@picman.org>

	* app/picmanbrush.c
	* app/picmanbrushpipe.c
	* app/pattern_header.h
	* app/patterns.c: (Hopefully) fixed #8150.

	- If something goes wrong during loading, free the resp. object
	  immediately and close it's FD.
	- When destroying, check each pointer before freeing it.
	- Never use if (!picman_brush_load_brush() || !pattern_load())
	  but check the return values of both calls separately.
	  (the original code tried to free an already destroyed temp_buf).
	- stuff like below (s/sz_PatternHeader/sizeof(PatternHeader)/g etc.)

2000-09-30  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/*.c: Add <string.h> where it is called for

2000-09-29  Michael Natterer  <mitch@picman.org>

	* app/brush_edit.[ch]
	* app/brush_header.h
	* app/picmanbrush.[ch]
	* app/picmanbrushgenerated.[ch]
	* app/picmanbrushlist.[ch]
	* app/picmanbrushpipe.[ch]
	* app/picmancontext.h
	* app/picmanlist.[ch]
	* app/picmanobject.[ch]
	* app/picmanset.[ch]
	* app/picmansignal.[ch]
	* app/parasitelist.h: Lotsa fixes in the brush referencing code
	and cleanups in many GtkObjects:

	- Reference brushes correctly (call gtk_object_sink() after adding
	  them to the brush list). Don't crash when renaming a brush
	  multiple times.
	- Replaced all gtk_object_destroy() with gtk_object_unref|sink().
	- Removed the "Fake Picman object system" (picman_object_destroy() et.al.)
	  all over the place (while it's a good idea to have a common Picman
	  base object, it's totally useless to try to imitate Gtk's object
	  system).
	- s/sz_BrushHeader/sizeof(BrushHeader)/g
	- And of course various indentation and coding style paranoia changes
	  in all files I visited.

Fri Sep 29 03:10:10 CEST 2000  Daniel Egger  <egger@suse.de>

	* app/brightness_contrast.c:
	* app/brightness_contrast.h:
	* app/color_balance.c:
	* app/color_balance.h:
	* app/curves.c:
	* app/curves.h:
	* app/hue_saturation.c:
	* app/hue_saturation.h:
	* app/levels.c:
	* app/levels.h:
	* app/posterize.c:
	* app/posterize.h:
	* app/threshold.c:
	* app/threshold.h: Added *_dialog_hide functions which
	hides the dialog when open.
	
	* app/convert.c: Use them to hide dialog before converting
	image to indexed where the operations would crash the PICMAN.
	Closes bug #23104.

Thu Sep 28 16:03:09 CEST 2000  Daniel Egger  <egger@suse.de>

	* app/menus.c: Simplify a few help paths.

Wed Sep 27 12:54:20 PDT 2000 Manish Singh <yosh@picman.org>

	* tips/picman_tips.it.txt: updates from Daniele Medri <madrid@linux.it>

Wed Sep 27 12:47:53 PDT 2000 Manish Singh <yosh@picman.org>

	* Makefile.am: reordered po dirs in SUBDIRS, so dependencies on
	generated perl files are taken care of

Wed Sep 27 19:56:02 CEST 2000  Daniel Egger  <egger@suse.de>

	* app/convert.c:
	* plug-ins/print/print-weave.c:
	* plug-ins/winsnap/resource.h: Further C++ comments removals.

Wed Sep 27 19:43:05 CEST 2000  Daniel Egger  <egger@suse.de>

	* picmanbrush.c:
	* picmanbrush.h:
	* picmanbrushgenerated.c: Return failed brush load try
	in picman_brush_load_brush and react accordingly instead
	of crashing. Fixes part of bug #8150. I'd really
	appreciate if some expert could have a look in the
	pixmapbrush and brushpipe half of this problem.

Wed Sep 27 19:43:13 CEST 2000  Daniel Egger  <egger@suse.de>

	* app/paint_funcs.c: Implemented suggested solution for
	SPARC alignment problem by Jon Hazen. Fixes bug #21269.

Wed Sep 27 00:46:31 CEST 2000  Daniel Egger  <egger@suse.de>

	* app/channel_ops.c:
	* app/convert.c:
	* app/tile_manager.c:
	* plug-ins/Lighting/lighting_ui.c:
	* plug-ins/common/jpeg.c:
	* plug-ins/common/winclipboard.c:
	* plug-ins/sel2path/spline.c:
	* plug-ins/twain/tw_func.h:
	* plug-ins/twain/tw_util.h:
	* plug-ins/twain/twain.h:
	* plug-ins/winsnap/winsnap.c: Turned C++ style comments into
	C ones.

Mon Sep 25 17:04:39 PDT 2000 Manish Singh <yosh@picman.org>

	* plug-ins/print/print-canon.c: portability fix for varargs usage
	(already upstream)

Mon Sep 25 12:25:34 BST 2000  Austin Donnelly <austin@picman.org>

	* picman-remote.1.in: minor English fix.

2000-09-24  Seth Burgess  <sjburges@picman.org>
	
	* fileops.c : made the dialog have the name of whatever file was last
	selected on a multi-list.  Also fixed a memory leak while I was in
	there.  Closes #25821.

2000-09-25  Sven Neumann  <sven@picman.org>

	* app/resolution_calibrate.[ch]: new files. Code for the resolution 
	calibration dialog that used to live in user_install.c

	* app/Makefile.in
	* app/menus.c
	* app/preferences_dialog.[ch]
	* app/user_install.[ch]: added a Calibrate button to the Preferences
	
2000-09-23  Kevin Turner  <acapnotic@users.sourceforge.net>

	* plug-ins/pypicman/picmanmodule.c (newpfobject): use correct type for
	enums

	* plug-ins/pypicman/plug-ins/gtkcons.py (Console.run): set _ after
	evaluating a statement, so _ may be used as it is in the python
	interpreter.

Sat Sep 23 14:44:35 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.26 release (1.2pre)

Thu Sep 21 22:28:04 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/gfig/gfig.c
	
	Allowed gfig to paint in gradients. Iam sure it use to do this...

Thu Sep 21 17:41:26 CEST 2000  Daniel Egger  <egger@suse.de>

	* picman.m4: Also try new API when trying to link the
	test program.

2000-09-21  Tor Lillqvist  <tml@iki.fi>

	* libpicman/makefile.mingw.in
	* app/makefile.mingw.in
	* modules/makefile.mingw.in
	* plug-ins/makefile.mingw.in: Fix bug in ../config.h rule, cp src
	and dest were in wrong order.

	* config.h.win32: Remove alloca definition, current <glib.h> now
	handles that.

Wed Sep 20 22:40:25 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/gfig/gfig.c
	
	Fixed problems since the interface to picman-drawable-fill() has 
	changed. Also fixed some GTK warnings when GFig objects were
	loaded.

2000-09-20  Kevin Turner  <acapnotic@users.sourceforge.net>

	* plug-ins/pypicman/plug-ins/pdbbrowse.py (pars): Oops.  When we did
	s/PARAM_/PDB_/, we forgot to do s/6/4/ (the length of the prefix
	string changed).

	* plug-ins/pypicman/picmanmodule.c: Filter this through remove_cruft,
	finishing the libpicman renaming (and further ensuring that it won't
	work with older libpicmans).

2000-09-15  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/print/print-ps.c (ps_parameters): use g_strncasecmp()
	instead of strncasecmp().  More portable.

2000-09-15  Kevin Turner  <acapnotic@users.sourceforge.net>

	* app/gdisplay_color_ui.c (color_display_cancel_callback): 
	(color_display_ok_callback): add calls to dialog_unregister
	before destroying the dialog.  Closes bug "segfault after using
	'Display Filters'".

	* app/dialog_handler.c: add paranoid graceful robust checking
	of active_dialogs to all public methods, in an attempt to minimize
	damage in case some module causes an error like the one above.

2000-09-15  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: possible fix for #22805

2000-09-14  Jay Cox  <jaycox@picman.org>

	* app/pixel_processor.c: fix bug #24188.
	* app/preferences_dialog.c: allow num_processors to be set on
	the fly.

2000-09-14  Michael Natterer  <mitch@picman.org>

	* app/disp_callbacks.c: always position the menu inside the
	screen boundaries.

2000-09-14  Michael Natterer  <mitch@picman.org>

	* app/disp_callbacks.c: new function gdisplay_origin_menu_position()
	which positions the menu right of the arrow instead of underneath
	the mouse (where you always have the first entry selected, which
	is annoying).

2000-09-07  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/ps.c: Use fopen (xxx, "rb") on all systems. It
	is standard C, does no harm on systems where it isn't needed
	(Unix).

	* libpicman/picman.c (picman_extension_process): Use
	g_io_channel_win32_poll() instead of
	g_io_channel_win32_wait_for_condition().

Wed Aug 30 19:01:28 BST 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/animoptimize.c: Same again.

Wed Aug 30 18:49:01 BST 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/animationplay.c: Change default frame duration
	for consistancy.

Wed Aug 30 01:19:03 PDT 2000 Manish Singh <yosh@picman.org>

	* plug-ins/gap/resize.c
	* plug-ins/gdyntext/charmap.c
	* plug-ins/gdyntext/charmap_window.c
	* plug-ins/gdyntext/message_window.c
	* plug-ins/picmanressionist/color.c
	* plug-ins/picmanressionist/general.c
	* plug-ins/picmanressionist/orientation.c
	* plug-ins/picmanressionist/orientmap.c
	* plug-ins/picmanressionist/paper.c
	* plug-ins/picmanressionist/placement.c
	* plug-ins/picmanressionist/presets.c
	* plug-ins/picmanressionist/preview.c
	* plug-ins/picmanressionist/size.c
	* plug-ins/picmanressionist/sizemap.c: more COMPAT_CRUFT removal

2000-08-29  Piers Cornwell  <piers.cornwell@bigfoot.com>

	* plug-ins/Lighting/lighting_ui.c
	* plug-ins/Lighting/lighting_preview.h: Make Env and Bumpmap
	tabs show all the time and other minor changes.

2000-08-28  Piers Cornwell  <piers.cornwell@bigfoot.com>

	* plug-ins/Lighting/lighting_main.[ch]:
	* plug-ins/Lighting/lighting_preview.h:
	* plug-ins/Lighting/lighting_ui.c: Clean up and remove 
	non-functional zoom buttons.

2000-08-28  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/common/gz.c (save_image): FIX OS/2 problem with loading/saving
	gz files. Skip waitpid () for OS/2.

Sun Aug 27 22:41:36 CEST 2000  Marc Lehmann <pcgqgoof.com>
	
        * configure.in, plug-ins/perl/po/Makefile.in.in: moved po-perl to
        plug-ins/perl/po.
        * plug-ins/perl/po/*: added Makefile.in, Makefile.in.in and a few
        other files.

2000-08-28  Michael Natterer  <mitch@picman.org>

	* configure.in: added -DGTK_DISABLE_COMPAT_H to CPPFLAGS.

	* app/app_procs.c
	* app/gdisplay.c
	* app/layers_dialog.c
	* app/menus.c
	* app/tips_dialog.c
	* libpicman/picmancolorbutton.c
	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/bmp/bmpwrite.c
	* plug-ins/common/AlienMap.c
	* plug-ins/common/AlienMap2.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/animationplay.c
	* plug-ins/common/cubism.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/deinterlace.c
	* plug-ins/common/gee.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/iwarp.c
	* plug-ins/common/mail.c
	* plug-ins/common/pat.c
	* plug-ins/common/pixelize.c
	* plug-ins/common/plugindetails.c
	* plug-ins/common/png.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/sel_gauss.c
	* plug-ins/common/sinus.c
	* plug-ins/common/sparkle.c
	* plug-ins/common/spheredesigner.c
	* plug-ins/common/tga.c
	* plug-ins/common/tileit.c
	* plug-ins/common/vpropagate.c
	* plug-ins/common/warp.c
	* plug-ins/common/waves.c
	* plug-ins/common/wmf.c
	* plug-ins/flame/flame.c
	* plug-ins/fp/fp_gtk.c
	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_dbbrowser_utils.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_navigator_dialog.c
	* plug-ins/gap/gap_resi_dialog.c
	* plug-ins/gdyntext/gdyntext_ui.c
	* plug-ins/gfig/gfig.c
	* plug-ins/picmanressionist/brush.c
	* plug-ins/picmanressionist/picmanressionist.c
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/print/picman_main_window.c
	* plug-ins/rcm/rcm_callback.c
	* plug-ins/rcm/rcm_dialog.c
	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu-server.c
	* plug-ins/sel2path/sel2path_adv_dialog.c
	* plug-ins/xjt/xjt.c: removed COMPAT_CRUFT.

2000-08-28  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/script-fu.c: add missing cases to switch 
	statement.

2000-08-28  Sven Neumann  <sven@picman.org>

	* libpicman/picmanchainbutton.[ch]: emit a "toggled" signal. This
	is rarely useful since in most cases you want to connect to 
	the "changed" signal of the attached size_entries since you can
	not know otherwise which of the attached entries needs to be
	adjusted. Providing the signal is good style nevertheless.

2000-08-27  Michael Natterer  <mitch@picman.org>

	* libpicman/picman.c: NULL is the default log domain, not "".

2000-08-27  Piers Cornwell  <piers.cornwell@bigfoot.com>

	* plug-ins/Lighting/lighting_ui.c: s/Treshold/Threshold.

2000-08-27  Kevin Turner  <acapnotic@users.sourceforge.net>

	* libpicman/picman.h (union _PicmanParamData): 
	s/gint32 d_status/PicmanPDBStatusType d_status/

2000-08-27  Sven Neumann  <sven@picman.org>
	
	* Makefile.am
	* configure.in
	* po-perl: added new directory po-perl which takes care of 
	i18n for picman-perl the standard way. Tweaked pxgettext a little.
	
	* plug-ins/perl/Makefile.PL: disabled use of plug-ins/perl/po. 
	Marc will take care of either removing the po directory or moving
	the new stuff there.
	
2000-08-27 Alastair McKinstry <mckinstry@computer.org>

	* configure.in: Added Irish (ga) to ALL_LINGUAS.

2000-08-27  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/script-fu.c: These names were accidentally
	changed by my conversion-script. Reverted the change to make
	scripts work again. Thanks to Andy Thomas for spotting this.

2000-08-25  Tor Lillqvist  <tml@iki.fi>

	* app/cursorutil.c (picman_change_win_cursor): Plug memory leak. The
	bitmap and mask GdkBitmaps were leaked each time.

	* plug-ins/makefile.mingw.in: Really add it this time.

2000-08-25  Sven Neumann  <sven@picman.org>

	* PLUGIN_MAINTAINERS: updated
	
	* app/picmanhelp.c: if the internal helpbrowser is not found,
	offer to use Netscape instead.
	
2000-08-25  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.def: Add new entry points.

2000-08-25  Sven Neumann  <sven@picman.org>

	* tools/pdbgen/pdb/fileops.pdb
	* tools/pdbgen/pdb/selection.pdb: added a few more PDB wrappers

	* tools/pdbgen/pdb/image.pdb: tweaked the help and blurb strings
	
	* app/image_cmds.c
	* libpicman/picmanfileops_pdb.[ch]
	* libpicman/picmanimage_pdb.c
	* libpicman/picmanselection_pdb.[ch]: regenerated

	* plug-ins/common/bz2.c
	* plug-ins/common/gz.c
	* plug-ins/common/mail.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/url.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/gfig/gfig.c: use new PDB wrappers.
	For GDynText this change fixes a bug since it used to use the
	wrong number of arguments for picman_selection_load().

	* plug-ins/flame/rect.[ch]: removed compiler warning

2000-08-25  Sven Neumann  <sven@picman.org>

	* libpicman/picmanchannel.c
	* libpicman/picmanimage.c
	* libpicman/picmanlayer.c
	* libpicman/picmanproceduraldb.[ch]
	* libpicman/picmanselection.c: document wrapped PDB wrappers

2000-08-25  Sven Neumann  <sven@picman.org>

	* libpicman/picman*_pdb.c
	* tools/pdbgen/lib.pl: autogenerate gtkdoc comments for all PDB 
	wrappers.
	
Thu Aug 24 23:37:46 CEST 2000  Marc Lehmann <pcg@goof.com>

        * picman.m4: Make it work with 1.1 again without sacrifing 1.0
        detection.

2000-08-24  Sven Neumann  <sven@picman.org>

	* app/about_dialog.c: sorry, Tor, that wouldn't compile under gdk-1.2.

2000-08-24  Tor Lillqvist  <tml@iki.fi>

	* README.win32: Update, tell people the MSVC makefiles are not
	up-to-date.

	* */makefile.msc: Add warning about being outdated.

	* */makefile.cygwin: Remove.

	* */makefile.mingw.in: New files replacing the makefile.cygwin files.

	* */Makefile.am: Change correspondingly.

	* configure.in: Generate corresponding makefile.mingw files.

	* app/about_dialog.c: Include <gdk/gdkconfig.h> for
	GDK_USE_UTF8_MBS. Add UTF-8 version of a string.

	* libpicman/picman.c: Remove horrible Win32 hack, not needed any longer.

	* plug-ins/common/jpeg.c: Use g_message, not g_warning.

	* plug-ins/common/winclipboard.c
	* plug-ins/common/winprint.c: Remove COMPAT_CRUFT.

	* plug-ins/Lighting/lighing_apply.c: Fix for non-interactive mode
	bug, supplied by Piet van Oostrum.

	* tips/makefile.mingw: New file.

	* tips/Makefile.am: Add it.
	
2000-08-24  Sven Neumann  <sven@picman.org>

	* libpicman/picmancompat.h
	* libpicman/picmanexport.[ch]: renamed CAN_HANDLE_INDEXED and friends.

	* plugins/bmp/bmp.c
	* plugins/common/aa.c
	* plugins/common/csource.c
	* plugins/common/gbr.c
	* plugins/common/gicon.c
	* plugins/common/gif.c
	* plugins/common/gpb.c
	* plugins/common/header.c
	* plugins/common/hrz.c
	* plugins/common/jpeg.c
	* plugins/common/pat.c
	* plugins/common/pcx.c
	* plugins/common/pix.c
	* plugins/common/png.c
	* plugins/common/pnm.c
	* plugins/common/ps.c
	* plugins/common/psp.c
	* plugins/common/sunras.c
	* plugins/common/tga.c
	* plugins/common/tiff.c
	* plugins/common/xbm.c
	* plugins/common/xpm.c
	* plugins/common/xwd.c
	* plug-ins/fits/fits.c
	* plugins/gfli/gfli.c
	* plugins/sgi/sgi.c: ditto
	
2000-08-23 Garry R. Osgood <gosgood@idt.net>

	* app/image_map.c 
	A bit of refresh drawable code was misplaced 
	these many years ago, leading to the persistence 
	of color tool effects, as reported in Mihail 
	Milushev's nicely composed bug report. Closes #7626
	See http://bugs.gnome.org/db/76/7626.html for
	the gory details.

Wed Aug 23 17:31:35 PDT 2000 Manish Singh <yosh@picman.org>

	* configure.in: perl support for COMPAT_CRUFT

	* plug-ins/gap/gap_decode_mpeg_main.c: removed COMPAT_CRUFT

2000-08-24  Sven Neumann  <sven@picman.org>

	* plug-ins/gap/iter_ALT/*/*.inc: removed COMPAT_CRUFT

	* libpicman/picmancompat.h
	* libpicman/picmanenums.h
	* tools/pdbgen/enumcode.pl: reversed the COMPAT_CRUFT logic: 
	Default is not to include compatibility definitions. Define
	PICMAN_ENABLE_COMPAT_CRUFT to make old plug-ins compile against
	the 1.2 API.
	
	* plug-ins/print/print_picman.h: define PICMAN_ENABLE_COMPAT_CRUFT
	here since we will update picman-print in a few days anyway.

2000-08-24  Sven Neumann  <sven@picman.org>

	* plug-ins/rcm/rcm.[ch]
	* plug-ins/rcm/rcm_misc.[ch]
	* plug-ins/sel2path/sel2path.c
	* plug-ins/sgi/sgi.c
	* plug-ins/twain/twain.c
	* plug-ins/webbrowser/webbrowser.c
	* plug-ins/winsnap/winsnap.c
	* plug-ins/xjt/xjpeg.[ch]
	* plug-ins/xjt/xjt.c
	* plug-ins/xjt/xpdb_calls.c: removed COMPAT_CRUFT
	
2000-08-23  Sven Neumann  <sven@picman.org>

	* app/fileops.c: make the file_save dialog sensitive again if the
	user clicked "No" when asked if he wishes to overwrite a file.

	* app/picmanimage.c: when saving an undoable parasite, just do it
	without calling undo_push_cantundo(). Undoable parasites are used
	by many save plug-ins to attach a comment, but this operation 
	shouldn't prevent the user from using the undo_stack afterwards.
	The JPEG plug-in has an additional bug that I couldn't solve, so
	undoing after a Save As JPEG is still impossible.

	* app/undo_history.c: lame attempt to draw the clean symbol at the
	correct undo step. Not perfect but much better as before...
	
Wed Aug 23 20:15:21 BST 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/psd.c: removed some more debugging output.  Zzz.

2000-08-23  Sven Neumann  <sven@picman.org>

	* libpicman/picmanimage.[ch]
	* libpicman/picmanproceduraldb.[ch]: pass the return value of the
	PDB call through the wrapper functions.

2000-08-23  Sven Neumann  <sven@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/imagemap/imap_main.c
	* plug-ins/imagemap/imap_preview.[ch]
	* plug-ins/maze/handy.c
	* plug-ins/maze/maze.c
	* plug-ins/maze/maze_face.c
	* plug-ins/mosaic/mosaic.c
	* plug-ins/pagecurl/pagecurl.c: removed COMPAT_CRUFT

2000-08-23  Sven Neumann  <sven@picman.org>

	* plug-ins/common/threshold_alpha.c: avoid floating point exception
	on small images (reported by Steven Grady)

	* plug-ins/common/CML_explorer.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/nlfilt.c
	* plug-ins/common/scatter_hsv.c: same fix here
	
Tue Aug 22 18:42:04 PDT 2000 Manish Singh <yosh@picman.org>

	* configure.in: $srcdir != $builddir fix for PICMAN_CONTRIBUTORS

	* plug-ins/common/plugin-defs.pl: More tidying up after Daniel Egger

	* tools/pdbgen/Makefile.am: parse pdb defs only once for app and lib

	* tools/pdbgen/lib.pl
	* tools/pdbgen/pdb/procedural_db.pdb: all void rets now return a
	boolean for success/failure

2000-08-23  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/Makefile.am:
	* plug-ins/common/.cvsignore: Tidy up after Daniel Egger

Tue Aug 22 20:42:52 CEST 2000 Daniel Egger  <egger@suse.de>

	* plug-ins/gfli/gfli.c: removed COMPAT_CRUFT.

Tue Aug 22 20:42:52 CEST 2000 Daniel Egger  <egger@suse.de>
	
	* plug-ins/common/cubism.c: Made a few minor optimisations.

Tue Aug 22 18:26:06 CEST 2000 Daniel Egger  <egger@suse.de>
	
	* plug-ins/Makefile.am: 
	* plug-ins/common/Makefile.am:
	* plug-ins/sinus/Makefile.am:
	* plug-ins/sinus/sinus.c:
	* plug-ins/sinus/sinus_logo.h:
	* plug-ins/common/sinus.c:
	* plug-ins/common/struc.c:
	* plug-ins/struc/struc.c:
	* plug-ins/struc/struc.h: Simplified sinus and struct and
	moved them into common. removed COMPAT_CRUFT.
	
	* plug-ins/common/mpeg.c: removed COMPAT_CRUFT.
	
2000-08-22  Sven Neumann  <sven@picman.org>

	* plug-ins/FractalExplorer/*.[ch]
	* plug-ins/Lighting/*.[ch]
	* plug-ins/MapObject/*.[ch]
	* plug-ins/bmp/*.[ch]
	* plug-ins/faxg3/faxg3.c
	* plug-ins/fits/fits.c
	* plug-ins/flame/flame.c
	* plug-ins/fp/*.[ch]
	* plug-ins/gap/*.[ch]
	* plug-ins/gdyntext/*.[ch]
	* plug-ins/gfig/gfig.c
	* plug-ins/gflare/gflare.c
	* plug-ins/gfli/gfli.c
	* plug-ins/picmanressionist/*.c
	* plug-ins/script-fu/*.[ch]: removed COMPAT_CRUFT.
	
Tue Aug 22 03:35:46 CEST 2000 Daniel Egger  <egger@suse.de>

	* plug-ins/common/AlienMap.c: Cleaned up AlienMap 
	and moved to common.
	
	* plug-ins/common/AlienMap2.c: Cleaned up AlienMap2,
	removed COMPAT_CRUFT and moved to common.
	
	* plug-ins/Makefile.am: Removed AlienMap and AlienMap2.
	* plug-ins/common/Makefile.am: Added AlienMap and 
	AlienMap2.

2000-08-22  Sven Neumann  <sven@picman.org>

	* plug-ins/common/*.c: removed COMPAT_CRUFT.

Tue Aug 22 02:12:36 CEST 2000 Daniel Egger  <egger@suse.de>

	* plug-ins/AlienMap/AlienMap.c:
	* plug-ins/dbbrowser/dbbrowser.c:
	* plug-ins/dbbrowser/dbbrowser_utils.c: removed further
	COMPAT_CRUFT.

Tue Aug 22 01:02:41 CEST 2000 Daniel Egger  <egger@suse.de>
	
	* plug-ins/AlienMap/AlienMap.c: removed COMPAT_CRUFT. 

Tue Aug 22 00:41:06 CEST 2000 Daniel Egger  <egger@suse.de>

	* plug-ins/dbbrowser/*.c: removed COMPAT_CRUFT and added
	missing include.

2000-08-21  Piers Cornwell  <piers.cornwell@bigfoot.com>

	* app/main.c: Alter some options, and beautify.

	* picman.1.in: Document the new options.

Mon Aug 21 14:09:55 PDT 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/unit.pdb: added get_number_of_built_in_units

	* tools/pdbgen/Makefile.am: gen files in $top_srcdir/libpicman

	* tools/pdbgen/lib.pl
	* tools/pdbgen/pdb/procedural_db.pdb: libpicman pdbgen munging, final
	landing

Mon Aug 21 11:57:48 PDT 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/lib.pl
	* tools/pdbgen/pdb/parasite.pdb: libpicman pdbgen munging

	* libpicman/picmanbrushes_pdb.[ch]
	* libpicman/picmandrawable_pdb.[ch]
	* libpicman/picmanpatterns_pdb.[ch]: new autogenned files landed

Mon Aug 21 10:33:59 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.25 release (1.2pre)

2000-08-21  Sven Neumann  <sven@picman.org>

	* plug-ins/common/ps.c: applied picman-kirchgessner-000820-0,
	a patch by Peter Kirchgessner which fixes a problem with the 
	calculation of extent for Mac files (bug report #10547) and
	a problem with the loop when not reading all images of a 
	multipage file.

Sun Aug 20 21:02:22 BST 2000  Austin Donnelly  <austin@picman.org>

	* emboss.c
	* jigsaw.c
	* max_rgb.c
	* nlfilt.c
	* wind.c
	* waves.c: When a radio button in GTK is clicked, the
	    widget that used to be selected gets a signal as well as the
	    one that was clicked.  Mostly people cope with this by
	    guarding their signal handers with a check to run to the code
	    only if the widget is active.  However, the callback functions
	    registered with picman_radio_group_new2() in the above files
	    don't have this guard.  In most cases, this is a bad idea
	    since it causes previews to be updated too many times.  In the
	    emboss case it would also get the preview contents wrong when
	    first displaying the dialog, since the act of
	    gtk_widget_show()ing the dialog causes an event to be sent to
	    the widget that's just been de-selected, causing the preview
	    to redraw while the settings are inconsistent.

	* emboss.c: The emboss plugin also used uninitialised data the
	    first time it is started, which wasn't biting currently, but
	    might in the future or on other architectures which don't zero
	    their stacks.  Also made active region estimation more robust.

	    I still haven't been able to reproduce Bug #17660: Embross
	    plugin crashes, but I will admit that there's what could be
	    uninitialised memory in the preview bitmap the very first time
	    it is shown.

2000-08-20  Sven Neumann  <sven@picman.org>

	* plug-ins/imagemap/Makefile.am
	* plug-ins/imagemap/imap_cern_parse.[ch]
	* plug-ins/imagemap/imap_csim_parse.[ch]
	* plug-ins/imagemap/imap_ncsa_parse.[ch]: recreated from yacc 
	files and added those files to the distribution. Supposed to 
	close bugs #8076, #9212 and #10090.

	* plug-ins/imagemap/imap_default_dialog.c
	* plug-ins/imagemap/imap_file.c
	* plug-ins/imagemap/imap_main.c: set help accelerator and window icon.
	
Fri Aug 18 18:14:35 BST 2000 Austin Donnelly <austin@picman.org>

	* app/fileops.c: fix nasty bug where if overwriting a file and
	    also changing the format, picman would use the old format
	    rather than the newly selected one.  To repeat: save a new
	    image as (eg) jpeg by typing foo.jpg<RET>, then Save As XCF by
	    using the pop-up menu and clicking OK, then Save As jpeg by
	    using pop-up and clicking OK, and OK again to allow the file
	    to be overwritten.  You should find that foo.jpg contains an
	    XCF version of the image.  This was because the "overwrite"
	    path through the code was subtly different from the standard
	    way through, meaning that gimage_set_save_proc() was never
	    called.  Now unified into new function file_save_with_proc().

2000-08-17  Nick Lamb  <njl195@zepler.org.uk>

	* app/fileops.c: I venture once again into app/ to fix #11701.
        This fix is somewhat evil. Tell me (rather than reverting it)
        if you find a case for which it does not work.

Thu Aug 17 22:07:50 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/sel2path/globals.h

	Fixed compilation problems. Some really old compilers had problems
	with the macros in sel2path. Thanks to  
        Dougal_R_Scott@nag.national.com.aui for pointing it out.	

	* app/layers_dialog.c

	Fixes #16583: "new view" not being updated correctly. I still think
	theres is a problem in the idle rendering when images that
	have multiple views require updating. 
	I could only get the deleting layers operation
	to leave the "other views" out of date. This fix forces the views
	to be updates as soon as the layer is deleted. I think this is 
	acceptable since we are doing a "large scale" operation and the 
	performance loss by not doing the update in the background is OK.

	* plug-ins/common/plugindetails.c

	Fixed problem when doing searches for plugins containing a 
	given string caused gtk warnings to be issued.	

2000-08-17  Sven Neumann  <sven@picman.org>

	* app/boundary.c (allocate_vert_segs): applied a fix for bug #16221
	found by Seth Burgess <sjburges@picman.org>.

Wed Aug 16 18:39:44 PDT 2000 Manish Singh <yosh@picman.org>

	* configure.in: removed awk dependency for authors list

2000-08-16  Garry R. Osgood <gosgood@idt.net>

	* app/gdisplay.c
	* app/image_map.c
	Addresses Bug Report #14704, and an undisclosed undo system bug.
	(1) image_map_create() freezes the undo stack and invokes 
	    gdisplay_set_menu_sensitivity (_image_map->gdisp) to ghost
	    Edit/Undo|Edit/Redo and disables associated accelerator keys.
	    This routine sets up idle renderers for interactive tools
	    (a) Color Balance... (b) Hue-Saturation... (c) Brightness-Contrast... 
	    (d) Threshold... (e) Levels...  (f) Curves... and (g) Posterize.
	    The change prevents disturbance of the Undo system via the GUI
	    when idle renderers are active.
 	(2) gdisplay_set_menu_sensitivity () tests if the undo facility
	    is frozen, via gboolean gimage_get_active_layer (gdisp->gimage).
 	    It does not set menu sensitivity for Edit/Undo and Edit/Redo
	    if the undo/redo stacks are frozen. Otherwise (old behaviour)
	    it sets sensitivity of these menu items only if the undo/redo
 	    stacks are populated.
	(3) image_map_commit(), image_map_clear(), and image_map_abort() each
	    thaw the undo system and invoke gdisplay_set_menu_sensitivity().
	    when idle rendering completes or is aborted. This causes Control-Z
	    Control-R and the Edit/Undo|Edit/Redo menu selections to be sensitive
	    immediately after the Undo stack is populated with one item, addressing
	    #14704. Formerly, gdisplay_set_menu_sensitivity() was lazily called.
	    during the next gdisplay_flush(), invariably requiring prompting via
	    a second edit before sensitivity was set.
	Not an image lock, but Yet Another UI Lock. Oh well; merrilly we patch along...
 	See http://bugs.gnome.org/db/14/14704.html for gory details. Closes #14704.

2000-08-17  Daniel Egger  <egger@suse.de>

	* help/C/dialogs/color_selectors/*.html: Checking proofread
	versions by Rebecca.

2000-08-16  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/gdyntext_ui.c
	* plug-ins/gdyntext/message_window.c: set picman_help accelerator
	on main window and use picman_dialog_set_icon () on all windows.

2000-08-16  Sven Neumann  <sven@picman.org>

	* plug-ins/common/animationplay.c: check if drawable returned
	by picman_drawable_get() is valid. In a lot of cases this prevents
	the plug-in from crashing if the user closes the associated 
	image (as described in bug report #20979).

2000-08-16  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/README
	* plug-ins/gdyntext/gdyntext.[ch]: updated to version 1.5.2

2000-08-15  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c
	* app/picmanrc.c
	* app/module_db.c
	* app/plug_in.c: s/if(be_verbose || no_splash)/if(be_verbose)/g

	Changed because nobody on #picman could explain why "no_splash"
	should imply "be_verbose".

2000-08-15  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/*
	* po-plug-ins/POTFILES.in: updated to the current CVS version
	from sourceforge (something after 4.0a1).

2000-08-14  Daniel Egger  <egger@suse.de>

	* app/menus.c: Added missing tearoff_delete_cb prototype.

2000-08-10  Kevin Turner  <acapnotic@users.sourceforge.net>

	* tools/pdbgen/enumcode-py.pl:
	* plug-ins/pypicman/picmanenums.py: picmanenums.py is now autogenerated by
	enumcode-py.pl

	* plug-ins/pypicman/picmanfu.py: 
	* plug-ins/pypicman/picmanmodule.c: renaming fixes for libpicman 1.2

	* plug-ins/pypicman/plug-ins/pdbbrowse.py (pars): s/PARAM_/PDB_/

2000-08-09  Kevin Turner  <acapnotic@users.sourceforge.net>

	* plug-ins/pypicman/picmanmodule.c (chn_getattr): under "layer",
	remove the call to picman_channel_get_layer_id() as this function
	does not exist.  It would be well for someone who knows pypicman
	better than I to review this change, but it keeps pypicman from
	being *completely* broken.

2000-08-09  Sven Neumann  <sven@picman.org>

	* plug-ins/gfli/gfli.c: removed double install_procedure for 
	fli_load.

2000-08-09  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c: make_initialization_status_window(): reverse
	logic for if(!no_interface && !no_splash)

	* app/palette.[ch]: removed declarations of the two removed
	functions. One more s/gint/gboolean/.

	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanpixmap.[ch]: some consistency fixes (mostly fanatic :)

	* libpicman/picmanproceduraldb.c: fixed a compiler warning.

2000-08-09  Sven Neumann  <sven@picman.org>

	* plug-ins/common/emboss.c: install Emboss with image_type
	RGB* since it seems to work well on layers with alpha channel
	(despite the preview, but I think we can live with that).

2000-08-08  Daniel Egger  <egger@suse.de>

	* tools/pdbgen/pdb/convert.pdb:
	* tools/pdbgen/pdb/palette.pdb:
	* app/convert.c:
	* app/convert_cmds.c:
	* app/palette.c:
	* app/palette_cmds.c: Removed superflous 
	palette_init_palettes() and palette_free_palettes() functions
	and changed their callers accordingly.

2000-08-08  Sven Neumann  <sven@picman.org>

	* Makefile.am
	* configure.in
	* picman.1.in
	* picman.spec.in
	* picmanrc.5.in
	* picmantool.1.in
	* picman-remote.1.in: added manpage for picman-remote.
	
2000-08-08  Sven Neumann  <sven@picman.org>

	* tools/picman-remote.c: added command-line option --new that starts
	a new picman if no suitable picman-window is found.

2000-08-08  Sven Neumann  <sven@picman.org>

	* app/palette.c: don't crash when no palettes are available
	(thanks to Daniel for pointing me to this), but allow to open
	the Palette Editor so you can refresh or create a new one.

2000-08-07  Michael Natterer  <mitch@picman.org>

	* plug-ins/gdyntext/gdyntext.c: no need to INIT_I18N_UI() in the
	query() proc.

2000-08-04  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	* libpicman/picman.h
	* libpicman/picmancompat.h
	* plug-ins/common/curve_bend.c
	* plug-ins/common/plugindetails.c
	* plug-ins/dbbrowser/dbbrowser_utils.c
	* plug-ins/gap/gap_dbbrowser_utils.c
	* plug-ins/gap/gap_filter_codegen.c
	* plug-ins/gap/gap_filter_pdb.c
	* plug-ins/gap/gap_pdb_calls.c
	* plug-ins/maze/maze_face.c
	* plug-ins/pypicman/picmanmodule.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/xjt/xpdb_calls.c: removed COMPAT_CRUFT

2000-08-07  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/gdyntext.[ch]
	* lug-ins/gdyntext/gdyntext_ui.c: use a PicmanColorButton to select
	the text color (fixes bug #5302). Reindented the code so it becomes
	readable.

2000-08-07  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/gdyntext.c: readded three lines that were
	accidentally removed. Fixes bug #20090.

Mon Aug  7 10:07:12 CEST 2000  Marc Lehmann <pcg@goof.com>

        * plug-ins/common/png.c: Applied patch from pk@kaempf.ch (closes
        bug #20029).

2000-08-06  Asbjorn Pettersen  <asbjornP@dualog.no>

	* app/plug_in.c (xspawnv): #define xspawnv spawnv    for OS/2

2000-08-04  Daniel Egger  <egger@suse.de>

	* newhelp/*:
	As suggested by Sven and Mitch I moved the newhelp
	directory out to the new module picman-help which will
	be embedded as virtual module as soon as it's ready
	for that step.

2000-08-04  Daniel Egger  <egger@suse.de>
	
	* newhelp: Created new directory which will contain the base
	of our new SGML help system. Rebecca, Piers and I are
	currently migrating our old HTML help into SGML.

	If you like to help with creating appropriate Makefiles
	or scripts, please step forward, there's enough to do.

	* newhelp/ChangeLog
	* nehelp/*: New files for a new help system. :)

2000-08-03  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>
	
	* libpicman/*_pdb.c
	* libpicman/picmanmenu.c: removed COMPAT_CRUFT

2000-08-03  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>
	
	* libpicman/picman.c
	* libpicman/picmanbrushmenu.c
	* libpicman/picmanprotocol.c: removed COMPAT_CRUFT
	
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/common/film.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/gfig/gfig.c
	* plug-ins/print/print.c
	* plug-ins/sel2path/sel2path.c: replaced picman_run_procedure
	calls with functions from libpicman that wrap the PDB calls. 
	And, you guessed it, cleanup and indentation.

	* plug-ins/print/picman_main_window.c: closed bug #11784.

2000-08-02  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.def: Add handful of missing functions, that
	gdyntext now uses.

	* plug-ins/makefile.cygwin: Move gdyntext from unofficial set to
	official.

	* plug-ins/gdyntext/font_selection.c: Remove unneeded inclusion of
	Xlib.h and gdkx.h.

	* plug-ins/gdyntext/gdyntext.c: Use G_PI.

2000-08-01  Sven Neumann  <sven@picman.org>

	* app/TODO: removed
	
2000-08-01  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.c (picman_extension_process): Pass correct timeout
	value to g_io_channel_win32_wait_for_condition (actually g_poll)
	to indicate infinite wait.

2000-08-01  Sven Neumann  <sven@picman.org>

	* libpicman/picmanutils.[ch]: added g_strcompress from glib-1.3

	* plug-ins/gdyntext/gdyntextutil.[ch]: removed since it duplicated
	picman_strescape and the newly added picman_strcompress.

	* plug-ins/gdyntext/Makefile.am
	* plug-ins/gdyntext/gdyntext.[ch]
	* plug-ins/gdyntext/gdyntext_ui.c
	* plug-ins/gdyntext/gdyntextcompat.c: use the new functions and
	got rid of some picman_run_procedure calls since we now have proper
	wrappers in libpicman.

	* plug-ins/common/autocrop.c
	* plug-ins/common/gif.c
	* plug-ins/common/gifload.c
	* plug-ins/common/guillotine.c
	* plug-ins/common/mail.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/tile.c
	* plug-ins/common/zealouscrop.c
	* plug-ins/gflare/gflare.c
	* plug-ins/picmanressionist/picmanressionist.c
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c: replaced picman_run_procedure
	calls with functions from libpicman that wrap the PDB calls. 

	Sorry, all this is untested but I will leave tomorrow and hope to 
	get some hacking done at Mitch's place. So I wanted that stuff to 
	be in CVS. There are good chances that it works...

2000-07-31  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/gz.c (load_image,save_image): Change Win32
	implementation to be a bit simpler. Use minigzip (from zlib)
	instead of the full gzip. Intend to include minigzip with the
	(binary) distribution.

	* libpicman/makefile.{cygwin,msc}
	* app/makefile.{cygwin,msc}: Add G_LOG_DOMAIN.

	* app/picmanbrushhose.{c,h}: Really remove these files, as
	Adrian tried on August 23.

	* plug-ins/script-fu/script-fu.c: Enable the script-fu console on
	Win32, too.

	* plug-ins/script-fu/script-fu-console.c: Now with new GLib
	GIOChannel implementaion, compile for Win32, too. Use
	g_io_add_watch instead of gdk_input_add (on Unix, too). The
	callback for g_io_add_watch is passed a GIOChannel, while the
	callback for gdk_input_add is passed a file descriptor. On Win32
	(and possibly other non-Unices) we want GIOChannels, as we must
	use g_io_channel_read to read from file descriptors being
	watched. Works as previously on Unix this way, too.

2000-07-31  Sven Neumann  <sven@picman.org>

	* plug-ins/common/ps.c: added a tooltip describing the "Keep
	Aspect Ratio" toggle. Closes bug #11286.

Sun Jul 30 12:52:16 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gap/gap_mov_dialog.c: Removed embedded EOLs and spaces from
	tooltips, few typos.

Sun Jul 30 12:52:16 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

	On request of Martin Weber <martweb@gmx.net>:
	* plug-ins/sel2path/bitmap.h
	* plug-ins/sel2path/bounding-box.h
	* plug-ins/sel2path/global.h
	* plug-ins/sel2path/math.c
	* plug-ins/sel2path/vector.c
	* plug-ins/sel2path/vector.h
	plug-ins/sel2path has a number of functions that are declared as
	returning a `const' return value.  The ANSI spec is a bit vague on it,
	but my reading of the spec indicates that the intent is that this is
	not legal.  In any case, at least one compiler (the compiler on AIX and
	on IRIX and lcc) objects to functions that are declared/defined to
	return a const value.

2000-07-30  Michael Natterer  <mitch@picman.org>

	* app/errors.[ch]
	* app/main.c
	* libpicman/picman.c: my last commit redirected all messages to the
	console. Use g_log_set_handler() instead of g_set_message_handler()
	(which is deprecated anyway).

2000-07-30  Michael Natterer  <mitch@picman.org>

	* app/Makefile.am
	* libpicman/Makefile.am: set G_LOG_DOMAINs for the app and for
	libpicman so we can distinguish their warnings from plug-in ones.

	* libpicman/picman.c: set the stack_trace_mode before installing
	signal handlers.

2000-07-30  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/gdyntext_ui.c: use picman_ui_init(). This also
	fixes a bug we had fixed in the latest version but was
	reintroduced now by upgrading to 1.5.0. This caused empty text
	layers to be drawn when LANG != C. Seems to work fine now.

2000-07-30  Sven Neumann  <sven@picman.org>
	
	* plug-ins/gdyntext/charmap.c
	* plug-ins/gdyntext/charmap_window.c
	* plug-ins/gdyntext/font_selection.c
	* plug-ins/gdyntext/gdyntext.[ch]
	* plug-ins/gdyntext/gdyntext_ui.c
	* plug-ins/gdyntext/gdyntextcompat.c
	* plug-ins/gdyntext/gdyntextutil.c: corrected various problems 
	with i18n
	
2000-07-30  Michael Natterer  <mitch@picman.org>

	* picman_splash.ppm: while trying to confuse ChangeLog readers
	with his log below, Tigert thought that PICMAN thought that the
	.ppm extension determined the image's format. OTOH, PICMAN thought
	that Tigert thought that he wanted to save the image as .png but
	with a broken extension. This can be considered either PICMAN's
	bug or a bug of <tigert>/dev/brain. We can make a poll on this,
	but I suspect the broken "Save as..." to be the one to blame.

2000-07-30  Sven Neumann  <sven@picman.org>

	* plug-ins/gdyntext/graphics/layer_align_[0-9].xpm
	* plug-ins/gdyntext/gdyntextcompat.[ch]
	* plug-ins/gdyntext/gdyntextutil.[ch]: new files
	
	* plug-ins/gdyntext/ChangeLog
	* plug-ins/gdyntext/Makefile.am
	* plug-ins/gdyntext/README
	* plug-ins/gdyntext/TODO
	* plug-ins/gdyntext/charmap.[ch]
	* plug-ins/gdyntext/charmap_window.[ch]
	* plug-ins/gdyntext/font_selection.[ch]
	* plug-ins/gdyntext/gdyntext.[ch]
	* plug-ins/gdyntext/gdyntext_ui.[ch]
	* plug-ins/gdyntext/message_window.[ch]: updated to version 1.5.0 
	of the GDynText plug-in. This seems to fix a number of problems 
	with the Dynamic Text tool including bugs #2355 and #16485.

2000-07-30  Tuomas Kuosmanen  <tigert@picman.org>

	* picman_splash.ppm: oops, mitch thought that I thought that he thought
	that I should commit this. But I thought that mitch thought that 
	I thought that he thought that um.. forget it. Anyway, here is the 
	lovely splash screen from the sunny Berlin PicmanCon meeting. 
	THE DEVELOPERS EXPOSED! HOT PIXX!!111 (It was a great meeting!)
	
2000-07-30  Sven Neumann  <sven@picman.org>

	* app/tools.c (tool_options_close_callback): use
	picman_dialog_hide() instead of gtk_widget_hide(). Closes bug #19164.

2000-07-30  Sven Neumann  <sven@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c: activate the help page 
	when clicking into the combo-box displaying the title and use 
	the webbrowser plug-in (which should call Netscape) to handle
	non-local links.

2000-07-30  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.c
	* libpicman/picman.h
	* libpicman/picmanmenu.c
	* libpicman/picmanprotocol.c
	* libpicman/picmanprotocol.h
	* libpicman/picman.def
	* app/plug_in.c
	* plug-ins/helpbrowser/helpbrowser.c
	* plug-ins/script-fu/script-fu.c: As the GLib main loop and IO
	channel implementation on Win32 now provides the same interface as
	that on Unix, much of the Win32-only crap could be
	removed. Especially, no need for "wakeup" out-of-band messages to
	wake up pipe readers. No need for plug-ins to tell PICMAN their
	thread id.

	* libpicman/picman.c (picman_extension_process): On Win32, use the new
	g_io_channel_win32_wait_for_condition() function.

	* plug-ins/makefile.cygwin: Add the homogenizer plug-in to the
	unofficial part.
	
2000-07-29  Sven Neumann  <sven@picman.org>

	* app/main.c: no need to mark this string for translation

2000-07-29  Sven Neumann  <sven@picman.org>

	* plug-ins/common/decompose.c: 
	applied picman-kirchgessner-000728-0, a patch by Peter Kirchgessner
	that resolves request #16795 and changes the generated filenames
	for decomposed images.

	* app/authors.h
	* tools/authorsgen/Makefile.am
	* tools/authorsgen/authorsgen.pl: works better now

2000-07-29  Michael Natterer  <mitch@picman.org>

	* cursors/background.xbm
	* cursors/background_mask.xbm
	* cursors/foreground.xbm
	* cursors/foreground_mask.xbm
	* cursors/pattern.xbm
	* cursors/pattern_mask.xbm: new files.

	* cursors/picman-tool-cursors.xcf
	* app/cursorutil.[ch]: new cursor modifiers for bucket_fill.

	* app/bucket_fill.c: use the new modifiers. Closes #17871.

	* app/convolve.c
	* app/dodgeburn.c: added cursor_update functions which update the
	tools' "toggled" state before they call the cursor_update "method"
	of the paint_core "class" -- eek -- I-want-real-objects!
	Closes #17872 and #17873.

	* app/tools.h: added SELECTION_ANCHOR to the SelectOps enum.

	* app/free_select.c
	* app/rect_select.c: use the new enum value in the "oper_update"
	and "cursor_update" functions. In the "motion" function, set the
	tool's operation type back to SELECTION_REPLACE if the tool is
	active and call the "cursor_update" function explicitly.
	Closes #17870.

	* app/by_color_select.c: fixed warning caused by the new enum value.

2000-07-29  Michael Natterer  <mitch@picman.org>

	* libpicman/picmandrawable.[ch]: picman_drawable_set_visible(): the
	"visible" parameter is boolean.

2000-07-24  Seth Burgess <sjburges@picman.org>
	
	* plug-ins/common/jpeg.c: fixed various capitalization issues
	by applying patch from <sgunderson@bigfoot.com>.

2000-07-25  Sven Neumann  <sven@picman.org>

	* AUTHORS
	* configure.in
	* picman.1.in
	* app/Makefile.am
	* app/about_dialog.c: see below
	
	* app/authors.h
	* tools/authorsgen/Makefile.am
	* tools/authorsgen/authorsgen.pl
	* tools/authorsgen/contributors: new files

	Very hackerish attempt to create all three lists of authors
	from one source. The file 'contributors' lists all the names 
	and is the only one you should dare to edit from now on.
	
2000-07-19  Michael Natterer  <mitch@picman.org>

	* AUTHORS
	* picman.1.in
	* app/about_dialog.c: removed a doubly added author.

Tue Jul 18 23:34:34 BST 2000  Austin Donnelly  <austin@picman.org>

	* plugs-ins/common/gif.c: The gif save plugin normally asks the
	    user if it's ok to crop the image if there are layers larger
	    than the image size.  This isn't a good idea if we're running
	    with run_mode == NON_INTERACTIVE.  Fix similar to that
	    suggested by Bryan Livingston <bryan@cooltext.com> on
	    picman-developer mailing list.

	* app/layer.c: Fix for Bug#17347: Scale Layer leaves artifacts.
	    Basic problem is that scaling a layer when there's a selection
	    active (eg there's a floating selection) doesn't invalidate
	    the layer bounds.  Same problem with resizing a layer,
	    although the bug report didn't mention that.  Fixed by changing
	    layer_resize() and layer_scale_lowlevel() to call
	    layer_invalidate_boundary() once done changing the layer.

2000-07-18  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.c (picman_flush): Add horrible hack that seems to
	help script-fu startup on NT 4.0, by avoiding some bug in GLib.
	Yes, it would be better to fix GLib's main loop and GIOChannel
	code for Win32. Unfortunately, it's kinda hairy...

	* libpicman/picman.h: Add extern "C" to the Win32 part for compiling
	C++ plug-ins.

	* plug-ins/makefile.cygwin: Add a couple of new unofficial
	plug-ins. Use macros from build/win32/make.mingw.

	* plug-ins/common/warp.c: Use G_PI.

2000-07-16  Michael Natterer  <mitch@picman.org>
	    Sven Neumann      <sven@picman.org>

	* AUTHORS
	* picman.1.in
	* app/about_dialog.c: removed two accidentially added non-authors.

	* app/errors.[ch]
	* app/main.c: added a new command line option
	"--enable-stack-trace" which can be one of {never|query|always}.

	* app/plug_in.c
	* libpicman/picman.c: pass the stack trace mode as an argv[] element to
	plug-ins. Cleaned up the plug-ins' argv[] (removed unused TILE_WIDTH
	and TILE_HEIGHT arguments, always pass 6 arguments to make the code
	simpler).

	* libpicman/picmanenums.h
	* plug-ins/script-fu/script-fu-constants.c
	* tools/pdbgen/Makefile.am
	* tools/pdbgen/enums.pl: export the app's STACK_TRACE_MODE enum.

	* plug-ins/common/plugindetails.c: made the titles of the tree view
	unclickable, cleanups.

Sat Jul 15 18:32:04 CEST 2000  Marc Lehmann <pcg@goof.com>

        * plug-ins/common/plasma.c: applied noninteractive fix by David
        Hodson <hodsond@ozemail.com.au>.

2000-07-15  Sven Neumann  <neo@wintermute.ochsenblut.de>

	* configure.in: added pt_BR to ALL_LINGUAS
	
	* tools/Makefile.am: only build picman-remote if libXmu 
	is available. Added a target for kernelgen while I was
	on it.

2000-07-15  Sven Neumann  <neo@wintermute.ochsenblut.de>

	* tools/Makefile.am: build picman-remote

	* tools/picman-remote.c: g_error() should only be used
	for fatal errors that can never happen.

	* plug-ins/script-fu/po/pt_BR.po
	* plug-ins/script-fu/po: removed. I guess this was 
	accidentally added.
	
2000-07-13  Simon Budig  <simon@picman.org>

	* tools/picman-remote.c: new file
	
	This is a first implementation of a remote control for picman.
	It synthesizes a drag'n'drop event on the toolbox to make
	Picman load a file or an URL. Not yet built automatically since
	I have no idea about automake etc. Simply build it with
	  gcc -o picman-remote `gtk-config --cflags --libs` \
	      -lXmu -Wall picman-remote.c

	Disclaimer: Faking drag'n'drop for remote controlling an
	application is a hack. We should include a saner interface
	for this in Picman 2.0.

2000-07-11  Jesus Bravo Alvarez  <jba@pobox.com>

	* configure.in: Added 'gl' (Galician) to ALL_LINGUAS.

2000-07-09  Sven Neumann  <sven@picman.org>

	* libpicman/picmanexport.c: changed default action for multiple 
	layers to "Merge/Flatten" instead of "Save as Animation" 
	since I agree with the points made in #16488.

2000-07-08  Sven Neumann  <sven@picman.org>

	* plug-ins/gap/gap_range_ops.c: applied a patch provided by
	Wolfgang Hofer <hof@hotbot.com> that fixes a problem when
	flattening a singlelayer image.

2000-07-04  Seth Burgess  <sjburges@picman.org>
	
	* app/levels.c: changed reset behavior to reset all channels, not just
	currently active one.  This fixes #15042, except the problems with 
	the kissing gourami and litigating tetras.

2000-07-05  Sven Neumann  <sven@picman.org>

	* configure.in: since there really seems to be a "build"
	directory, we should include it (and its subdirectories) here too. 

2000-07-05  Tor Lillqvist  <tml@iki.fi>

	* app/user_install.c (user_install_resolution): Use "windowing
	system" instead of "X-server".

2000-07-04  Sven Neumann  <sven@picman.org>

	* app/tips_dialog.c: corrected an error message 

	* tips/picman_tips.it.txt: update from Daniele Medri <madrid@linux.it>

2000-07-04  Tor Lillqvist  <tml@iki.fi>

	* Makefile.am (SUBDIRS): Yes, there *is* a "build" directory. It's a
	virtual module included in picman, see CVSROOT/modules. With older
	CVS clients you might need to do a recheckout to get it.

	* plug-ins/script-fu/script-fu.c (marshall_proc_db_call): On
	Windows, handle pending gtk events each time we come here,
	otherwise we easily get resource starvation in a long-running
	script. Thanks to Jean-Louis Hamel for this workaround. It's a
	hack, I don't exactly know why it is needed, but it sure helps a
	lot.

	* plug-ins/makefile.cygwin: Add some new unofficial plug-ins. Use
	macros from make.mingw.

	* libpicman/makefile.cygwin: Update with new object files.

	* libpicman/picman.def: Add new entry points.

Fri Jun 30 22:09:11 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/common/iwarp.c

	Applied patch by Daniel Egger that fixes a problem when
	applying iwarp in animation mode. 

2000-06-30  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: More options, offsets preserved on load

2000-06-27  Daniel Egger  <egger@suse.de>

	* libpicman/picmanexport.c: changed some words to lowercase
	
2000-06-27  Sven Neumann  <sven@picman.org>

	* app/about_dialog.c: we used an array with a hardcoded size here 
	which was too small to hold all the authors recently added. Made 
	it a dynamic one. This fixes the "Can't quit The PICMAN" bug #15483.

	* app/about_dialog.h
	* app/commands.c: removed the timeout parameter from 
	about_dialog_create() since it wasn't used at all.
	
Tue Jun 27 22:26:30 BST 2000 Andy Thomas <alt@picman.org>

	* app/paint_core.c:

	Fixed problem with coloured brushes/grayscale images and painting
	close to the edge. Fixes bug #14159

2000-06-27  Sven Neumann  <sven@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c: simplified the
	mucho weirdo code which obviously wasn't working as
	expected. Should fix bug #15284.

Sun Jun 25 22:44:12 CEST 2000  Marc Lehmann <pcg@goof.com>

	* paint_funcs.c: Fix small bug in last patch.

2000-06-26  Sven Neumann  <sven@picman.org>

	* libpicman/picmanexport.c: added a new export_action type
	so PNG for example correctly shows "PNG can't handle layers"
	even if the suggested action is to flatten the image since
	the background has no alpha-channel. Fixes bug #15085.

2000-06-26  Sven Neumann  <sven@picman.org>

	* plug-ins/common/url.c: use a fixed-size buffer to make 
	the code ANSI compliant. Fixes bug #15338.

2000-06-25  Tuomas Kuosmanen  <tigert@tigert.picman.org>

	* cursors/picman-tool-cursors.xcf: Updated the .xcf file that
	contains the cursors. thanks Sven for pointing this out.
	I also corrected a small glitch on the bezier cursors mask.

2000-06-25  Sven Neumann  <sven@picman.org>

	* app/resize.c (offset_update): Adding 0.5 isn't always the 
	right thing to do when converting to integer. Especially
	not if dealing with negative values. This change should
	fix the off-by-one error reported lately.

2000-06-25  Tuomas Kuosmanen  <tigert@tigert.picman.org>

	* cursors/bezier_select_small.xbm
	* cursors/bezier_select_small_mask.xbm: Updated the bezier
	tool cursor bitmap to a more compact one

2000-06-24  Sven Neumann  <sven@picman.org>

	* autogen.sh: applied patch from Sesse <sgunderson@bigfoot.com>
	that fixes the check for recent versions of auto[conf|make].

2000-06-23  Sven Neumann <sven@picman.org>
	
	* Makefile.am
	* configure.in
	* picmantool.1: removed
	* picmantool.1.in: new file to generate picmantool.1 with the proper 
	version number

	* picman.1.in
	* picmanrc.5.in: unify use of version and date  
	
2000-06-22  Matt Wilson  <msw@redhat.com>

	* app/paint_core.c (paint_core_new): allocate the tool's
	paint_core with g_new0.  This prevents us from having cruft in
	unused tools.  Systems with sensitive FPUs (Alpha) will raise
	exception in the paint_core_cursor_update if paint_core->last[xy]
	are messy.

	* app/bezier_select.c (tools_new_bezier_select)
	* app/blend.c (blend_options_new)
	* app/brightness_contrast.c (tools_new_brightness_contrast)
	* app/bucket_fill.c (tools_new_bucket_fill)
	* app/by_color_select.c (tools_new_by_color_select)
	* app/color_balance.c (tools_new_color_balance)
	* app/color_panel.c (color_panel_new)
	* app/color_picker.c (tools_new_color_picker)	
	* app/crop.c (tools_new_crop)
	* app/curves.c (tools_new_curves)
	* app/ellipse_select.c (tools_new_ellipse_select)
	* app/free_select.c (tools_new_free_select)
	* app/fuzzy_select.c (tools_new_fuzzy_select)	
	* app/histogram_tool.c (tools_new_histogram_tool)
	* app/hue_saturation.c (tools_new_hue_saturation)
	* app/ink.c (tools_new_ink)
	* app/iscissors.c (tools_new_iscissors)
	* app/levels.c (tools_new_levels)
	* app/magnify.c (tools_new_magnify)
	* app/measure.c (tools_new_measure_tool)
	* app/move.c (tools_new_move_tool)
	* app/path_tool.c (tools_new_path_tool)
	* app/posterize.c (tools_new_posterize)
	* app/rect_select.c (tools_new_rect_select)
	* app/resize.c (resize_widget_new)
	* app/threshold.c (tools_new_threshold)
	* app/transform_core.c (transform_core_new)
	* app/xinput_airbrush.c (tools_new_xinput_airbrush): likewise (it
	can only help and it really isn't slow.)

	* app/color_area.c: #include <string.h> for memcpy declaration

	* app/picmanhelp.c: #include <string.h> for strlen declaration

Thu Jun 22 15:53:52 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.24 release (1.2pre)

Thu Jun 22 13:43:10 PDT 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/lib.pl
	* libpicman/picmangradientselect_pdb.c
	* libpicman/picmantools_pdb.c: stupid brain fart with the duplicate
	parameter logic

Thu Jun 22 13:02:01 PDT 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/lib.pl
	* libpicman/picmanchannel_pdb.c
	* libpicman/picmancolor_pdb.[ch]
	* libpicman/picmandrawable_pdb.[ch]
	* libpicman/picmanpicmanrc_pdb.[ch]
	* libpicman/picmangradientselect_pdb.c
	* libpicman/picmanimage_pdb.c
	* libpicman/picmanpaths_pdb.[ch]
	* libpicman/picmanselection_pdb.[ch]
	* libpicman/picmantexttool_pdb.c
	* libpicman/picmantools_pdb.c: landed the genned files from the changes
	below. Minimal code changes (some failure case return values changed,
	hopefully this won't break anything)

Wed Jun 21 20:18:16 PDT 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/lib.pl
	* tools/pdbgen/pdb/brushes.pdb
	* tools/pdbgen/pdb/channel.pdb
	* tools/pdbgen/pdb/color.pdb
	* tools/pdbgen/pdb/drawable.pdb
	* tools/pdbgen/pdb/picmanrc.pdb
	* tools/pdbgen/pdb/gradient_select.pdb
	* tools/pdbgen/pdb/image.pdb
	* tools/pdbgen/pdb/layer.pdb
	* tools/pdbgen/pdb/parasite.pdb
	* tools/pdbgen/pdb/plug_in.pdb
	* tools/pdbgen/pdb/procedural_db.pdb
	* tools/pdbgen/pdb/selection.pdb
	* tools/pdbgen/pdb/text_tool.pdb
	* tools/pdbgen/pdb/unit.pdb: initial pass of getting all the libpicman
	wrappers autogenned.

2000-06-19  Simon Budig  <simon@picman.org>

	* app/layers_dialog.c: Layers can be renamed by pressing
	  return in the entry-widget now.

2000-06-18  Sven Neumann  <sven@picman.org>

	* AUTHORS: applied picman-cornwell-000613-0 which brings the 
	list of authors upto date including all translators and 
	plug-in authors. Please check that you are listed if you have
	contributed!

	* picman.1.in
	* app/about_dialog.c: synced the authors lists

	* INSTALL: we need gtk+-1.2.8 or newer
	
2000-06-18  Sven Neumann  <sven@picman.org>

	* plug-ins/common/rotate.c: slight speedup for 180-degrees

2000-06-18  Nick Lamb  <njl195@zepler.org.uk>

	* devel-docs/parasites.txt
	* plug-ins/common/tiff.c: Add support for ICC profiles
	from <khk@khk.net> look out for equivalent PNG support soon

2000-06-14  Daniel Egger <egger@suse.de>

	* paint_funcs.c: Remove calls to tile-acessor functions
	by direct accesses. 
	Split some loops to speed up the common path without 
	slowing down other cases because compiler couldn't optimize
	unnecessary calculations away.
	This changes speed up PICMAN a lot in many cases. Also did
	some cleanup there.

Fri Jun 16 23:47:00 BST 2000 Andy Thomas <alt@picman.org>

	* app/edit_selection.c

	A better fix for the problem with the selection outline.
	It should now cope with offsets in the image as well as 
	scaling the image while moving the selection.

	These problems occurred both when moving the selection as a layer
	and just moving the selection outline.

2000-06-16  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* cursors/picman-tool-cursors.xcf
	* cursors/perspective_small.xbm
	* cursors/perspective_small_mask.xbm
	* cursors/rotate_small.xbm
	* cursors/rotate_small_mask.xbm
	* cursors/shear_small.xbm
	* cursors/shear_small_mask.xbm: new cursors.

	* app/tools.c
	* app/transform_core.c: use them.

2000-06-16  Sven Neumann  <sven@picman.org>
	
	* app/dodgeburn.c (tools_new_dodgeburn): Dodge/Burn
	seems to handle animated brushes quite well, so set
	TOOL_CAN_HANDLE_CHANGING_BRUSH.

2000-06-15  Michael Natterer  <mitch@picman.org>

	* app/crop.c (crop_cursor_update): another cursor fix.

2000-06-14  Michael Natterer  <mitch@picman.org>

	* app/convolve.c
	* app/dodgeburn.c
	* app/eraser.c
	* app/paint_core.c
	* app/tools.[ch]: fixed my tool toggle braino: the paint_core
	cannot decide which cursor to show from the state of the modifier
	keys.

	Added a boolean "toggled" variable to the Tool structure,
	set it in the toggleable paint tools and evaluate it in the
	paint_core.

2000-06-14  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* cursors/picman-tool-cursors.xcf
	* cursors/anchor.xbm
	* cursors/anchor_mask.xbm: new cursor modifier for the move tool.

	* app/cursorutil.[ch]
	* app/move.c: use the new modifier for anchoring floating selections.

2000-06-14  Michael Natterer  <mitch@picman.org>

	* Makefile.am: typo.

	* cursors/mouse_intersect[_mask].xbm: forgot to remove this one.

	* cursors/picman-tool-cursors.xcf: new file containing all cursors.

2000-06-14  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* app/cursorutil.[ch]
	* app/tools.c
	* cursors/*: added lots of new cursors and removed old ones.

	* app/gdisplay.[ch]: enabled the cursor setting parameters in
	gdisplay_install_tool_cursor().

	* app/bezier_select.c
	* app/blend.c
	* app/bucket_fill.c
	* app/by_color_select.c
	* app/clone.c
	* app/color_picker.c
	* app/crop.c
	* app/disp_callbacks.c
	* app/edit_selection.c
	* app/eraser.c
	* app/flip_tool.c
	* app/ink.c
	* app/iscissors.c
	* app/magnify.c
	* app/measure.c
	* app/move.c
	* app/paint_core.c
	* app/rect_select.c
	* app/text_tool.c
	* app/transform_core.c: use the new cursors. Only the transform
	tools are still using old cursors.

	* app/layers_dialog.c: a tooltip for "Keep Trans."

	* app/user_install.c: set the ctree's selection mode to BROWSE.

Tue Jun 13 22:38:22 BST 2000 Andy Thomas <alt@picman.org>

	* app/edit_selection.c

	Fixed problem with selection outline. The outline drawing did not 
	take acount of the display offset so that if you moved a selection
	to the edge of an image that cause the image to scroll in the viewing
	window the section outline was drawn incorrectly.

2000-06-13  Jay Cox  <jaycox@picman.org>

	* tools/pdbgen/pdb/help.pdb, app/help_cmds.c:
 	#include plug_in.h

Tue Jun 13 19:55:30 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

        * tips/picman_tips.cs.txt: Updated translation.

2000-06-13  Sven Neumann  <sven@picman.org>

	* plug-ins/common/curve_bend.c
	* plug-ins/common/plugindetails.c
	* plug-ins/gap/gap_dbbrowser_utils.h
	* plug-ins/gap/gap_filter_codegen.c
	* plug-ins/gap/gap_pdb_calls.c
	* plug-ins/maze/maze_face.c
	* plug-ins/xjt/xpdb_calls.c: fixed compiler warnings 
	introduced by our latest libpicman changes.

2000-06-13  Sven Neumann  <sven@picman.org>

	Moved various files from the docs directory to
	devel-docs and devel-docs/pdb. Excluded papers 
	from being distributed but left them in CVS.
	
2000-06-13  Jay Cox  <jaycox@picman.org>

        These files should have been commited in my 2000-05-08 commit
	but somehow they didnt make it.
	
	* app/hue_saturation.c
	* app/levels.c
	* app/posterize.c
	* app/threshold.c: Add a call to image_map_clear in the
	preview toggle button callback.  This makes the preview toggle
	button behave as expected.
	
	* app/histogram_tool: remove an unnecessary include.


2000-06-13  Sven Neumann  <sven@picman.org>

	* picman.1: removed
	
	* configure.in
	* picman.1.in: new file used to autogenerate picman.1. The manpage
	could need a little more work, but I'm tired now...

2000-06-13  Sven Neumann  <sven@picman.org>

	* picman.spec: removed
	
	* configure.in
	* picman.spec.in: new file used to autogenerate picmanc.spec with 
	the proper version number

	* Makefile.am: bumped dependency to gtk+-1.2.8 and included
	new cursor files

2000-06-10  Sven Neumann  <sven@picman.org>

	* AUTHORS: applied picman-cornwell-000507-0
	Please add yourself if you have contributed and are missing.

Sat Jun 10 12:19:31 BST 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/libgck/gck/gckcolor.c: #include fixup.

2000-06-09  Vidar Madsen  <vidar@prosalg.no>

	* plug-ins/picmanressionist/repaint.c: Finally fixed an old
	and annoying bug.

2000-06-09  Michael Natterer  <mitch@picman.org>

	* app/gdisplay.[ch]
	* app/scroll.c: oops, my last commit caused a segfault.

2000-06-09  Michael Natterer  <mitch@picman.org>

	Cursor patch II:
	This is only the logic inside the cursor system and not yet used.

	* app/cursorutil.[ch]: [picman]_change_win_cursor() take lots of
	parameters now and compose cursors from up to three cursor
	bitmaps/masks.

	* app/gdisplay.[ch]: As a test, create a hardcoded example cursor
	if "Cursor Mode" is set to "Tool Icon with Crosshair" in prefs.

	* app/curves.c
	* app/dialog_handler.c
	* app/scroll.c: changed the calls to the win_cursor function.

	* app/tools.[ch]: added a cursor and a toggle cursor to the ToolInfo
	structure of all tools.

	* app/toolsF.h: new ToolType TOOL_TYPE_NONE.

	* app/picmandnd.c
	* app/interface.c: check for silly filenames in the file dnd
	callback. Closes #13733.

	* Makefile.am
	* cursors/bucket_fill_small.xbm
	* cursors/bucket_fill_small_mask.xbm
	* cursors/crop_small.xbm
	* cursors/crop_small_mask.xbm
	* cursors/crosshair_small.xbm
	* cursors/crosshair_small_mask.xbm
	* cursors/ellipse_select_small.xbm
	* cursors/ellipse_select_small_mask.xbm
	* cursors/eraser_small.xbm
	* cursors/eraser_small_mask.xbm
	* cursors/free_select_small.xbm
	* cursors/free_select_small_mask.xbm
	* cursors/fuzzy_select_small.xbm
	* cursors/fuzzy_select_small_mask.xbm
	* cursors/intersect.xbm
	* cursors/intersect_mask.xbm
	* cursors/minus.xbm
	* cursors/minus_mask.xbm
	* cursors/move.xbm
	* cursors/move_mask.xbm
	* cursors/paintbrush_small.xbm
	* cursors/paintbrush_small_mask.xbm
	* cursors/pencil_small.xbm
	* cursors/pencil_small_mask.xbm
	* cursors/plus.xbm
	* cursors/plus_mask.xbm
	* cursors/rect_select_small.xbm
	* cursors/rect_select_small_mask.xbm
	* cursors/resize_small.xbm
	* cursors/resize_small_mask.xbm
	* cursors/zoom.xbm
	* cursors/zoom_mask.xbm
	* cursors/zoom_small.xbm
	* cursors/zoom_small_mask.xbm: new files extracted from Tigert's
	picman-tool-cursors.xcf created at PicmanCon.

	Tigert, I'll commit the xcf as soon as I've added empty layers
	with the names of the cursors that are missing.

	* cursors/mouse.xbm
	* cursors/mouse_mask.xbm: made it 32x32 to allow for cursor
	composition.

2000-06-09  Sven Neumann  <sven@picman.org>

	* picman.h
	* picmanchannel.h
	* picmancompat.h
	* picmandrawable.h
	* picmanimage.h
	* picmanlayer.h: moved convenience defines from picman.h into
	relevant header files so you have a chance to find them. 
	
2000-06-08  Sven Neumann  <sven@picman.org>

	* libpicman/Makefile.am:
	* libpicman/picman_pdb.h
	* libpicman/picmanmisc_pdb.[ch]
	* libpicman/picmanpaths_pdb.[ch]: added missing autogenerated
	files that define PDB wrappers

	* tools/pdbgen/pdb/misc.pdb
	* tools/pdbgen/pdb/paths.pdb: made them generate libpicman code

	* plug-ins/sel2path/sel2path.c
	* plug-ins/sel2path/sel2path_adv_dialog.c: code cleanup, nicer
	dialog layout, use new PDB wrappers
	
Thu Jun  8 15:45:40 CEST 2000 Marc Lehmann <pcg@goof.com>

        * plug-ins/common/gif.c: picman-comment's were wrongly assumed to be
        zero-terminated strings.

2000-06-08  Sven Neumann  <sven@picman.org>

	* tips/picman_tips.txt: somehow a few spaces sneaked in here
	at the wrong place

2000-06-08  Sven Neumann  <sven@picman.org>

	* app/eraser.c: as suggested by Daniel Egger, set 
	TOOL_CAN_HANDLE_CHANGING_BRUSH for the eraser tool. 
	Fixes bug #13172.
	
2000-06-08  Sven Neumann  <sven@picman.org>

	* app/qmask.c: call undo_push_qmask() before removing the
	channel since the callback will set the qmask_state 
	incorrectly otherwise. Fixes bug #13472.
	
	* app/undo.[ch]: code cleanup

	* plug-ins/common/gif.c: put save_comment into the values
	that are stored between calls to the GIF plug-in, so it 
	remembers if the user wants to save the comment. Fixes
	bug #12755.
	
Wed Jun  7 12:00:39 PDT 2000 Manish Singh <yosh@picman.org>

	[patches from Daniel Egger]

	* app/layers_dialog.c: Disable the "Add Layermask" menuentry
	for indexed images.

	* app/picmanimage.c: Leave picman_image_add_layer_mask(...) after
	spitting out messages when trying to add a layermask to an
	indexed image.

2000-06-07  Sven Neumann  <sven@picman.org>

	* app/pixel_region.c: applied patch provided by Daniel Egger:
	store the result of tile_bpp() into a variable and use it
	instead of calling it over and over again in the inner loop.

	* app/pixel_region.h
	* app/pixel_regionP.h:
	Did some additional indentation and code cleanup.
	
2000-06-07  Michael Natterer  <mitch@picman.org>
            Jay Cox  <jaycox@picman.org>

	* plug-ins/common/gifload.c: test for PICMAN_HAVE_PARASITES

	* plug-ins/common/url.c: open a pipe to the wget child and
	parse it's output so we can display a progressbar.

2000-06-07  Sven Neumann  <sven@picman.org>

	* Makefile.am: sorry, there's no build directory

	* app/plug_in.c (plug_in_temp_run): uncommented the call to 
	plug_in_pop(). This seems to solve the longstanding problem 
	that made temporary procedures like Script-Fu fail when
	called from plug-ins.

2000-06-06  Seth Burgess <sjburges@picman.org>

	* plug-ins/imagemap/imap_default_dialog.c
	* plug-ins/imagemap/imap_edit_area_info.c
	* plug-ins/imagemap/imap_default_dialog.h: Applied author's
	(Maurits Rijk  <lpeek.mrijk@consunet.nl>) patches to make apply 
	callback behave properly
	
2000-06-07  Tor Lillqvist  <tml@iki.fi>

	* Makefile.am: Add the build subdirectory (which contains a copy
	of the build module).

	* app/picmanhelp.c (picman_help_netscape): Test for help_path being
	non-NULL was wrong way.

	* app/preferences_dialog.c (file_pref_cmd_callback): Change
	"From X Server" to "From windowing system".

	* app/makefile.cygwin: Update according to file name changes.

	* libpicman/picman.def
	* libpicman/picmanui.def
	* libpicman/makefile.{cygwin,msc}: Update for Mitch's and Sven's
	changes.

	* app/makefile.cygwin
	* libpicman/makefile.cygwin
	* modules/makefile.cygwin
	* plug-ins/makefile.cygwin: Include make.mingw from build/win32,
	simplify accordingly.

	* plug-ins/libgck/gck/gckcolor.c: Include <glib.h> before
	picmanmath.h, so G_PI don't get redefined when glib.h is included
	later.

	From Hans Breuer, portability fixes for MSVC compilation:

	* app/dialog_handler.h: Bypass decalration of exported functions
	which are marked with G_MODULE_EXPORT in dialog_handler.c when
	compiling that file. Otherwise some compilers will get confused.

	* app/dialog_handler.c: Define a test macro for above bypass.

	* plug-ins/MapObject/mapobject_apply.c
	* plug-ins/MapObject/mapobject_image.c
	* plug-ins/MapObject/mapobject_shade.c: Include <string.h>.

	* plug-ins/flame/flame.c: Define S_ISREG if needed.

	* plug-ins/makefile.{cygwin,msc}: Updates.

	* plug-ins/sel2path/global.h: Include <stdlib.h>.

	* plug-ins/winsnap/winsnap.c: Include libpicman/picmanui.h.

2000-06-05  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/scripts/ripply-anim.scm
	* plug-ins/script-fu/scripts/spinning_globe.scm
	* plug-ins/script-fu/scripts/waves-anim.scm: applied
	picman-quinet-000531-2.patch to ensure that the output of
	these scripts is viewed in "replace" mode and not in
	"combine" mode.

2000-06-05  Sven Neumann  <sven@picman.org>
	
	* plug-ins/script-fu/scripts/3d-outline.scm
	* plug-ins/script-fu/scripts/alien-glow-logo.scm
	* plug-ins/script-fu/scripts/alien-neon-logo.scm
	* plug-ins/script-fu/scripts/basic1-logo.scm
	* plug-ins/script-fu/scripts/basic2-logo.scm
	* plug-ins/script-fu/scripts/blended-logo.scm
	* plug-ins/script-fu/scripts/bovinated-logo.scm
	* plug-ins/script-fu/scripts/chalk.scm
	* plug-ins/script-fu/scripts/chip-away.scm
	* plug-ins/script-fu/scripts/chrome-logo.scm
	* plug-ins/script-fu/scripts/comic-logo.scm
	* plug-ins/script-fu/scripts/coolmetal-logo.scm
	* plug-ins/script-fu/scripts/frosty-logo.scm
	* plug-ins/script-fu/scripts/glossy.scm
	* plug-ins/script-fu/scripts/glowing-logo.scm
	* plug-ins/script-fu/scripts/gradient-bevel-logo.scm
	* plug-ins/script-fu/scripts/neon-logo.scm
	* plug-ins/script-fu/scripts/starburst-logo.scm
	* plug-ins/script-fu/scripts/starscape-logo.scm
	* plug-ins/script-fu/scripts/t-o-p-logo.scm
	* plug-ins/script-fu/scripts/textured-logo.scm: applied
	picman-quinet-000531-1.patch to add support for "Alpha to Logo"
	and correct undo handling in these logo scripts.

2000-06-05  Sven Neumann  <sven@picman.org>
	
	* plug-ins/script-fu/scripts/clothify.scm: applied
	picman-quinet-000531-0.patch to change the help blurb.

	* plug-ins/script-fu/scripts/drop-shadow.scm
	* plug-ins/script-fu/scripts/erase-rows.scm
	* plug-ins/script-fu/scripts/perspective-shadow.scm
	* plug-ins/script-fu/scripts/predator.scm
	* plug-ins/script-fu/scripts/xach-effect.scm: applied
	picman-quinet-000531-0.patch to replace all calls to
        picman-image-undo-disable by picman-undo-push-group-start,
	and picman-image-undo-enable by picman-undo-push-group-end.

2000-06-06  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* cursors/crosshair.xbm
	* cursors/crosshair_mask.xbm: new files.

	* app/cursorutil.[ch]
	* app/gdisplay.[ch]
	* app/picmanrc.[ch]
	* app/preferences_dialog.c: Started to add the new set of
	consistent tool cursors. The crosshair one is the easy part
	but I wanted to see a result :) The other two options in
	the pref's cursor menu are still dummys.

2000-06-05  Sven Neumann  <sven@picman.org>

	* app/paint_core.[ch]: indentation, no real changes

	* plug-ins/gap/README
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_mov_exec.c: applied a patch from Wolfgang
	Hofer 
	
	* plug-ins/imagemap/imap_csim.y: applied a patch from
	Maurits Rijk which promises to fix bug #10090. 
	Yosh, could you regenerate the C code, please...?!

	* tips/picman_tips.txt: applied picman-quinet-20000508-0.patch,
	an update to the english tips file provided by Raphael Quinet.
	
2000-06-05  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/xbm.c: Don't save the mask inverted.

Mon Jun  5 12:48:10 BST 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/animoptimize.c: Fix old bug which could
	cause errors in evaluating the final pixel of each composed layer.

	* plug-ins/common/animationplay.c: Same bug, different plugin.

2000-06-05  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/xbm.c: allow saving of images with alpha.
	If the image has alpha, offer the choice of ignoring it or
	alternatively saving it as a separate XBM file which is the
	mask of the X cursor we are saving.

Sun Jun  4 20:17:25 2000 CET  Austin Donnelly  <austin@picman.org>

	* app/paths_dialog.c: run the sel2path plugin with a proper
	    display ID - previously we were using a _drawable_ ID as the
	    display ID: a blatant type mismatch.

	* plug-ins/sel2path/pxl-outline.c: progress bar on
	    selection-to-path.  Also, small optimization to inner loop:
	    cache the max values of the loops rather than needing a
	    function call per loop iteration (ouch!).

2000-06-04  Sven Neumann  <sven@picman.org>

	* app/interface.c: connect to the toolbox's "style_set" signal
	and set window manager hints in the callback.

2000-06-04  Asbjorn Pettersen  <asbjornP@dualog.no>

	* modules/picmanmodregister.c: 	
	* modules/picmanmodregister.h: Use picmancolordisplay.h and
	picmancolorselector.h

Sat Jun  3 11:11:58 PDT 2000  Sven Neumann <sven@picman.org>

	* app/channel.c
	* app/drawable.c
	* app/floating_sel.c
	* app/gimage_mask.c
	* app/picmandrawable.[ch]
	* app/ink.c
	* app/layer.c
	* app/paint_core.c
	* app/undo.c
	* app/xinput_airbrush.c: be smarter about emitting the 
	"invalidate_preview" signal, so it doesn't slow down 
	painting and image_map color-corrections. 

2000-06-03  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	* libpicman/picmanproceduraldb.c (picman_procedural_db_get_data): a bad
	hack to map the autogenerated code to the old api.

2000-06-02  Asbjorn Pettersen  <asbjornP@dualog.no>

	* modules/picmanmodregister.c: Use picmanmodregister.h.  OS/2 ver.

2000-06-01  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>
	    Simon Budig  <Simon.Budig@unix-ag.org>
	    Garry R. Osgood  <gosgood@idt.net>
	    Seth Burgess <sjburges@picman.org>
	    Tuomas Kuosmanen <tigert@picman.org>
	    Tor Lillqvist <tml@iki.fi>
	    Andy Thomas <alt@picman.org>
	    Andreas Bogk <andreas@andreas.org>
	    Vincent Kolwitz <vincent@andreas.org>

	The remaining bits ...    
	
	* tools/pdbgen/Makefile.am
	* tools/pdbgen/groups.pl
	* tools/pdbgen/pdb/gradient.pdb  -> gradients.pdb

	* app/Makefile.am
	* app/gradient_cmds.c  -> gradients_cmds.c
	
	* libpicman/picmanbrushes_pdb.[ch]
	* libpicman/picmanfileops_pdb.[ch]
	* libpicman/picmanguides_pdb.[ch]
	* libpicman/picmanhelp_pdb.[ch]
	* libpicman/picmanmessage_pdb.[ch]
	* libpicman/picmanparasite_pdb.[ch]
	* libpicman/picmanpatterns_pdb.[ch]
	* libpicman/picmanplugin_pdb.[ch]: replaced with code based on
	files generated using pdbgen

	* libpicman/picmanbrushmenu.c
	* libpicman/picmanpatternmenu.c: 
	reflect changes in picman[brushes|patterns]_pdb.[ch] 
	
	* tools/pdbgen/pdb/gradient.pdb  -> gradients.pdb
	
	* tools/pdbgen/pdb/plug_in.pdb: made it create libpicman code 

	* plug-ins/perl/Picman/Lib.xs: made it compile without warnings.

2000-06-01  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>
	    Simon Budig  <Simon.Budig@unix-ag.org>
	    Garry R. Osgood  <gosgood@idt.net>
	    Seth Burgess <sjburges@picman.org>
	    Tor Lillqvist <tml@iki.fi>

	* libpicman/picmanchannel_pdb.[ch]
	* libpicman/picmanproceduraldb_pdb.[ch]
	* libpicman/picmanunit_pdb.[ch]: replaced with code based on
	files generated using pdbgen

	* libpicman/Makefile.am
	* libpicman/picman.h
	* libpicman/picman_pdb.h
	* libpicman/picmanchannel.[ch]
	* libpicman/picmanproceduraldb.[ch]: new files wrapping around the 
	autogenerated PDB wrappers as found in *_pdb.[ch].

	* libpicman/picmanselection_pdb.h: minor change.

	* tools/pdbgen/pdb/procedural_db.pdb: made it create libpicman code

	* plug-ins/gap/gap_filter_pdb.c
	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/xjt/xpdb_calls.c: picman_query_procedure's signature
	is typesafe now.

2000-06-01  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	* libpicman/picmandrawable_pdb.[ch]
	* libpicman/picmanlayer_pdb.[ch]
	* libpicman/picmanpalette_pdb.[ch]: replaced with code based on files 
	generated using pdbgen

	* libpicman/Makefile.am
	* libpicman/picmanlayer.[ch]:  new files wrapping around the 
	autogenerated PDB wrappers as found in *_pdb.[ch].

	* libpicman/picmandrawable.[ch]: added wrappers around PDB wrappers

	* libpicman/picman.h
	* libpicman/picmanimage.c
	* libpicman/picmanimage_pdb.c
	* libpicman/picmanparasite_pdb.c: various smaller changes
	
2000-06-01  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>
	
	* libpicman/picmangradientmenu.c: forgot a small change here...

2000-06-01  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	Completed the new file structure. Yet only few of the _pdb.[ch] 
	files are based upon generated code and nothing is really 
	autogenerated...

	* app/Makefile.am
	* app/gdisplay_cmds.c      -> app/display_cmds.c 
	* app/gimage_cmds.c        -> app/image_cmds.c 
	* app/gimage_mask_cmds.c   -> app/selection_cmds.c 
	* app/internal_procs.c: related change

	* libpicman/Makefile.am
	* libpicman/picman.h
	* libpicman/picman_pdb.h
	* libpicman/picmandisplay_pdb.[ch]
	* libpicman/picmanimage_pdb.[ch]
	* libpicman/picmanselection_pdb.[ch]: replaced with code based on files 
	generated using pdbgen
	
	* libpicman/picmanchannelops_pdb.[ch]
	* libpicman/picmancolor_pdb.[ch]
	* libpicman/picmanedit_pdb.[ch]
	* libpicman/picmanfloatingsel_pdb.[ch]
	* libpicman/picmanpicmanrc_pdb.[ch]
	* libpicman/picmantexttool_pdb.[ch]
	* libpicman/picmantools_pdb.[ch]
	* libpicman/picmanundo_pdb.[ch]: new files based on generated code

	* libpicman/picmangradientselect.[ch]
	* libpicman/picmanimage.[ch]
	* libpicman/picmanselection.[ch]: new files wrapping around the 
	autogenerated PDB wrappers as found in *_pdb.[ch]. This is necessary 
	since the number of parameters or their order is different from the 
	PDP calls.

	* plug-ins/common/CEL.c: plugged memleak
	
	* plug-ins/common/aa.c: removed compiler warning
	
	* tools/pdbgen/Makefile.am
	* tools/pdbgen/groups.pl
	* tools/pdbgen/pdb/gdisplay.pdb     -> display.pdb
	* tools/pdbgen/pdb/gimage.pdb       -> image.pdb
	* tools/pdbgen/pdb/gimage_mask.pdb  -> selection.pdb

	* tools/pdbgen/pdb/channel_ops.pdb
	* tools/pdbgen/pdb/color.pdb
	* tools/pdbgen/pdb/edit.pdb
	* tools/pdbgen/pdb/floating_sel.pdb
	* tools/pdbgen/pdb/picmanrc.pdb
	* tools/pdbgen/pdb/text_tool.pdb
	* tools/pdbgen/pdb/tools.pdb
	* tools/pdbgen/pdb/undo.pdb: made them create libpicman code
	
2000-05-31  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	Coming closer to our goal of autogenerating the 
	libpicman PDB wrappers... 

	* app/internal_procs.c
	* app/parasite_cmds.c
	* tools/pdbgen/pdb/parasite.pdb: removed parasite_new PDB call.

	* libpicman/picman.h
	* libpicman/picman_pdb.h
	* libpicman/picmanbrushmenu.c
	* libpicman/picmancompat.h
	* libpicman/picmandrawable_pdb.[ch]
	* libpicman/picmanexport.c
	* libpicman/picmangradientmenu.c
	* libpicman/picmanimage_pdb.[ch]
	* libpicman/picmanmenu.[ch]
	* libpicman/picmanparasite.[ch]
	* libpicman/picmanparasite_pdb.[ch]
	* libpicman/picmanpatternmenu.c
	* libpicman/picmanproceduraldb_pdb.[ch]: changes to incorporate the new
	files listed below

	* libpicman/Makefile.am
	* libpicman/picmanbrushes_pdb.[ch]
	* libpicman/picmanbrushselect_pdb.[ch]
	* libpicman/picmanconvert_pdb.[ch]
	* libpicman/picmangradientselect_pdb.[ch]
	* libpicman/picmanpatterns_pdb.[ch] 
	* libpicman/picmanpatternselect_pdb.[ch]: new files partly generated
	using pdbgen

	* tools/pdbgen/lib.pl: some adjustments and fixes to the libpicman
	pdbgen code

	* tools/pdbgen/pdb/help.pdb
	* tools/pdbgen/pdb/pattern_select.pdb: make them generate PDB 
	wrappers for libpicman too.

2000-05-31  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	Episode IV...

	* app/Makefile.am

	* app/message_cmds.c: new name
	* app/interface_cmds.c: removed

	* app/help_cmds.c: new name
	* app/picmanhelp_cmds.c: removed

	* app/internal_procs.c
	* app/picmanhelp_cmds.c
	* app/plug_in_cmds.c: moved picman_plugin_help_register to
	plug_in_cmds.c, s/picman_plugin_domain_add/picman_plugin_domain_register/

	* libpicman/Makefile.am
	* libpicman/picman_pdb.h
	* libpicman/picmanfileops_pdb.[ch]
	* libpicman/picmanguides_pdb.[ch]
	* libpicman/picmanmessage_pdb.[ch]
	* libpicman/picmanprocedural_db_pdb.[ch]
	* libpicman/picmanplugin_pdb.[ch]: new files containing PDB wrappers
	moved out of libpicman/picman.[ch]

	* libpicman/picmanchannel_pdb.c
	* libpicman/picmandisplay_pdb.[ch]
	* libpicman/picmandrawable_pdb.[ch]
	* libpicman/picmanhelp_pdb.[ch]
	* libpicman/picmanimage_pdb.[ch]
	* libpicman/picmanlayer_pdb.c
	* libpicman/picmanparasite_pdb.c
	* libpicman/picmanselection_pdb.c: various changes.

	* libpicman/picmanunit.c: new file
	* libpicman/picmanunit_pdb.[ch]: contains only PDB wrappers prefixed
	with "_" which are called from libpicman/picmanunit.c only.

	* libpicman/picmanunit.h: minor stuff

	* libpicman/picmancompat.h: declared the following functions obsolete:
	 picman_query_database
	 picman_query_images

	* libpicman/picman.[ch]: removed all PDB wrappers.

	* tools/pdbgen/Makefile.am
	* tools/pdbgen/groups.pl: changed

	* tools/pdbgen/lib.pl: tried to fix libpicman autogeneration and
	fixed just a few comments.

	* tools/pdbgen/pdb/interface.pdb
	* tools/pdbgen/pdb/picmanhelp.pdb: removed

	* tools/pdbgen/pdb/help.pdb
	* tools/pdbgen/pdb/message.pdb: new names

	* plug-ins/script-fu/script-fu.c
	* plug-ins/perl/Picman/Lib.xs:
	s/picman_plugin_domain_add/picman_plugin_domain_register/

2000-05-31  Michael Natterer  <mitch@picman.org>
	    Sven Neumann  <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picmanchannel_pdb.h
	* libpicman/picmandisplay_pdb.h
	* libpicman/picmandrawable_pdb.h
	* libpicman/picmangradient_pdb.h
	* libpicman/picmanhelp_pdb.h
	* libpicman/picmanimage_pdb.h
	* libpicman/picmanlayer_pdb.h
	* libpicman/picmanparasite_pdb.h
	* libpicman/picmanselection_pdb.h
	* libpicman/picmanunit_pdb.h
	* libpicman/picmandrawable.[ch]
	* libpicman/picmanhelp.c
	* libpicman/picmanpixelrgn.h
	* libpicman/picmantile.h: new files

	* libpicman/picman.[ch]
	* libpicman/picmanchannel_pdb.c
	* libpicman/picmandrawable_pdb.c
	* libpicman/picmangradient_pdb.c
	* libpicman/picmanpalette_pdb.c
	* libpicman/picmanselection_pdb.c
	* libpicman/picmanhelp_pdb.c
	* libpicman/picmanimage_pdb.c
	* libpicman/picmanlayer_pdb.c
	* libpicman/picmangradientmenu.c
	* libpicman/picmanbrushmenu.c
	* libpicman/picmanmenu.[ch]
	* libpicman/picmanpatternmenu.c
	* libpicman/picmanpixelrgn.c
	* libpicman/picmantile.c: part III of the (final) libpicman cleanup

	Split picman.h into a bunch of headers. More or less finished the
	task of moving PDB wrappers into separate files in preparation 
	of the upcoming autogen-it-all-attack.

	* libpicman/picmancompat.h: declared the following functions obsolete:
	picman_[channel|layer]_[width|height]
	picman_layer_[bpp|type]
	picman_channel_get_[image|layer]_ID

	* libpicman/picmantypes.h: new file:
	GPlugInInfo
	GTile
	GDrawable
	GPixelRgn
	GParamColor
	GParamRegion
	GParamData
	GParamDef
	GParam: s/G/Picman/

	* app/picmanhelp_cmds.c
	* app/plug_in_cmds.c
	* tools/pdbgen/pdb/picmanhelp.pdb
	* tools/pdbgen/pdb/plug_in.pdb: changed help texts.

2000-05-31  Michael Natterer  <mitch@picman.org>

	* app/picmanunit.c
	* libpicman/*: all libpicman headers are included via picman.h or
	picmanui.h, so include <gtk/gtk.h> there and in the *.c files.
	Various cleanups.

Wed May 31 00:43:09 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

        * tips/picman_tips.cs.txt: Updated translation.

Mon May 29 18:47:48 EDT 2000 Adrian Likins <adrian@picman.org>

	* data/brushes/vine.gbr: removed file that shouldnt 
	of been included
	 
	* data/brushes/Makefile.am
	* data/brushes/SketchBrush-*: Added the pencil sketch
	imagepipes from tigert's site.

Mon May 29 22:41:31 BST 2000 Andy Thomas <alt@picman.org>

	* app/about_dialog.c

	Added C.Bunks.

2000-05-29  Sven Neumann  <sven@picman.org>

	* app/Makefile.am
	* app/paint_core.c
	* app/paint_core_kernels.h: moved brush subsampling kernels
	into its own header file and generated a different kernel 
	(using the new kernelgen tool, see below). The new kernel 
	simulates circular pixels instead of rectangular ones and 
	gives slightly different results at brush edges.

	* app/gimage_mask.c: when stroking a selection, offset the
	points by 0.5 to align the brushes with the pixel grid. This 
	lets you create 1-pixel wide rectangles and ellipses.

	* tools/Makefile.am
	* tools/kernelgen.c: simple hack to generate subsampling
	kernels.
	
2000-05-29  Tor Lillqvist  <tml@iki.fi>

	* picmanrc.win32: Update to match Unix version.

	* app/picman.sym: Add dialog_{,un}register.

	* app/dialog_handler.c: Include <gmodule.h>, mark above functions
	with G_MODULE_EXPORT.

	* app/makefile.{msc,cygwin}: Update to match current GLib 1.3.

	* libpicman/picman.def
	* libpicman/picmanui.def: Update according to function name changes etc.
	
	* libpicman/makefile.{msc,cygwin}: Update for changed file
	names.

	* libpicman/makefile.cygwin
	* modules/makefile.cygwin: Simplify, use the
	../build/win32/make.mingw file.
	
	* plug-ins/common/gz.c (save_image): Somewhat more informative
	error message on Win32 when gzip.exe isn't found (most probable
	cause of error).

	* tips/picman_tips.txt: Clarify location of personal PICMAN directory
	on Unix and Windows.

2000-05-29  Tuomas Kuosmanen  <tigert@picman.org>

	* plug-ins/gdyntext/gdyntext.c (gdt_get_values): We dont need to say 
	this to the user every time. Since the user just needs to click "ok" 
	anyway.

Sun May 28 10:21:50 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.23 release (1.2pre)

2000-05-28  Michael Natterer  <mitch@picman.org>

	* libpicman/picman.h
	* libpicman/picmancolordisplay.h
	* libpicman/picmancolorselector.h
	* libpicman/picmanmatrix.h
	* libpicman/picmanmodule.h
	* libpicman/picmanunit_pdb.c: purely cosmetic stuff and added some
	typedefs to make the html documentation nicer. Moved the module
	documentation from the headers to the sgml files.

	* app/module_db.[ch]: The type of the "init" and "unload" functions
	has changed. Code cleanup.

2000-05-27  Sven Neumann  <sven@picman.org>

	* app/color_select.c: use spinbuttons in the PICMAN
	color_selector

Sat May 27 04:27:36 EDT 2000 calvinw@mindspring.com

	* app/picmanimage.c
	--Fixed Fujita Yuji's bug (reported 27May2000 to
	picman-developer) -larger than 64x64 brush and
	selection mask crashes smudge/dodgeburn/convolve
	This was a rowstrides bug in picman_image_replace_image.

2000-05-27  Michael Natterer  <mitch@picman.org>

	Libpicman cleanup part II (with a little help from Yosh
	who moved the CVS files).

	* libpicman/Makefile.am
	* libpicman/picmanchannel_pdb.c
	* libpicman/picmandisplay_pdb.c
	* libpicman/picmandrawable_pdb.c
	* libpicman/picmangradient_pdb.c
	* libpicman/picmanhelp_pdb.c
	* libpicman/picmanimage_pdb.c
	* libpicman/picmanlayer_pdb.c
	* libpicman/picmanpalette_pdb.c
	* libpicman/picmanparasite_pdb.c
	* libpicman/picmanselection_pdb.c
	* libpicman/picmanunit_pdb.c: new names of all files which contain
	PDB wrappers.

	* modules/Makefile.am
	* libpicman/picmancolordisplay.h
	* libpicman/picmancolorselector.h
	* libpicman/picmanparasite.[ch]
	* libpicman/picmanparasiteio.[ch]
	* modules/picmanmodregister.[ch]: renamed.

	* libpicman/picmanparasiteF.h
	* libpicman/picmanparasiteP.h: removed because picman.h had to include
	the private header anyway.

	* app/color_notebook.c
	* app/color_select.c
	* app/gdisplay_color.[ch]
	* app/gdisplay_color_ui.c
	* app/picmanbrushpipe.c
	* app/picmandrawable.[ch]
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanparasite.[ch]
	* app/picmanrc.c
	* app/image_new.c
	* app/layer.c
	* app/parasite_cmds.c
	* app/parasitelist.[ch]
	* app/plug_in.c
	* app/procedural_db.c
	* app/undo.c
	* app/xcf.c
	* libpicman/picman.[ch]
	* libpicman/picmancolordisplay.h
	* libpicman/picmanparasite.[ch]
	* modules/cdisplay_gamma.c
	* modules/cdisplay_highcontrast.c
	* modules/colorsel_gtk.c
	* modules/colorsel_triangle.c
	* modules/colorsel_water.c
	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/FractalExplorer/Events.c
	* plug-ins/Lighting/lighting_apply.c
	* plug-ins/Lighting/lighting_shade.c
	* plug-ins/MapObject/mapobject_image.c
	* plug-ins/common/gpb.c
	* plug-ins/common/psp.c
	* plug-ins/sel2path/sel2path.c
	* po-libpicman/POTFILES.in
	* tools/pdbgen/pdb.pl
	* tools/pdbgen/pdb/parasite.pdb: changed includes accordingly.

Fri May 26 23:14:14 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/common/illusion.c

	Preview tidy.

2000-05-26  Michael Natterer  <mitch@picman.org>

	Final (1.2) libpicman namespace cleanup part I:

	* app/picmanbrushpipe.c
	* app/picmandrawable.[ch]
	* app/picmanimage.[ch]
	* app/picmanparasite.[ch]
	* app/picmanrc.c
	* app/image_new.c
	* app/parasite_cmds.c
	* app/parasitelist.[ch]
	* app/parasitelistP.h
	* app/plug_in.c
	* app/undo.c
	* app/xcf.c
	* libpicman/color_display.h
	* libpicman/picman.[ch]
	* libpicman/picmandrawable.c
	* libpicman/picmanimage.c
	* libpicman/picmanparasite.c
	* libpicman/picmanprotocol.c
	* libpicman/parasite.[ch]
	* libpicman/parasiteF.h
	* libpicman/parasiteP.h
	* libpicman/parasiteio.[ch]
	* modules/cdisplay_gamma.c
	* modules/cdisplay_highcontrast.c
	* plug-ins/common/csource.c
	* plug-ins/common/gif.c
	* plug-ins/common/gpb.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/psp.c
	* plug-ins/common/tiff.c
	* plug-ins/common/xbm.c
	* plug-ins/gap/gap_exchange_image.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/xjt/xjt.c: s/Parasite/PicmanParasite/g,
	                      s/parasite_*/picman_parasite_*/g

	* libpicman/picmancompat.h: added the old names.

	* tools/pdbgen/pdb.pl
	* tools/pdbgen/pdb/parasite.pdb: dito and an ugly perl hack to work
	around a substitution clash. Perl gurus, feel free to fix it.

Fri May 26 22:33:05 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/common/wind.c

	Code tidy only.	

Fri May 26 22:21:57 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/common/noisify.c

	Changes to the preview so it previews with alpha better..
	
Fri May 26 00:08:26 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/common/glasstile.c

	More changes to the preview so it actually does preview.
	Changed pluging so alpha channel is also tiled. This 
	seems to produce better results. 

	Fixed some some boundary conditions bugs 
	that caused "streaks" to appear when using some tile spaces.
	
2000-05-25  Sven Neumann  <sven@picman.org>

	* app/color_select.c: update the color-selector when Return
	is pressed in the hex-entry.

Thu May 25 00:18:20 BST 2000 Andy Thomas <alt@picman.org>

	* plug-ins/common/wind.c

	Ok. OK. The direction stuff works with transparent areas as well.

Wed May 24 23:53:04 BST 2000 <alt@picman.org>

	* plug-ins/common/wind.c

	The preview works now as it should (ie what you see in the preview
	is what you get when the plugin gets applied). 
	Also changed so that the plugin takes note of the alpha channel
	if one exists.

	To see the changes try the plugin on an image that is mainly 
	transparent....

	Note some of the other plugins that have recently had previews
	added also suffer from the problem that the preview
	is not correct if the image contains transparent areas (e.g. noisify).

2000-05-24  Sven Neumann  <sven@picman.org>

	* plug-ins/common/grid.c: enabled preview in indexed 
	mode. Of course the colors do not reflect the result 
	exactly, but it's better than nothing.

	* jigsaw.c
	* plasma.c
	* wind.c: forgot to set preview flag to TRUE in the 
	calls to picman_ui_init().

2000-05-23  Sven Neumann  <sven@picman.org>

	* plug-ins/common/flarefx.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/grid.c
	* plug-ins/common/illusion.c
	* plug-ins/common/jigsaw.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/noisify.c
	* plug-ins/common/nova.c
	* plug-ins/common/plasma.c: I am stupid. Dropping the
	4-byte alignment caused the buffer's rowstride to 
	become different from the GtkPreview's one. Fixed it
	by using preview->rowstride in all cases. 

2000-05-23  Sven Neumann  <sven@picman.org>

	* plug-ins/common/plasma.c: applied modified version of 
	picman-timecop-200005-12.plasma which adds a preview to the
	plasma plug-in. 

	* plug-ins/common/wind.c: applied modified version of 
	picman-timecop-200005-14.wind which adds a preview to the
	wind plug-in. 

2000-05-23  Sven Neumann  <sven@picman.org>
	
	* plug-ins/common/flarefx.c
	* plug-ins/common/glasstile.c: a more elegant way to update 
	the preview when parameters change.

	* plug-ins/common/grid.c: if a selection is active, show the 
	selected area in the preview.
	
	* plug-ins/common/illusion.c: applied modified version of 
	picman-timecop-200005-7.illusion which adds a preview to the
	illusion plug-in.

	* plug-ins/common/jigsaw.c: applied modified version of 
	picman-timecop-200005-8.jigsaw which adds a preview to the
	jigsaw plug-in.

	* plug-ins/common/max_rgb.c: applied modified version of 
	picman-timecop-200005-9.max_rgb which adds a preview to the
	max_rgb plug-in.

	* plug-ins/common/noisify.c: applied modified version of 
	picman-timecop-200005-10.noisify which adds a preview to the
	noisify plug-in.

	* plug-ins/common/nova.c: applied modified version of 
	picman-timecop-200005-11.nova which adds a preview to the
	nova plug-in.

2000-05-23  Sven Neumann  <sven@picman.org>

	* plug-ins/common/flarefx.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/grid.c: ditched the 4-byte alignment of the 
	preview_data since it was only causing trouble. Now the previews
	work even for the ugly cases like width|height == 1.
	
2000-05-22  Sven Neumann  <sven@picman.org>

	* plug-ins/common/flarefx.c: fixed a bug in the new 
	preview code and some other small changes

	* plug-ins/common/glasstile.c: applied modified version
	of picman-timecop-200005-5.glasstile which adds a preview 
	to the glasstile plug-in. 

	While I was on it, I fixed a bug that caused glasstile 
	to crash when invoked on a small selection.

2000-05-22  Sven Neumann  <sven@picman.org>

	* gtkrc: for tooltips set the foreground color too. Closes
	bug #11547.
	
2000-05-22  Sven Neumann  <sven@picman.org>

	* app/tools.c: moved Magnify into the Transformation tools
	category. This is not entirely correct, but at least the 
	tools are now grouped as they appear in the toolbox.
	
	* plug-ins/common/flarefx.c: applied modified version of 
	picman-timecop-200005-4.flarefx which adds a scaled down 
	flarefx to the preview.
	
2000-05-22  Michael Natterer  <mitch@picman.org>

	* plug-ins/*: s/picman_plugin_help_func/picman_standard_help_func/

	Coincidentially, my script also removed empty lines from the end
	of _all_ *.c file (not only from those which contained
	picman_plugin_help_func).

2000-05-22  Sven Neumann  <sven@picman.org>

	* plug-ins/common/grid.c: applied a heavily modified version
	of picman-timecop-200005-6.grid which adds a preview to the
	grid plug-in. Not much of the initial patch is left however
	since it doesn't make sense to use a scaled-down preview of
	the image, then draw an unscaled grid upon it. Changed it
	so that the preview shows the upper left corner of the image.

	Will look into the other picman-timecop patches too. Even if it is
	only to proof that I'm not the asshole he stated me to be in 
	picman-timecop-readme.

2000-05-22  Sven Neumann  <sven@picman.org>

	* plug-ins/common/mapcolor.c: fixed possible divide by zero 
	spotted by Scott Heavner. Closes bug #11731.

Sun May 21 20:00:55 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

	On request of Martin Weber <martweb@gmx.net>:
	* plug-ins/bmp/bmpread.c: Initial comment change.

2000-05-21  Michael Natterer  <mitch@picman.org>

	These changes enable help support for 3rd party plug-ins which
	install their help files outside PICMAN's main help dir.

	Instead of calling picman_help(), picman_plugin_help_func() etc.,
	all help callbacks now have to call picman_standard_help_func()
	which has different implementations in the app and in libpicman.

	There is a new function picman_plugin_help_register() which can
	be called during plug-in query. plug_in.c keeps a list of
	executable_name/help_path pairs. Plug-ins have to pass their
	exec. name to picman_help() which uses the list to find the plug-in's
	help directory.

	* app/picmanhelp.[ch]: picman_help() now takes a help_path parameter.
	help_path == NULL means the standard help directory. Various
	changes to pass the help_path to the help browser.

	* app/picmanrc.c: save the plug-in's help_path in the pluginrc file.

	* app/menus.c: ugly hack to enable help_paths in the "F1" callback.

	* app/plug_in.[ch]: many help_path related changes. Use g_basename()
	instead of strrchr(str,G_DIR_SEPARATOR), cosmetic cleanups.

	* app/internal_procs.c
	* app/picmanhelp_cmds.c
	* tools/pdbgen/pdb/picmanhelp.pdb: new procedure
	picman_plugin_help_register(). picman_help() takes a second parameter
	which is the executable name (not the help_path).

	* app/color_notebook.c
	* app/commands.c
	* app/lc_dialog.c
	* app/preferences_dialog.c
	* app/tools.c: call picman_standard_help_func() instead of picman_help().

	* libpicman/picman.c: new function picman_get_progname() which returns
	the full path of the plug-in's executable.

	* libpicman/picman.h: export the new function,
	removed picman_plugin_help_func(), picman_help() takes the executable
	name as second parameter.

	* libpicman/picmancompat.h: added picman_plugin_help_func().

	* libpicman/picmanhelp.c: a wrapper for picman_plugin_help_register(),
	changed the calls to picman_help.

	* libpicman/picmanhelpui.[ch]: call picman_standard_help_func() instead
	of picman_help().

	* plug-ins/helpbrowser/helpbrowser.c: now called with an additional
	help_path parameter. Various changes to enable
	help_path != picman_standard_help_path.

	Unrelated stuff:

	* app/batch.h: added missing GPL header.

	* app/picmanunit.c: had a LGPL header, merged some fprintf's into
	one call.

	* app/procedural_db.[ch]: cosmetic: g* types, s/g_malloc/g_new/,
	prototypes, indentation.

	* app/resize.c: use less packing widgets. didn't find the "offset"
	redraw bug :(

2000-05-20  Garry R. Osgood <gosgood@idt.net>

	* app/docindex.c
	Beware "int a; a = fgetc(fp); ... if(a == EOF)." for fgetc()
	is advertised to get the next "unsigned character converted 
	to an integer..." a non-negative on SGI, in particular the end-of-file
	return value '\377' promotes to integer 255 and this is not
	the same as EOF as defined in SGI's stdio.h:145:# define EOF (-1).
	feof(fp) returns a hardware independent indicator, so this construct
	was put in place instead. Put an end to infinite looping at line 239
	(because end of file was not being recognized everywhere)
 	giving rise to #11578. See bug report; closes 11578.

2000-05-20  Sven Neumann  <sven@picman.org>

	* plug-ins/webbrowser/web-browser.scm: added links to 
	Carey Bunks's "Picman-Savvy" and "Grokking the PICMAN" resources.

        * libpicman/picmanwidgets.[ch]: use unsigned integers for the
	memsize_entry. Added picman_uint_adjustment_update().

	* picmanrc.[ch]
	* preferences_dialog.c: use unsigned integers for memsizes 
	(tile_cache_size and max_new_image_size). Allows to set those
	values up to 4GB. Fixes bug #11053.

2000-05-20  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/bmp/bmpwrite.c: Picman writes valid RGB BMPs again now
	(thanks miha.tomsic@guest.arnes.si)

2000-05-20  Sven Neumann  <sven@picman.org>

	* app/transform_core.c (transform_core_cut): when transforming
	a selection in an indexed image, we used to create an indexed
	tile_buffer. This gives strange (black) results later when we
	use layer_new_from_tiles() since that function assumes that a
	TileManager is always RGB or GRAY. Eeek!!

	Instead of fixing it correctly by changing the TileManager 
	struct, I've unset the keep_indexed flag when calling 
	gimage_mask_extract(), so whatever layer_new_from_tiles()
	assumes becomes true. Fixes bug #10762.

2000-05-20  Sven Neumann  <sven@picman.org>

	* plug-ins/common/sample_colorize.c: reset progress to 0.0 when 
	finished. Does this fix bug #11420 ?

2000-05-18  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/psp.c (read_block_header): Byteswap return
	value. Thanks to Raphael Quinet for finding this.

2000-05-17  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/scripts/camo.scm: no need to mention the
	ranges in the label, we use a slider anyway...

	* plug-ins/script-fu/scripts/rendermap.scm
	* plug-ins/script-fu/scripts/textured-logo.scm: use SF-OPTION
	
2000-05-17  Asbjorn Pettersen  <asbjornP@dualog.no>

	* app/module_db.c: 
	* modules/modregister.h: cd wo
	* modules/modregister.c (mod_dialog_register): add OS/2 functions
	for dialog_register() and dialog_unregister().

2000-05-17  Sven Neumann  <sven@picman.org>

	* app/menus.c: rewrote the "Help/Dump Items" function. Now it
	outputs the accelerator keys too. Unfortunately this does only
	work with LANG=C yet.

2000-05-17  Michael Natterer  <mitch@picman.org>

	* app/plug_in.c: be a bit more verbose in the "Plug-In crashed"
	message: Warn the user that Picman's internal state may be messed
	up and that the safe way is to restart Picman.
	Unified all plug-in error messages.

	* libpicman/picman.c: also changed to messages that the Picman is using
	a newer/older wire protocol than the plug-in.

2000-05-17  Sven Neumann  <sven@picman.org>

	* app/layers_dialog.c: corrected the usage of the 
	"invalidate_preview" signal. Now simpler and more
	robust. Should fix bug #11248.

Tue May 16 20:26:13 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

	* picman/plug-ins/gap/gap_mov_dialog.c,
	plug-ins/gdyntext/gdyntext.c,
	plug-ins/script-fu/scripts/camo.scm: Typo fixes.
	* plug-ins/bmp/bmpread.c: Cosmetical fixed (german->english,
	added ';').

2000-05-16  Michael Natterer  <mitch@picman.org>

	* app/commands.c
	* app/layers_dialog.c
	* app/resize.c: set the scale/resize dialog insensitive before
	scaling/resizing to keep users from pressing "OK" again.
	Fixes #10656.

Mon May 15 22:48:17 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.22 release (1.2pre)

2000-05-16  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picmanenv.c (picman_path_parse)
	* app/picmanrc.c (transform_path): Don't try to handle tilde (~) at
	all on Windows. The tilde is used when mangling long file names
	into 8.3 form, and some people have a HOME environment variable
	that contains this kind of 8.3 path with a tilde. This causes
	interesting effects if we expand a tilde in some picmanrc variable
	with $HOME, which contains a tilde, which we expand with $HOME,
	etc.

2000-05-14  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/gpb.c (gih_save_dialog): Fix typo introduced
	when picman_spin_button_new() was taken into use. Now you can adjust
	the cell height again.

2000-05-14  Michael Natterer  <mitch@picman.org>

	After a weekend of extensive mail exchange with the signal crew,
	we finally found that #2742 is not a Picman bug but a real OSF/1
	bug. OSF/1 does _not_ reliably restart read() and write() calls
	on certain slow devices (pipes).

	* libpicman/picmanwire.[ch]: guard all read/write calls on the wire
	with loops checking for EINTR. This has to be done "manually"
	as glib's GIOChannels return G_IO_ERROR_UNKNOWN on the occurence
	of EINTR (which is a bug, too).
	s/int/gboolean and minor cleanups while I was on it (not changing
	any logic).

	This fix depends on the current (broken) state of the GIOChannel
	implementation and is scheduled for removal as soon as glib
	behaves nicely here.

	Left SA_RESTART there for the moment in app/main.c. See it as
	defensive programming or just my fear to change two #2742-related
	places at the same time. We might choose to remove SA_RESTART
	later. Many thanks again to Austin, Garry and Tim.

2000-05-12  Sven Neumann  <sven@picman.org>

	* picmandrawable.c: enabled the (commented out) signal 
	"invalidate_preview".
	
	* app/layers_dialog.c: connect to the "invalidate_preview"
	signal to catch changes that need to be shown in the layer
	previews. Synthetize an expose event when a layer changes. 
	
	Expose events are optimzed away by GTK+ if the widget is not
	visible. Therefore, previews not visible in the layers_dialog
	are not redrawn when they invalidate. Later the preview gets
	validated by the image_preview in lc_dialog but is never
	propagated to the layer_pixmap. We work around this by using an
	additional flag "layer_pixmap_valid" so that the pixmap gets
	updated once the preview scrolls into sight.
	
	We should probably do the same for all drawables (masks, 
	channels), but it is much more difficult to change one of these
	when it's not visible.

	In other words: This is an awful hack but otherwise I would have
	had to rewrite it all....

	Fixes bugs #10549, #10300 and #8787.

	* app/channel.[ch]
	* app/layer.[ch]: code review and indentation
	
2000-05-12  Michael Natterer  <mitch@picman.org>

	* libpicman/picman.c (picman_plugin_io_error_handler): fixed a
	compiler warning about a missing return.

	Slightly changed the messages that picman<->plugin use different
	protocol versions and a s/sprintf/g_snprintf/.

2000-05-12  Sven Neumann  <sven@picman.org>

	* INSTALL: mention that gtk+ version 1.2.7 or higher is mandatory

2000-05-12  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: Don't bother checking for CODEC
	* plug-ins/bmp/bmpread.c: Misc. crash bugs fixed

2000-05-12  Jay Cox  <jaycox@picman.org>

	* app/picmanimage.c: Copy the name, tatto and parasites of the 
	bottom layer to the new merged layer in picman_image_merge_layers.

2000-05-11  Tor Lillqvist  <tml@iki.fi>

	* PLUGIN_MAINTAINERS
	* plug-ins/twain/*
	* plug-ins/winsnap/*: Changed Craig Setera's email address on his
	request.

2000-05-11  Sven Neumann  <sven@picman.org>

	* app/fileops.c: unified messages

2000-05-11  Michael Natterer  <mitch@picman.org>

	* libpicman/picman.c: define WAIT_ANY == -1 if it's undefined.

2000-05-10  Michael Natterer  <mitch@picman.org>

	Another try to get the signal/dead child recovery stuff right.

	Could the brave signal crew (TM) (Austin, Garry, Raphael, Tim)
	please do bad tests to the new code? I removed all strange
	constants (SA_NODEFER etc.) and used only glib and POSIX stuff.

	* app/main.c
	* libpicman/picman.c:
	- Call picman_signal_private() with no flags to enforce a proper
	  sigaction() behaviour (block signals while handler is active).
	- Removed the reentrancy guards from the handlers.
	- Renamed the handlers.
	- Ignore SIGPIPE in the app and in plugins.
	- Re-introduced the SIGCHLD handler because it should work
	  now. Also added a SIGCHLD handler to libpicman/picman.c.

	* app/errors.c
	* libpicman/picman.c: in the signal handler, unblock all signals
	with sigprocmask() before calling g_on_error_query() because
	gdb otherwise inherits the blocked signals and does nothing.
	Wrapped the statements with "if (TRUE) { }" blocks so it's
	easy to make the stack trace a command line option.

	* app/plug_in.c
	* libpicman/picman.c: listen for G_IO_ERR and G_IO_HUP on the read
	channels. In the app, pop up an error message and clean up the
	plugin. In plugins, clean up and exit.

	* libpicman/picmanwire.c: removed the "plug-in chrashed?" message
	and print the program's name with all error messages.

	* plug-ins/helpbrowser/helpbrowser.c: typo.

2000-05-10  Tor Lillqvist  <tml@iki.fi>

	* README.win32: Clarifications.

	* app/makefile.{cygwin,msc}: Remove docindexif.

	* app/picmanrc.c (save_picmanrc_strings): Pass strings through
	picman_strescape().

	* libpicman/picmanui.def: Add picman_toggle_button_sensitive_update.

	* plug-ins/makefile.{cygwin,msc}: Add some new unofficial
	plug-ins. Remove bmpos2 object.

Wed May 10 04:58:13 CEST 2000  Marc Lehmann <pcg@goof.com>

        * app/plug_in.c: Fix endless loop problem for certain image_types,
        added a warning.
        * plug-ins/script-fu/scripts/asc2img.scm: Change image_types argument
        from "bar" to "".

2000-05-08  Jay Cox  <jaycox@picman.org>

	* app/image_map.[ch]: new function image_map_clear that removes
	the preview without freeing the image_map.
	
	* app/brightness_contrast.c
	* app/color_balance.c
	* app/curves.c
	* app/hue_saturation.c
	* app/levels.c
	* app/posterize.c
	* app/threshold.c: Add a call to image_map_clear in the
	preview toggle button callback.  This makes the preview toggle
	button behave as expected.
	
	* app/histogram_tool: remove an unnecessary include.

2000-05-09  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: tRNS expansion using transforms for
	the RGB and Grayscale cases, for Steven Grady

2000-05-08  Michael Natterer  <mitch@picman.org>

	* app/errors.c (picman_fatal_error): oops, forgot a debugging
	g_print().

	* app/gdisplay.c (gdisplay_set_menu_sensitivity): there _can_ be
	an active drawable even if there is no layer. Also reordered
	the rest if the checks.

2000-05-08  Sven Neumann  <sven@picman.org>

        * libpicman/picmanmenu.[ch]: code review, no real changes

2000-05-08  Sven Neumann  <neo@wintermute.ochsenblut.de>

	* plug-ins/script-fu/scripts/tileblur.scm
	* plug-ins/script-fu/scripts/ripple-anim.scm
	* plug-ins/script-fu/scripts/xach-effect.scm
	* plug-ins/gap/sel-to-anim-img.scm: made them use SF-OPTION and 
	SF-ADJUSTMENT and adjusted a few other parameters
	
2000-05-08  Sven Neumann  <sven@picman.org>

        * libpicman/picmanbrushmenu.c
        * libpicman/picmangradientmenu.c
	* libpicman/picmanmenu.h
        * libpicman/picmanpatternmenu.c: added gtk_grab_[add|remove] calls
	on popup [open|close] and reformatted the code. Fixes bug #10494.

2000-05-08  Michael Natterer  <mitch@picman.org>

	* app/fileops.c
	* app/gdisplay.c: return silently from save/save_as and grey out
	the menu entries if there is no active drawable. Fixes #10239.

2000-05-08  Michael Natterer  <mitch@picman.org>

	* app/docindex.c (open_idea_window): put the ops_buttons box
	into the action_area. Makes the dialog smaller.

2000-05-07  Sven Neumann  <sven@picman.org>

	* app/menus.c: in Image/Filters move all entries that are not 
	submenus to the top of the menu. 
	
	* app/plug_in.c: order all plugin menu-entries alphabetically 
	(in the current locale) before sending them to menus.c. This does 
	not yet work perfectly since picman-perl i18n seems to be broken 
	(at least on my box). This was already the case _before_ this 
	change and I have checked carefully, that the picman-perl domain 
	gets passed through to menus_create_item_...() correctly.
	
	* plug-ins/script-fu/script-fu-scripts.c: order all script-fu
	menu-entries alphabetically (in the current locale) before
	registering them.
	
	* plug-ins/script-fu/script-fu.c: minor cleanups

	* plug-ins/bmp/bmpread.c
	* plug-ins/bmp/bmpwrite.c
	* plug-ins/xjt/xjt.c: strings used with g_message do not need
	a trailing newline

2000-05-07  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c
	* app/docindex.[ch]: named all public functions document_index_*().
	Don't loop/segfault when opening an old "ideas" file but silently
	skip the first line.

	* app/fileops.[ch]: do some file access sanity checks before
	actually calling the load/save proc. Show the full file name
	in all error messages. Use a query_boolean_box for the overwrite
	warning. Made file_save() static.
	Also copied some Win32 #define's from libpicman/picmanenv.c for the
	file access stuff. Tor, could you have a look at them please?

2000-05-07  Sven Neumann  <sven@picman.org>

        * picmanrc.in
        * picmanrc.win32
	* app/picmanrc.c: set default image size back to 256x256, default
	to local paint options and info-window-follows-mouse.

	* app/brightness_contrast.c
	* app/docindex.c
	* app/hue_saturation.c: picky changes on some labels.

	* app/tips_dialog.c: applied (sort of) picman-quinet-20000504-0,
	which replaces the message "Show tip next time" in the
	Tip Of The Day dialog with "Show tip next time PICMAN starts".
	
2000-05-06  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/bmp/bmpread.c: Fixed long standing "RLE" bug, but
	without really understanding the code :(

2000-05-06  Michael Natterer  <mitch@picman.org>

	* app/menus.c (menus_reorder_plugins): no need to reorder
	<Image>/Script-Fu twice.

	* app/docindex.c: replaced the toolbar by an ops_buttons box.
	Also default to opening the file instead of rising an already
	open display.

2000-05-06  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.[ch]: new public function picman_dnd_file_dest_set().
	Moved the file/url dnd stuff from interface.c to picmandnd.c.

	* app/docindex.c
	* app/interface.c: use the function from picmandnd.

2000-05-06  Michael Natterer  <mitch@picman.org>

	* po/POTFILES.in
	* app/Makefile.am
	* app/docindexif.[ch]: removed because it was not doing core/ui
	separation at all. UI functions were randomly scattered across
	both files.

	* app/app_procs.c
	* app/docindex.[ch]: swallow all functions from docindex.c,
	removed functions which were called just once, replaced the
	tree by a list. Actually raise displays of already open images.
	When opening a file which is already in the list, move it's entry
	to the top; this way the toolbox' last_opened list finally works
	as expected.

2000-05-06  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/bmp/*: Fixed #9802, added 32-bit and 16-bit support
	and improved OS/2 support so that it Works For Me (TM).
	Incidentally merged the separate os/2 support code, making
	the code smaller, and I think easier to understand.

2000-05-05  Michael Natterer  <mitch@picman.org>

	* app/docindex.c: the "delete_event" callback should always do
	the same as the "Close" callback.

2000-05-05  Michael Natterer  <mitch@picman.org>

	Made the document index a bit more like the rest of the dialogs:

	* app/commands.[ch]
	* app/menus.c: added a cmd_callback instead of calling a function
	in docindex.c directly.

	* app/picmanrc.c
	* app/session.[ch]: added proper session management.

	* app/app_procs.c
	* app/docindex.[ch]
	* app/docindexif.[ch]: removed another bunch of useless variables
	and functions. Removed the status bar because it was not telling
	very useful stuff. Removed the window position/size from the
	"ideas" file.

	Note: you have to either remove your ~/.picman-1.1/ideas file or
	remove it's first line or experience a nice endless loop :)

2000-05-05  Michael Natterer  <mitch@picman.org>

	* app/docindex.[ch]
	* app/docindexif.[ch]: call dialog_[un]register(). Fixes #10284.
	Also removed some useless stuff.

	* app/gdisplay_color_ui.c
	* modules/cdisplay_gamma.c
	* modules/cdisplay_highcontrast.c: call dialog_[un]register().

2000-05-05  Jay Cox  <jaycox@picman.org>

	* app/pixel_processor.c: try to minimize the overhead of
	multiprocessor support.  This should fix bug #9296
	but it has not been tested on a dual processor machine.

2000-05-04  Tor Lillqvist  <tml@iki.fi>

	* picmanrc.win32: Replace "color-cube" by "min-colors".

	* */makefile.{cygwin,msc}: Updates. Install to /install/picman.

	* libpicman/picman.def: Add picman_min_colors.

	* modules/cdisplay_highcontrast.c: Include picmanmath.h instead of
	math.h. Use G_PI instead of M_PI.

2000-05-04  Sven Neumann  <sven@picman.org>

	* modules/cdisplay_gamma.c: 
	* modules/cdisplay_highcontrast.c: use picmanui functions to set
	up the dialogs

Wed May  3 14:49:09 PDT 2000 Manish Singh <yosh@picman.org>

	* picman.m4: help spacing correction

2000-05-03  Michael Natterer  <mitch@picman.org>

	* app/layers_dialog.c: removed layers_dialog_idle_set_layer_focus()
	because Wolfgang pointed out that it caused bad segfaults. This
	fixes #10139 and #9844. OTOH this brings back the bug that the
	active layers is sometimes not the selected one in the layers
	dialog, grmpf.

	* plug-ins/script-fu/script-fu-scripts.c: small cleanups.

	* plug-ins/gap/README
	* plug-ins/gap/gap_exchange_image.c
	* plug-ins/gap/gap_lib.[ch]
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_mov_dialog.[ch]
	* plug-ins/gap/gap_mov_exec.[ch]
	* plug-ins/gap/gap_navigator_dialog.c: applied a patch from
	Wolfgang Hofer <hof@hotbot.com>.

2000-05-03  Pablo Saratxaga <pablo@mandrakesoft.com>

	* configure.in
	* po/ca.po: added Catalan file

2000-05-03  Sven Neumann  <sven@picman.org>

	* plug-ins/faxg3/faxg3.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/gdyntext/gdyntext_ui.c: i18n fixes

Wed May  3 02:40:12 CEST 2000  Marc Lehmann <pcg@goof.com>

        * configure.in: Remove $CFLAGS from perl's compiler flags.  This
        should fix the problems when perl's $CC and picman's $CC are
        different (and is not useful anyway).

        There shouldn't be any major perl build glitches left at this
        moment.

2000-05-02  Michael Natterer  <mitch@picman.org>

	* app/main.c
	* libpicman/picman.c: as noticed by Garry, Tim, Raphael and probably
	many others, my latest signal change introduced a Linuxism
	which doesn't compile on any other UNIX system, eek.
	s/SA_NOMASK/SA_NODEFER/ makes it compile and is hopefully
	the last chapter in this saga.

2000-05-02  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picmanmath.h: #elsifdef?

Mon May  1 13:35:46 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.21 release (1.2pre)

2000-05-01  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/[r-z]*.c: use picman_ui_init(). Minor cleanups like
	below: includes, indentation, prototypes...

Mon May  1 10:58:34 PDT 2000 Manish Singh <yosh@picman.org>

	* app/paint_core.c: applied picman-quinet-000427-0, draw the straight
	line preview in the center of the start and end pixels at high zoom
	levels.

2000-05-01  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/[h-p]*.c: use picman_ui_init(). Minor cleanups like
	reordering includes consistently and removing trailing commas from
	enums and param defs.

2000-05-01  Michael Natterer  <mitch@picman.org>

	* libpicman/picmansignal.[ch]
	* libpicman/picmanui.c: don't panic, this is not another signal handling
	change but only a namespace cleanup to make the html documentation
	better. Also added documentation for picman_ui_init().

2000-05-01  Michael Natterer  <mitch@picman.org>

	* app/main.c
	* libpicman/picman.c: again... _do_ use picman_signal_private() but
	force it to behave like signal(). While on Linux it seems to
	be ok to use both signal() and sigaction() (because signal() is
	built on top of sigaction()), doing the same on other systems
	is totally broken code. Thanks to Garry for pointing out this
	portability issue.

	* app/errors.c: s/vprintf/g_strdup_vprintf/

	* libpicman/picmansignal.[ch]: code formating paranoia.

Sun Apr 30 14:45:16 PDT 2000 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/common/borderaverage.c: moved from it's own directory to
	common

2000-04-30  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanprotocol.h: forgot to actually bump the version number.

2000-04-30  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/[a-g]*.c: use picman_ui_init(). Minor cleanups like
	reordering includes consistently and removing trailing commas from
	enums and param defs.

2000-04-30  Michael Natterer  <mitch@picman.org>

	* picmanrc.in
	* app/picmanrc.[ch]: replaced "color-cube" by "min-colors".

	* app/app_procs.c: read unitrc/picmanrc before displaying the splash.

	* app/colormaps.c: set min_colors and install_cmap before
	initializing GdkRGB.

	* app/picmanrc.[ch]
	* app/picmanunit.c: don't call the splash's progress_update function.

	* app/plug_in.c: pass min_colors instead of color_cube to plugins.

	* app/preferences_dialog.c: widget for min_colors.

	* libpicman/picman.[ch]: s/color_cube/min_colors/ but left
	picman_color_cube() there for source level compatibility.

	* libpicman/picmanprotocol.[ch]: changed the GPConfig message
	accordinly and increased the picman protocol version number because
	the change breaks binary compatibility. Also actually pass the
	use_xshm variable over the wire (was only in the GPConfig struct
	before).

	Was it the right thing to do to increase the version number??

	* libpicman/picmanui.c (picman_ui_init): use the same code as the app
	for initializing GdkRGB. Never explicitly activate Gdk's SHM
	usage (only switch it off).

	* app/main.c
	* libpicman/picman.c: reverted the handling of all signals except
	SIGCHLD back to plain old signal() because those signals are
	fatal anyway and sigaction() as used by picman_signal_*() made
	debugging (stacktrace) impossible.

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/bmp/bmp.c
	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/dbbrowser/dbbrowser.c
	* plug-ins/faxg3/faxg3.c
	* plug-ins/fits/fits.c
	* plug-ins/flame/flame.c
	* plug-ins/fp/fp.c
	* plug-ins/fp/fp_gtk.c
	* plug-ins/gdyntext/Makefile.am
	* plug-ins/gdyntext/gdyntext_ui.c
	* plug-ins/gfig/gfig.c
	* plug-ins/gflare/gflare.c
	* plug-ins/gfli/gfli.c
	* plug-ins/picmanressionist/picmanressionist.c
	* plug-ins/helpbrowser/helpbrowser.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/imagemap/Makefile.am
	* plug-ins/imagemap/imap_main.c
	* plug-ins/maze/maze_face.c
	* plug-ins/mosaic/mosaic.c
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/print/print.c
	* plug-ins/rcm/rcm_dialog.c
	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu-server.c
	* plug-ins/sel2path/Makefile.am
	* plug-ins/sel2path/sel2path.c
	* plug-ins/sgi/sgi.c
	* plug-ins/sinus/sinus.c
	* plug-ins/struc/struc.c
	* plug-ins/webbrowser/webbrowser.c
	* plug-ins/winsnap/winsnap.c
	* plug-ins/xjt/xjt.c: use picman_ui_init().

	* plug-ins/Lighting/lighting_ui.c
	* plug-ins/MapObject/mapobject_ui.c: only switch Gdk SHM usage off,
	never on. Don't use picman_ui_init() here because of libgck.

2000-04-30 Garry R. Osgood <gosgood@idt.net>

	* app/main.c
	* libpicman/picmansignal.c [Documentation only]

	Based on a patch and testing furnished by Tim Mooney
 	<mooney@dogbert.cc.ndsu.nodak.edu> Retiring app/main.c
 	on_sig_chld(); at best this function is schizoid: On the left hand it
 	employs a facility for processes that have nothing better to do
 	than sleep until children die. (waitpid()) But it employs this
 	policy on the right hand, in a SIGCLD handler, a facility for
 	processes that have better things to do than sleep until children
 	die (!). And - at worse - it appeared to be contributing to the
 	ongoing #2742 saga. Mr. Mooney and I concur that for now asking
 	POSIX OS's not to generate SIGCLD at all is better than asking
 	mentally divided functions to handle them. Eventually we will need
 	SIGCLD handlers to implement runtime plug-in management (Mitch:
 	"picman_nanny()") When we come to that fork in the road (;)), we
 	will need to work carefully so as not to re-introduce #2742.

2000-04-30  Sven Neumann  <sven@picman.org>

	* app/gimage_cmds.c: reverted Asbjorns change (changing this file
	has no effect anyway, change tools/pdbgen/pdb/gimage.pdb instead).
	
	* libpicman/picmanmath.h (FINITE): #define FINITE(x) isfinite(x) for OS/2

2000-04-29  Jay Cox  <jaycox@picman.org>

	* app/gimage_mask.c: Fix the end of group check in 
	gimage_mask_stroke.  This fixes bug #8699

2000-04-29  Asbjorn Pettersen  <asbjornP@dualog.no>

	* app/gimage_cmds.c (finite): #define finite(d) isfinite(d) for OS/2

	* libpicman/picmansignal.h: #define SA_RESTART SA_SYSV
	SA_RESTART isnt't defined for OS/2!

2000-04-29  Jay Cox  <jaycox@picman.org>

	* modules/Makefile.am
	* modules/cdisplay_highcontrast.c: Implement a high contrast 
	display filter.

2000-04-28  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c: Correctly initialize the max arrays in
 	thin_region. Fixes bug #8351
	* app/scale.c: return from the channel_scale function if we
 	tried to zoom in/out too far.  This prevents some
 	unnecessary display redraws.

2000-04-28  Sven Neumann  <sven@picman.org>

	* plug-ins/print/print-util.c: do not use error_t, some systems
	define this type in errno.h. Fixes bug #9830.

2000-04-28  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c: implemented new argument type
	SF_OPTION which allows the user to choose from a list of options
	using a GtkOptionMenu.
	
	* plug-ins/script-fu/scripts/alien-glow-arrow.scm
	* plug-ins/script-fu/scripts/beveled-pattern-arrow.scm
	* plug-ins/script-fu/scripts/erase-rows.scm
	* plug-ins/script-fu/scripts/test-sphere.scm: use SF_OPTION

2000-04-26  Michael Natterer  <mitch@picman.org>

	* app/color_select.c
	* app/colormaps.[ch]
	* app/context_manager.c: removed unused global variables
	[foreground|background]_pixel and [old|new]_color_pixel.

	Initialize the colormap and visual stuff with GdkRGB instead of
	GtkPreview functions (which are deprecated).

	* app/[62 files]: removed #include's (started with colormaps.h and
	couldn't stop). Also ordered them consistently and did some small
	unrelated cleanups.
	Removed variuos <stdlib.h> et.al. but checked the files carefully
	before doing so. If I was too radical and you get warnings on your
	platform, please flame me or just put them back :)

2000-04-27  Sven Neumann  <sven@picman.org>

	* plug-ins/imagemap/imap_object.c: on request of plug-in author
	<maurits.rijk@philips.com>, corrected initialisation of structure.
	Promises to fix bug #9212.

2000-04-26  Michael Natterer  <mitch@picman.org>

	* app/gdisplay.[ch]
	* app/gdisplay_ops.c: made the warning_dialog a per-display
	variable. The old behaviour of having only one global variable
	can easily result in loss of work and should IMHO be considered
	a bug.

Wed Apr 26 22:35:36 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

	On request of Martin Weber <martweb@gmx.net>:
	* plug-ins/bmp/bmpwrite.c: fix Bitmap_Head.biPlanes = channels.

2000-04-26  Michael Natterer  <mitch@picman.org>

	* app/xcf.c (xcf_load_image_props): when reading PROP_UNIT, check
	it's value against the number of built-in units, not against the
	number of defined units.

Wed Apr 26 11:04:12 PDT 2000 Manish Singh <yosh@picman.org>

	* picmantool.in: typo fix

	* plug-ins/script-fu/scripts/alien-glow-arrow.scm
	* plug-ins/script-fu/scripts/alien-glow-bar.scm
	* plug-ins/script-fu/scripts/alien-glow-bullet.scm
	* plug-ins/script-fu/scripts/alien-glow-button.scm
	* plug-ins/script-fu/scripts/beveled-button.scm
	* plug-ins/script-fu/scripts/beveled-pattern-arrow.scm
	* plug-ins/script-fu/scripts/beveled-pattern-bullet.scm
	* plug-ins/script-fu/scripts/beveled-pattern-button.scm
	* plug-ins/script-fu/scripts/beveled-pattern-hrule.scm
	* plug-ins/script-fu/scripts/chrome-it.scm
	* plug-ins/script-fu/scripts/circuit.scm
	* plug-ins/script-fu/scripts/clothify.scm
	* plug-ins/script-fu/scripts/distress_selection.scm
	* plug-ins/script-fu/scripts/flatland.scm
	* plug-ins/script-fu/scripts/font-map.scm
	* plug-ins/script-fu/scripts/picman-headers.scm
	* plug-ins/script-fu/scripts/picman-labels.scm
	* plug-ins/script-fu/scripts/glossy.scm
	* plug-ins/script-fu/scripts/gradient-bevel-logo.scm
	* plug-ins/script-fu/scripts/gradient-example.scm
	* plug-ins/script-fu/scripts/hsv-graph.scm
	* plug-ins/script-fu/scripts/image-structure.scm
	* plug-ins/script-fu/scripts/trochoid.scm:
	applied picman-simon-20000426-0, which makes more scripts use
	SF-ADJUSTMENT instead of SF-VALUE.

2000-04-26  Michael Natterer  <mitch@picman.org>

	* app/paint_funcs.c: removed C++ comments (#9444).

2000-04-26  Michael Natterer  <mitch@picman.org>

	* app/free_select.c: fill empty "default" with a "break" (#9431).
	* libpicman/picmanenv.c: g_path_is_absolute wants a parameter (#9400).

2000-04-25  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: Better version of previous patch, plus
	embarassing bug (thanks yosh/ tigert)
	Now actually tested on libpng 0.88, 1.00 and 1.0.6.

2000-04-25  Sven Neumann <sven@picman.org>

        * app/nav_window.c: (hopefully) fixed a buffer overflow pointed 
	out by Oleg V. Andrjushenko <oandr@itec.cn.ua>

Tue Apr 25 03:52:43 PDT 2000 Manish Singh <yosh@picman.org>

	* plug-ins/common/png.c: fix Nick's embarassing bug found by tigert

2000-04-25  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: Sidestep potential problems when a
	user builds Picman against libpng 1.0.5, then installs 1.0.6.
	This should still (just about) work for 0.88 and 0.89 users too.

2000-04-24  Michael Natterer  <mitch@picman.org>

	* app/commands.c: fixed the "Resize Canvas" segfault.

2000-04-24  Sven Neumann <sven@picman.org>

	* app/internal_procs.c
	* app/tools_cmds.c
	* tools/pdbgen/pdb/tools.pdb: added transform_2d PDB procedure as
	suggested by David Hodson <hodsond@ozemail.com.au>

2000-04-24  Tuomas Kuosmanen  <tigert@picman.org>

	* picman_splash.ppm: Prepare for the 1.2.. Let us celebrate that
	with a cute pink splash screen.

2000-04-23  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picmanui.def: Add picman_ui_init.

	* libpicman/makefile.{cygwin,msc} (picmanui_OBJECTS): Add picmanui.

	* app/makefile.{cygwin,msc}
	* plug-ins/makefile.{cygwin,msc}: New installation directory.

	* app/datafiles.c (is_script): Must not g_free() value returned by
	g_getenv().

	* plug-ins/gdyntext/font_selection.c: Don't include gdkx.h with
	GTk+ 1.3.

2000-04-23  Sven Neumann  <sven@picman.org>
	
	* configure.in: added es to ALL_LINGUAS

	* libpicman/picmansignal.[ch]: cleaned up namespace and properly 
	formatted documentation for gtk-doc

	* app/app_procs.c
	* app/appenv.h
	* app/bezier_select.c
	* app/main.c: fixed compiler warnings and changed some gints 
	to gbooleans
	
Sat Apr 22 16:48:33 PDT 2000 Manish Singh <yosh@picman.org>

	* picman.m4: $PICMAN_DATA_DIR and $PICMAN_PLUGIN_DIR support

Sat Apr 22 12:37:24 PDT 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.20 release (1.2pre)

	* plug-ins/Makefile.am
	* configure.in: removed python and unittest stuff

	* libpicman/picman.c: reordered signal includes

	* plug-ins/print/Makefile.am: reference print-printers.c and
	print_picman.h

2000-04-22 Garry R. Osgood <gosgood@idt.net>

	* app/bezier_select.c
	Closes the most recent bezier segfault report;
	about plotting anchor points on- and off-image.
	unable to cite because bugs.gnome.org is not
	well. Andrew Thomas handled the only other 
	buglet I'm aware of at this time.
	
Sat Apr 22 14:01:06 BST 2000 <alt@picman.org>
	
	* app/bezier_select.c

	Fixed problem pointed out by Garry R. Osgood (manipulating 
	control points where curve is closed). Thanks
	again Garry for pointing it out.

Fri Apr 21 11:25:24 PDT 2000 Manish Singh <yosh@picman.org>

	* libpicman/Makefile.am: picmansignal.[ch] needs to go into libpicman,
	since it is used in picman.c

	* libpicman/picmansignal.c: use g_error instead of picman_fatal_error

	* plug-ins/common/png.c: typo fix for Nick's previous commit

2000-04-21  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: Fix #9380 as K&R intended :)
	Fixed for Sven and Felix, but loads partial or damaged images.
	No more warnings either.

2000-04-21 Garry R. Osgood <gosgood@idt.net>

	* app/main.c
	* libpicman/Makefile.am
	* libpicman/picman.c
	* libpicman/picmansignal.c (New )
	* libpicman/picmansignal.h (New )
	Patch by Austin Donnelly <austin@picman.org> to address #2742. (I took
	the liberty of moving it to libpicman for general consumption, & fixed a
	typo) SYS5R4 unix's were failing when signals arrived at processes in
	system calls, a behavior in accordance with POSIX specs. Patch
	introduces a picman_signal_private() workalike replacement for
	signal(2), layered over sigaction(2) which internally requests the
	signal environment to restart system calls instead of failing. This is
	POSIX spec 1170 extension behavior, but one that appears to be generally
	supported. Thanks due to Tim Mooney <mooney@dogbert.cc.ndsu.nodak.edu>
	for testing this on various flavors of OSF/1 boxes where #2742 seemed
	especially common.

2000-04-20  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: Revert Sven's changes, I am
 	not that silly Sven, read the code more carefully
 	and THINK about it.  We do not want to leak Picman
 	Images.

2000-04-20  Sven Neumann  <sven@picman.org>

	* plug-ins/common/align_layers.c: applied patch provided by
	KANDA Toshihiro <candy@ops.dti.ne.jp>. Should fix bug #7329.

2000-04-20  Sven Neumann <sven@picman.org>
	
	* plug-ins/common/bumpmap.c: correctly initialize the bumpmap 
	offsets

	* plug-ins/common/png.c: (load_image) if the PNG cannot be loaded, 
	return -1 instead of some uninitialized integer

2000-04-20  Michael Natterer  <mitch@picman.org>

	* picmanrc.in
	* app/picmanrc.c: default to restore_session == TRUE so first time
	users really see the automatically opened dialogs.

	* app/session.[ch]: also open "Tool Options" if no sessionrc
	exists. Moved the harcoded initial positions away from the top and
	left edges of the screen to avoid dialogs which appear underneath
	panels. Also arranged the four default dialogs non-overlapping.

2000-04-20  Michael Natterer  <mitch@picman.org>

	* app/fuzzy_select.c
	* app/selection_options.h
	* app/tool_options.c: moved the "Threshold" scale from the fuzzy
	select options to the selection options structure, so none of the
	selection tools needs it's own tools options structure.

	* app/bucket_fill.c: moved "Threshold" after "Sample Merged" as in
	the fuzzy select options.

2000-04-20  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanfileselection.[ch]: using the PicmanPixmap here was a
	bad idea because showing/hiding the pixmap widgets is no solution
	(somebody may call gtk_widget_show_all() and we suddenly see both
	pixmaps, eek).
	Reverted it to use GtkPixmap and gtk_pixmap_set().

2000-04-20  Jens Lautenbacher  <jtl@schlund.de>

	* plug-ins/common/bumpmap.c (bumpmap_dialog): restrict scale for
	waterlevel/ambient to 255. Bumped version number to 3.0-pre1-ac2
	
2000-04-20  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: libtiff has swerved to avoid the LZW
	patent, hence we must also take action. Picman's TIFF output
	is now ..._NONE by default, DEFLATE and JPEG are new options,
	and LZW is still listed but on e.g. RH6.2 it will not work.

2000-04-19  Michael Natterer  <mitch@picman.org>

	* app/bucket_fill.c
	* app/by_color_select.c
	* app/fuzzy_select.c
	* app/preferences_dialog.c: made the "default_threshold" picmanrc
	variable work as advertized:

	- initialize the thresholds with it.
	- use it for "Reset".
	- added a widget to the "Tool Options" preferences page.
	- noticed that the "Reset" button of "By Color Select" doesn't
	  behave like all the other "Reset" buttons and changed it to
	  reset the ui, not the selection.
	  (There is now a "None" button and because it was so trivial, I
	  couldn't resist to add "All" and "Invert" buttons, too)

	* libpicman/Makefile.am
	* libpicman/picmanui.c: new file.
	* libpicman/picmanui.h: new function picman_ui_init() which will be
	called by all plugins which have a ui (not only by those with a
	preview because plugins should always follow picman's colormap
	installation policy).

	Could someone please check if the FIXME stuff in the function
	is the right thing to do (TM). Does GdkRGB allocate the correct
	colors for the widgets in all cases or do we have to find another
	way to ensure this across processes (gtk instances)?

2000-04-19  Sven Neumann  <sven@picman.org>
	
	* plug-ins/common/mail.c: Changed "To:" and "From:" strings to 
	"Recipient:" and "Sender:" so they can be translated correctly. 
	"To" and "From" are used in a lot of other plug-ins in a totally
	different context.

2000-04-19  Michael Natterer  <mitch@picman.org>

	* plug-ins/gdnytext/*: fixed all files to include the i18n stuff
	correctly and don't mess up Picman's locale setup. Fixes #7878.

2000-04-18  Michael Natterer  <mitch@picman.org>

	* app/user_install.c: Creating the user's picman directory may take
	some time on NFS, so users may be tempted to press the "Continue"
	button again.
	Inform the user that this step may take some time and set the
	"Continue" and "Cancel" buttons insensitive until finished.

2000-04-18  Sven Neumann  <sven@picman.org>

        * INSTALL: we require gtk+-1.2.6 and we would like to have the 
	freefont package installed.
	( This change is not picman-cornwell-000415-0, since IMHO this patch
	  makes things worse. )

	* plug-ins/script-fu/scripts/Makefile.am
	* plug-ins/script-fu/scripts/color-cycling.scm: removed since it
	didn't work at all and even after fixing it the effect wasn't
	worth distributing it
	
	* plug-ins/script-fu/scripts/3dTruchet.scm
	* plug-ins/script-fu/scripts/addborder.scm
	* plug-ins/script-fu/scripts/blended-logo.scm
	* plug-ins/script-fu/scripts/comic-logo.scm
	* plug-ins/script-fu/scripts/crystal-logo.scm
	* plug-ins/script-fu/scripts/fade-outline.scm
	* plug-ins/script-fu/scripts/fuzzyborder.scm
	* plug-ins/script-fu/scripts/lava.scm: 
	applied picman-simon-20000417-0, a patch by Simon Budig, which makes
	more scripts use SF-ADJUSTMENT instead of SF-VALUE.

2000-04-18  Sven Neumann  <sven@picman.org>
	
	* plug-ins/FractalExplorer/Dialogs.c: i18n fix
	* plug-ins/gdyntext/gdyntext_ui.c: ditto, plus indentation

2000-04-17  Michael Natterer  <mitch@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c (open_browser_dialog):
	install picman's colormap to avoid flickering on 8 bit displays.

2000-04-16  Michael Natterer  <mitch@picman.org>

	* app/gdisplay_ops.c (gdisplay_shrink_wrap): block all canvas
	events while resizing the display so the standard canvas "expose"
	and "configure" handlers are not called.
	This optimization is valid because shrink_wrap's caller has to do
	a full recalculation and expose of the gdisplay anyway.
	For the same reason, I removed the calls to gdisplay_expose_full()
	and bounds_checking() from shrink_wrap.

	This should also fix the double exposes Austin reported some time
	ago. I hope it does not re-break yesterday's fix :)

	* app/gdisplay_ops.[ch]: removed unused function
	gdisplay_resize_image().

	* app/scale.c (resize_display): do a full expose if one of the
	"resize_display" or "redisplay" parameters is TRUE.

2000-04-16  Sven Neumann  <sven@picman.org>
            Jens Lautenbacher  <jtl@picman.org>

	* app/ink.c: tweaked dialog layout

	* app/interface.c: take theme's [xy]thickness into account when
	setting up minimum sizes and size_increments

	* app/tool_options.c: changed the term "Pressure" to "Hardness"
	in the pressure sensitivity UI
	
	* plug-ins/gap/iter_ALT/gen/plug_in_bump_map_iter_ALT.inc: removed
	* plug-ins/gap/iter_ALT/mod/plug_in_bump_map_iter_ALT.inc: new file
	* plug-ins/gap/Makefile.am
	* plug-ins/gap/gap_filter_iterators.c: changed filter_iterator to
	reflect changes in the bumpmap plug_in

2000-04-16  Jens Lautenbacher  <jtl@picman.org>
	    Sven Neumann  <sven@picman.org>

	* plug-ins/common/bumpmap.c: bumped version number to 3.0-pre1-ac1
	 - Now able not to tile the bumpmap - this is the default.
	 - Added new PDB call plug_in_bumpmap_tiled. 
	 - Added scrollbars for preview.
	 - Fixed slider feedback for bumpmap offset and set initial offsets
	   from drawable offsets.
	 - Make it work as intended from the very beginning... 

Sat Apr 15 15:10:39 PDT 2000 Manish Singh <yosh@picman.org>

	* autogen.sh: tightened the regexs for build tool sanity checks

	* configure.in: more gtkxmhtml lib fixes (blargh)

2000-04-15  Michael Natterer  <mitch@picman.org>

	* app/gdisplay_ops.c (gdisplay_shrink_wrap): after resizing the
	display, check if the window manager placed it offscreen and
	center it in that case.

2000-04-15  Michael Natterer  <mitch@picman.org>

	* app/disp_callbacks.c: s/0/FALSE/

	* app/gdisplay_ops.c (gdisplay_shrink_wrap): removed all the
	gtk_drawing_area_size(), show/hide and gtk_main_iteration() stuff
	and don't touch the drawing area at all.

	Instead, use brute force on gdisp->shell:
	1. gtk_widget_size_allocate(gdisp->shell)
	2. gdk_window_resize(gdisp->shell->window)

	(tested with Sawmill, Enlightenment and twm)

2000-04-14  Michael Natterer  <mitch@picman.org>

	* libpicman/picmandialog.c: fixed a compiler warning.

2000-04-14  Michael Natterer  <mitch@picman.org>

	* app/brush_select.c: when re-drawing a dirty brush, clear it's
	preview area first.

2000-04-14  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: Purple is a silly choice of background
	color for INDEXEDA PNGs, let's use the Picman's current BG instead.
	Also moved initialisers to shut up the compiler.

2000-04-14  Sven Neumann  <sven@picman.org>

	* plug-ins/maze/algorithms.c
	* plug-ins/maze/handy.c: applied picman-kevint-000413-0 which
	promises to really close #8568 this time

	* plug-ins/common/xpm.c: applied picman-mattias-000414-0, which
	makes XPM saving work in noninteractive mode. It also changes
	the PDB call, but since it has never worked before, that should
	be ok.
	
2000-04-13  Matt Wilson  <msw@redhat.com>

	* picman.spec: updated for 1.1.19, reworked filespec generation
	routines, cleaned up %files sections

2000-04-13  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c: Use 1-bit, 2-bit and 4-bit paletted
	PNG when appropriate during save. Smaller output files.

2000-04-13  Michael Natterer  <mitch@picman.org>

	* app/measure.c: push an undo group when adding horizontal and
	vertical guides with Ctrl+Alt.

2000-04-12  Sven Neumann  <sven@picman.org>

	* plug-ins/common/gif.c: use PICMAN_HAVE_PARASITES instead of
	_PARASITES_H, which wasn't defined anymore. Makes comment
	parasites work with GIFs again.

	* app/measure.c: pressing ALT anywhere outside the handles allows
	to move the measure lines.

2000-04-12  Sven Neumann  <sven@picman.org>

	* docs/quick_reference.tar.gz: updated the tool icons and added
	new ones. Removed the dvi and ps files from the tarball. Added 
	a TODO which describes what needs to be done to update the
	quick_reference for picman-1.2. Any volunteers?

2000-04-12  Sven Neumann  <sven@picman.org>
	
        * docs/keybindings.txt: applied picman-cornwell-000412-0, a 
	patch from  Piers Cornwell <piers.cornwell@usa.net>, that 
	brings the keybindings uptodate.
	
2000-04-12  Sven Neumann  <sven@picman.org>

        * plug-ins/gfig/gfig.c
	* plug-ins/pagecurl/pagecurl.c: saner message strings
	
        * plug-ins/maze/algorithms.c
	* plug-ins/maze/handy.c
	* plug-ins/maze/maze.c
	* plug-ins/maze/maze.h
	* plug-ins/maze/maze_face.c: applied picman-kevint-000411-0 from
	Kevin Turner <acapnotic@users.sourceforge.net>, which whitens, 
	brightens, and kills bug #8568 (segfault with prim...).

	I couldn't resist and hacked the UI once more so is adheres better
	to our standards. Also less code due to more usage of libpicmanui 
	functions. Kevin, I hope you like my changes...

2000-04-11  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/fp/fp.h
	* plug-ins/fp_gtk.c: Used N_() and hopefully got this fixed.
	non-English users please test Filter Pack. Tried de_DE OK.
	If I didn't screw up this closes #6698, #8680.

2000-04-11  Sven Neumann  <sven@picman.org>

	* plug-ins/imagemap/imap_cern.l
	* plug-ins/imagemap/imap_csim.l
	* plug-ins/imagemap/imap_ncsa.l: applied a patch from the
	imagemap author Maurits Rijk <lpeek.mrijk@consunet.nl>.

2000-04-11  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picmanenv.c (picman_path_get_user_writable_dir): The stat()
	function in the Win32 C runtime doesn't like if directory names
	have an extra G_DIR_SEPARATOR suffixed. Remove such before calling
	stat(). Those extra (back)slashes are added by for instance
	picman_path_parse(). Document that feature of picman_path_parse().

	* libpicman/picmanutils.c (picman_strescape): Correct documentation for
	picman_strescape(). The semantics of the exceptions parameter was
	documented backwards. Clarify what the function does.

	* plug-ins/gfig/gfig.c (plug_in_parse_gfig_path)
	* plug-ins/FractalExplorer/FractalExplorer.c
	(plug_in_parse_fractalexplorer_path)
	* plug-ins/gflare/gflare.c (plug_in_parse_gflare_path,
	gflare_save): Use painstakingly correct platform-specific
	directory and search path separators, and escaped with
	picman_strescape when displayed as part of a picmanrc entry.

	* app/picmanhelp.c: No debug messages on Win32, thanks.

2000-04-11  Sven Neumann  <sven@picman.org>

	* PLUGIN_MAINTAINERS: run it through my update-script

2000-04-11  Sven Neumann  <sven@picman.org>

        * app/measure.c: the arc displaying the angle was drawn incorrect
	in the case of 90 degrees

	* app/tips_dialog.c: cosmetics
	
	* plug-ins/script-fu/scripts/3dTruchet.scm
	* plug-ins/script-fu/scripts/comic-logo.scm
	* plug-ins/script-fu/scripts/picman-headers.scm
	* plug-ins/script-fu/scripts/rendermap.scm
	* plug-ins/script-fu/scripts/spinning_globe.scm
	* plug-ins/script-fu/scripts/truchet.scm: fixed typos and unified 
	messages

2000-04-11  Michael Natterer  <mitch@picman.org>

	* app/plug_in.c: if attaching to the newly created shared memory
	segment fails, destroy it before forgetting it's ID. Closes #6299.

2000-04-11  Sven Neumann  <sven@picman.org>

	* libpicman/picmanmath.h: defined FINITE() macro that defaults to
	finite(). Hopefully this is more portable than isnan() and isinf().

	* app/gimage_cmds.c
	* tools/pdbgen/pdb/gimage.pdb: use FINITE() here

2000-04-11  Tor Lillqvist  <tml@iki.fi>

	* README: Warn about the ads in the messages from the
	egroups-hosted Win32 lists ;-)

	* picmanrc.win32: Use correct path separators. Document help-browser
	diffferently on Win32.

	* plug-ins/webbrowser/webbrowser.c: Implement on Win32.

	* plug-ins/makefile.cygwin
	* plug-ins/makefile.msc: Add it.

2000-04-10  Tor Lillqvist  <tml@iki.fi>

	* README: Correct the info about Win32 mailing lists.

	* picmanrc.win32: Add perfect-mouse setting.

	* libpicman/picman.h
	* app/main.c: Guard against redefinition of _stdcall.

	* libpicman/picmanmath.h: Define macros ISNAN and ISINF. On Win32 use
	_isnan() and _fpclass() from <float.h>, on other platforms use
	isnan() and isinf(). We really should test for isnan and isinf in the
	configure script.
	
	* tools/pdbgen/pdb/gimage.pdb
	* app/gimage_cmds.c: Include picmanmath.h, use above macros instead
	of using the nonportable isnan and isinf.

	* app/gdisplay_ops.c: Do use the old gtk_widget_hide/show hack on
	Win32.

	* libpicman/makefile.cygwin
	* libpicman/makefile.msc
	* app/makefile.cygwin
	* app/makefile.msc
	* plug-ins/makefile.cygwin
	* plug-ins/makefile.msc: Updates.

	* plug-ins/gfig/gfig.c (plug_in_parse_gfig_path): Simplify warning
	message on Win32.  We could use G_DIR_SEPARATOR in the sample
	picmanrc line, but then we would have to call g_strescape to quote
	it, argh. Win32 users use prebuilt versions with a correct picmanrc
	file anyway.

	(create_file_selection): Use g_get_tmp_dir().

	(gfig_update_stat_labels): Guard against possibly NULL value from
	g_get_home_dir().
	
2000-04-10  Sven Neumann  <sven@picman.org>

	* README: applied a modified version of picman-cornwell-000408-0, 
	a patch by <piers.cornwell@usa.net> to bring the README uptodate.

2000-04-10  Sven Neumann  <sven@picman.org>

	* libpicman/picmanexport.c: use "Flatten Image" instead of simply
	"Flatten" for our new alternative to "Save As Animation".

2000-04-10  Nick Lamb  <njl195@zepler.org.uk>

	* libpicman/picmanexport.c: Eeek! Sven only half implemented my
	change. Now if the background isn't visible we will suggest
	"Merge Visible" as expected.

2000-04-07  Sven Neumann  <sven@picman.org>

	* libpicman/picmanexport.c: implemented the changes Nick Lamb
	suggested:  If the background layer has no alpha channel, 
	suggest "Flatten" instead of "Merge Visible Layers".

	* app/fileops.c: In the MRU list and the doc_index always store
	the absolute path to images, so you can open files from the
	command-line and picman will find them later if started from another
	dir. Added tooltips that show the full path.
	
	* app/menus.c: fixed a memleak (list entries were not freed on
	removal from the MRU list).
	
	* app/main.c
	* app/user_install.[ch]: renamed functions and variables to match
	the new filename.

Fri Apr  7 11:54:25 PDT 2000 Manish Singh <yosh@picman.org>

	* app/Makefile.am
	* app/main.c
	* app/user_install.[ch]: renamed install.[ch]

2000-04-06  Sven Neumann  <sven@picman.org>

	* libpicman/picmanlimits.h: changed PICMAN_MIN_RESOLUTION to 5e-3 so 
	it does not display as 0.000 in the UI. The new limit still allows
	you to have pixels as large as 25 m^2. Should be enough IMO...

	Changed PICMAN_CHECK_DARK and PICMAN_CHECK_LIGHT to match the default
	check colors (GRAY_CHECKS) as defined in app/image_render.[ch].

	* app/free_select.c: fixed warnings

	* app/fileops.c: made an end to the "incidentally gimage already 
	has a valid preview" message
	
	* app/picmanimageP.h
	* app/picmanimage.c: use gboolean for boolean values
	
2000-04-06  Michael Natterer  <mitch@picman.org>

	* app/commands.c
	* app/layers_dialog.c
	* app/resize.[ch]: behave like a widget:
	removed resize_widget_free() and call
	gtk_widget_destroy(resize->resize_shell) instead.

	* app/interface.c: s/0/FALSE/

	* app/color_area.c
	* libpicman/picmanchainbutton.c: show the correct background also for
	engine driven themes. The chainbutton's lines still don't draw
	with the pixmap theme, which is probably a bug of the theme's
	draw_polygon method.

2000-04-06  Sven Neumann  <sven@picman.org>

	* app/gimage_cmds.c
	* tools/pdbgen/pdb/gimage.pdb: (picman_image_set_resolution) guard
	against NaN and infinity. There are pics out there using these
	values and it seems that NaN > PICMAN_MIN_RESOLUTION. Fixes #8476.

2000-04-06  Sven Neumann  <sven@picman.org>

	* app/app_procs.c: if we cannot load the font we'd like to use,
	use the gtk+ default font. Fixes bug #8359.
	
	* app/about_dialog.c
	* app/install.c: properly ref/unref fonts

	* app/text_tool.[ch]: code cleanup (do not rely on TRUE being 1)

	* app/tips_dialog.c: code cleanup and less resizing

2000-04-05  Sven Neumann  <sven@picman.org>

	* plug-ins/common/ps.c: applied patch provided by Peter
	Kirchgessner, which sets the default rotation back to 0 and
	adds %%BeginData/%%EndData comments on save.
	
2000-04-05  Nick Lamb <njl195@zepler.org.uk>

	* plug-ins/common/pat.c: Don't claim to export ALPHA or to be
	suitable for RGB*, GREY* - this plug-in creates flat patterns

Tue Apr  4 17:33:40 PDT 2000 Manish Singh <yosh@picman.org>

	* picmantool.in: resync the variable names. Fixes #8360

2000-04-05  Michael Natterer  <mitch@picman.org>

	* app/layers_dialog.c: oops, yesterday's "cleanups" contained an
	unreverted hack I've tried which caused a SEGV with floating
	selections. Fixed now.

Mon Apr  3 17:55:04 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	On request of Martin Weber <martweb@gmx.net>:
	* libpicman/picmanutils.c: Include string.h.

2000-04-03  Michael Natterer  <mitch@picman.org>

	* app/color_panel.[ch]
	* app/color_picker.c
	* app/qmask.c: removed the public function color_panel_free() and
	fake a real widget's behaviour by connecting to the panel widget's
	"destroy" signal.

	* app/channels_dialog.c
	* app/layers_dialog.c: cleaned up and sync'ed the code where
	possible (without changing the logic).

2000-04-03  Michael Natterer  <mitch@picman.org>

	* app/channels_dialog.c
	* app/layers_dialog.c: when dropping layers/channels around in the
	stack, Gtk sometimes continues searching a drag destination
	_after_ the drop callback has been called (which is probably a
	bug), causing a SEGV because the callback changed the GtkList
	containing the layer/channel widgets.

	The safe way is to reorder the stack in an idle function which
	should also be robust against any future Gdk/X dnd protocol
	change.

	For the same reason, I added an idle function which lets the
	active layer/channel widget grab the focus because in some dnd
	cases the row holding the focus was not the active one (which is
	otherwise impossible with GTK_SELECTION_BROWSE).

	This commit should fix the remaining problems with layer/channel
	dnd as well as all cases where the highlighted layer was not the
	active one. Please report if it still doesn't work for you.

2000-04-03  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/scripts/3d-outline.scm
	* plug-ins/script-fu/scripts/camo.scm
	* plug-ins/script-fu/scripts/chip-away.scm
	* plug-ins/script-fu/scripts/coffee.scm
	* plug-ins/script-fu/scripts/color-cycling.scm
	* plug-ins/script-fu/scripts/hsv-graph.scm
	* plug-ins/script-fu/scripts/i26-gunya2.scm
	* plug-ins/script-fu/scripts/land.scm
	* plug-ins/script-fu/scripts/mkbrush.scm
	* plug-ins/script-fu/scripts/news-text.scm
	* plug-ins/script-fu/scripts/pupi-button.scm
	* plug-ins/script-fu/scripts/select_to_brush.scm
	* plug-ins/script-fu/scripts/sphere.scm
	* plug-ins/script-fu/scripts/spinning_globe.scm:
	applied picman-simon-20000403-0, a patch by Simon Budig that makes
	those scripts use SF-ADJUSTMENTS instead of SF-VALUES and fixes a
	few bugs.

2000-04-03  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.[ch]
	* app/channels_dialog.c
	* app/layers_dialog.c: removed the GdkGC parameter from
	picman_dnd_set_drawable_preview_icon() since it's no longer used.

	* app/picmanimage.c: dirty the view correctly after applying the
	layer mask. Don't gdisplays_flush() because it's the job of the
	caller.

	* app/layers_dialog.c: when applying a layer mask, flush either
	the display or just the layer_widget, depending on the previous
	visibility state of the mask. Cleanups.

	* plug-ins/print/picman_color_window.c
	* plug-ins/print/picman_main_window.c: including config.h re-enables
	i18n.

Sun Apr  2 15:59:25 PDT 2000 Manish Singh <yosh@picman.org>

	* configure.in: applied fix for missing "-" as reported in bug
	#8283. The other half of that bug is fixed by my previous configure.in
	change.

2000-04-03  Sven Neumann  <sven@picman.org>

	* app/module_db.c
	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/common/blinds.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/flarefx.c
	* plug-ins/common/gqbist.c
	* plug-ins/common/winclipboard.c
	* plug-ins/gap/gap_filter_foreach.c: microscopic cosmetic changes

	* plug-ins/gap/gap_main.c: moved the "Goto" entries into their own
	menu so the menu gets smaller
	
2000-04-02  Nick Lamb  <njl195@zepler.org.uk>

	* plug-ins/common/png.c:
	Brown paper bag version, 1.2.1 -- that'll teach me to hurry
	the testing process. This should fix it all image types.

2000-04-02 Garry R. Osgood <gosgood@idt.net>

	* picman/app/colormap_dialog.i.c:
	As Mr. Lamb, report originator noted, an easy
	fix. in ipal_set_image() line 688
	Reorganized the initialization of the 
	indexed palette object so as not to run afoul
	of gasserts() inhabiting ipal_draw() and client
	routines. These entailed initialing ipal->col_index,
	ipal->dnd_col_index prior to call to ipal_draw()
	closes #8252

	BTW, my guess is that the "Mystery Commit" at 16:55:47 BST
	today is by Mr. Andrew Thomas. Do I win the prize?

2000-04-02  Tuomas Kuosmanen  <tigert@picman.org>

	* plug-ins/common/png.c:

	<voice type=quartic>This was BROKEN!</voice>

	I reverted the png change since, while it worked fine for RGBA and 
	INDEXEDA it totally shred RGB and INDEXED images to pieces.. :(

Sun Apr  2 16:55:47 BST 2000 Andy Thomas <alt@picman.org>
	
	* app/bezier_select.c

	Fixed propblem with deleting points. You can now delete the first
	and last point on any open curve (as well as mid-points).

	Also fixed some problems where some poins would leave the markers 
	on screen after they had been deleted.

	Note you have always been able to delete whole curves by pressing 
	the "shift" key when over a point to be deleted in "remove mode".

2000-04-02  Michael Natterer  <mitch@picman.org>

	* app/interface.c: completely overworked the widget packing of the
	display shell. This was necessary because the table insisted on
	giving the vertical scrollbar more allocation than it needed when
	first displaying an image which is smaller than the minimal
	statusbar width. Replaced the tables with packing boxes.

	See the comments I've added to create_display_shell() if you
	really want to see the ugly details.

	Also, to get rid of the 2-pixel spacing which appears at the
	bottom of the display whenever the statusarea is hidden,
	gdisp->statusarea is now the eventbox, not the hbox it contains.

	* pixmaps/navbutton.xpm: made it 2x2 pixels larger.

Sun Apr  2 04:39:10 PDT 2000 Manish Singh <yosh@picman.org>

	* configure.in: minor portability nit with gtkxmhtml tests

	* plug-ins/print/print.c: fix missing variable name from the merge

2000-04-02  Sven Neumann  <sven@picman.org>
	
	* plug-ins/script-fu/scripts/add-bevel.scm
	* plug-ins/script-fu/scripts/asc2img.scm
	* plug-ins/script-fu/scripts/lava.scm
	* plug-ins/script-fu/scripts/line-nova.scm
	* plug-ins/script-fu/scripts/predator.scm
	* plug-ins/script-fu/scripts/pupi-button.scm: 
	corrected spelling errors and unified strings

2000-04-02  Jay Cox  <jaycox@picman.org>

	* plug-ins/common/tiff.c: Added a missing break statement so that
	the compression argument in calls to file_tiff_save is honored.

2000-04-02  Nick Lamb  <njl195@zepler.org.uk>
	* plug-ins/common/png.c
	The Picman now does as good a job of saving indexed+a PNGs as it
	does of displaying them. Did I mention that INDEXED + A sucks?

2000-04-01  Garry R. Osgood   <gosgood@idt.net>
	* app/bezier_select.c
	When user deletion of anchor points decimates a curve
	below the number which the implementation can properly
	manipulate, bezier_edit_point_on_curve() now invokes 
	delete_whole_curve(). Formerly returned a zero, prompting
  	a mode change and a re-interpretation of the mouse-button-down
	event as the addition of a new curve segment, giving
	rise to #6093. Closes #6093.
	
2000-04-01  Michael Natterer  <mitch@picman.org>

	* app/disp_callbacks.c: when dropping a drawable, do the
	undo_push_group_start() before creating the new layer, otherwise
	the undo system will show obscure misbehaviour (the undo group is
	pushed correctly but no undo will be possible until an other undo
	is pushed).

2000-04-01  Michael Natterer  <mitch@picman.org>

	Backported the UI changes of the 3.1.x picman-print plugin to the
	stable 3.0.x version.
	Put the printer definitions to a separate file and added the 3.1.x
	access functions. This way the new dialog files can be used with
	minimal changes.
	Bumped version number to 3.0.10.

	* po-plug-ins/POTFILES.in
	* plug-ins/print/Makefile.am
	* plug-ins/print/print_picman.h
	* plug-ins/print/picman_color_window.c
	* plug-ins/print/picman_main_window.c: new files containing the
	dialog code.

	* plug-ins/print/print-printers.c: new file containing the printer
	definitions.

	* plug-ins/print/print-util.c: added printer list access functions.

	* plug-ins/print/print.[ch]: removed the dialog stuff and use the
	list access functions.

2000-04-01  Michael Natterer  <mitch@picman.org>

	* plug-ins/flame/Makefile.am
	* plug-ins/flame/megawidget.[ch]: removed

	* plug-ins/flame/flame.c: general ui cleanup, added some sanity
	checks when opening a flame file, indentation.

2000-04-01  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c: Fixed the off by one error that was the cause
 	of bug #4980.  Fixed a bug that caused images to have their
 	centers shifted slightly when resizing.  Removed a couple of
 	unused variables.

2000-03-31  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.[ch]: minor cleanups.

	* libpicman/picmanwidgets.c: don't set a border width for the
	radio_group's vbox if no frame around it was requested.

	* plug-ins/common/sample_colorize.c: add a separator between
	image and sample.

	* plug-ins/common/iwarp.c: use the libpicman ui functions, removed
	callbacks, a global s/gfloat/gdouble/, replaced the booleans
	toggling the transform mode with a single variable containing an
	enum value, indentation.

2000-03-31  Sven Neumann  <neo@wintermute.ochsenblut.de>

	* plug-ins/script-fu/scripts/beveled-pattern-heading.scm
	* plug-ins/script-fu/scripts/title-header.scm: string unification

Fri Mar 31 14:10:02 BST 2000 Adam D. Moss <adam@picman.org>

	* plug-ins/common/gifload.c: Mildly more useful
	comments/messages concerning frame disposals.

Fri Mar 31 04:20:27 PST 2000 Manish Singh <yosh@picman.org>

	* app/by_color_select.c: use the proper local variable on creation,
	not the uninitialized one. Fixes bug #8149.

Thu Mar 30 16:48:06 PST 2000 Manish Singh <yosh@picman.org>

	* configure.in: made glib cflags extraction smarter

Thu Mar 30 01:51:05 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.19 release

2000-03-30  Michael Natterer  <mitch@picman.org>

	* plug-ins/webbrowser/Makefile.am
	* plug-ins/webbrowser/webbrowser.c: use the ui stuff from libpicman.

2000-03-29  Sven Neumann  <sven@picman.org>

	* plug-ins/dbbrowser/doc/doc: removed obsolete installation 
	instructions

2000-03-29  Michael Natterer  <mitch@picman.org>

	* app/bezier_select.h
	* app/bezier_selectP.h
	* app/by_color_select.[ch]
	* app/ellipse_select.[ch]
	* app/free_select.[ch]
	* app/move.[ch]
	* app/rect_select.[ch]: kindof selection tools code review:

	- use SelectOps instead of int.
	- removed some unused prototyped and callbacks.
	- don't show the SELECTION_MOVE_MASK cursor if there is no
	  selection and don't try to move the mask in that case.
	- re(?)-enabled moving the selection mask even if there is a
	  floating selection.
	- usual bunch of cleanups.

2000-03-29  Sven Neumann  <sven@picman.org>

	* app/picmanui.[ch]: (picman_dialog_hide) new function that calls
	gdk_window_withdraw() after gtk_widget_hide() so dialogs actually
	go away even if they have been iconified by the user before.

        * brightness_contrast.c
	* by_color_select.c
	* color_balance.c
	* curves.c
	* fileops.c
	* histogram_tool.c
	* hue_saturation.c
	* levels.c
	* posterize.c
	* text_tool.c
	* threshold.c: use picman_dialog_hide() on all(?) tool dialogs and
	file_selectors. This should fix bugs #2961, #5293, #6441 and #7849.

2000-03-28  Sven Neumann  <sven@picman.org>

        * plugins/script-fu/Makefile.am: don't install test-sphere.scm
	
        * plugins/script-fu/interp_slib.c: accept _"foo" as a normal
	string. This allows us to mark strings in scripts for translation
	similar to how it is done in C. Please not that this does not mean
	that gettext is automatically called on those strings. The 
	Script-Fu interface code takes care of calling gettext on all
	strings that are displayed in the GUI.

	* plug-ins/gap/sel-to-anim-img.scm
	* plug-ins/script-fu/scripts/*.scm
	* plug-ins/webbrowser/web-browser.scm: marked strings for 
	translation. Hopefully I didn't break anything. Please test!

	I noted that there are still some scripts that should be updated
	to use the new features like SF-ADJUSTMENTs. Help is very much
	appreciated here.

Tue Mar 28 22:47:17 CEST 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gap/*: "Frame Range" typo fix.

2000-03-28  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/common/warp.c (warp_dialog): integers are not doubles!

2000-03-28  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/scripts/alien-neon-logo.scm: due to the 
	ugly hack we use to find the textdomain for script-fus, all 
	script-fus have to register a name starting with 'script-fu-'.

	* app/plug_in.c: reverted Mitch's last change since it caused
	a crash when refreshing scripts (bug #7980). This of course 
	reintroduces the memleak.

2000-03-28  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/gflare/gflare.c: gflare never use gfig-path.

2000-03-27  Sven Neumann  <sven@picman.org>

	* app/curves.c: 
	* app/levels.c: hide the file_selector when the dialog is unmapped

	* app/fileops.c: indentation (actually I have a fix for the stray
	load/save dialogs, but I want to discuss it with a gtk+ guru
	first, so it's not checked in yet...)

2000-03-27  David Monniaux  <monniaux@quatramaran.ens.fr>

	* plug-ins/gap/gap_decode_mpeg_main.c: fixed a typo (spurious
	parenthesis) probably introduced by Sven's corrected spelling.

2000-03-27  Sven Neumann  <sven@picman.org>

	* plug-ins/gap/gap_*.c: corrected spelling and punctuation of many
	strings so they adhere better to our standards.

	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/gflare/gflare.c: do not hardcode ~/.picman-1.1 into the
	message strings.

2000-03-27  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/xpm.c: INIT_I18N_UI() instead of INIT_I18N()
	for save dialog.

2000-03-27  Michael Natterer  <mitch@picman.org>

	* app/transform_core.c: the button_press and cursor_update
	functions were still doing checks on the active layer instead of
	the active drawable.
	Fixing this automatically made the layer mask transformable.

2000-03-26 Garry R. Osgood <gosgood@idt.net>

	* picman/app/bezier_select.c
	in bezier_add_point(), when a BEZIER_MOVE type
	point is being added to a path with at least
	one extant segment, the point is re-typed
	to a BEZIER_ANCHOR (which is old behavior)
	and designated as the current anchor
	(which is new behaviour). With this change,
	motion events move the (second) control point
	and indicia are properly updated. This closes
	#6225.

2000-03-26  Michael Natterer  <mitch@picman.org>

	* app/gimage_mask.[ch] (gimage_mask_extract): add an "add_alpha"
	parameter to allow selected regions to be extracted without having
	an alpha channel added.

	* app/global_edit.c: pass add_alpha = TRUE.

	* app/transform_core.[ch]: made the transform core work on
	non-layer drawables even if no selection is present. Fixes #7485
	and #7555.

	- transform_core_cut(): extract the mask without alpha if
	  operating on a non-layer without having a selection.
	- transform_core_paste(): return a boolean indicating success
	  instead of a layer and handle channels correctly.
	- transform_core_do(): if the "floating_tiles" passed to the
	  function are from an un-floated non-layer, treat the whole
	  non-layer as alpha channel and never enter the loop which
	  transforms the (not present) color channels.
	  Also clip the result to ensure that the channel never grows
	  larger than the image.

	* app/tools_cmds.c
	* tools/pdbgen/pdb/tools.pdb: transform_core_paste() returns a
	gboolean now.

2000-03-26  Sven Neumann  <sven@picman.org>

	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_mpege.c: no need to abbreviate Image to Img here

2000-03-26  Sven Neumann  <sven@picman.org>

	* plug-ins/common/iwarp.c: applied picman-simon-20000325-1 provided
	by Simon Budig <Simon.Budig@unix-ag.org> which fixes bug #6224.

	* plug-ins/script-fu/scripts/neon-logo.scm: applied 
	picman-simon-20000326-0 (once again from Simon "bughunter" Budig)
	which changes the neon-logo to get a neon-like effect again and 
	thereby fixes bug #2358.
	
Sun Mar 26 00:41:56 CET 2000  Sven Neumann  <sven@picman.org>

	* app/convert.c: reverted Martin's change since it gives no
	noticeable speedup. Martin, you are definitely not in the 
	position to mess around with Adam's code. There even was a pretty
	clear comment that those values have to match the ones defined
	in picmancolorspace.h.
	
Sat Mar 25 21:09:40 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/common/ps.c: Applied changes from Peter
	Kirchgessner (V 1.10).

Sat Mar 25 20:57:24 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	On request of Martin Weber <martweb@gmx.net>:
	* app/convert.c: Speedups.
	* app/paths_dialog.c: Include string.h.

2000-03-25  Sven Neumann  <sven@picman.org>

	* README.i18n: added new sections explaining what catalogs 
	need to be translated, how to translate menupaths correctly
	and how a third-party plug-in can add additional textdomains.

2000-03-25  Sven Neumann  <sven@picman.org>

	* tools/pdbgen/pdb/gimage.pdb
	* app/gimage_cmds.c: corrected the description and help for the
	picman_image_[get|set]_component_* functions.

	* app/info_dialog.c: include dialog_handler.h

2000-03-25  Sven Neumann  <sven@picman.org>

	* app/app_procs.c: use gtk_exit(0) instead of gtk_main_quit() 
	since there is a chance that the main loop is never entered.
	Fixes bug #7744.
	
	* app/main.c: cosmetic change

	* libpicman/picman.[ch]: (picman_read_expect_msg) don't claim about
	receiving a message of type GP_QUIT, simply execute it. Fixes a
	warning that occured when calling picman_quit from a plug_in.

	Cleanup up the code a bit and changed gint to gboolean where
	appropriate.
	
	* libpicman/picmanchannel.c
	* libpicman/picmandrawable.c
	* libpicman/picmanimage.c
	* libpicman/picmanparasite.c: cleaned up and changed gint to gboolean 
	where appropriate.

	* plug-ins/common/autocrop.c
	* plug-ins/dbbrowser/dbbrowser_utils.c: removed unused variables
	
2000-03-25  Michael Natterer  <mitch@picman.org>

	* app/cursorutil.[ch]: new global variable "picman_busy" which gets
	set/unset whenever busy cursors are added/removed.

	* app/info_dialog.c: register the info dialogs with the dialog
	handler.

	* app/fuzzy_select.[ch]: cleanups.
	
	Here starts the ugly workaround which simulates something like
	locking. If it works, it will close lots of bugs, if not, it's
	easy to remove again.

	So far, I didn't find strange side effects but Picman is told to be
	a complex program :-) Please test this.

	* app/context_manager.c: don't allow tool changes if picman_busy
	is TRUE.

	* app/disp_callbacks.c: don't allow mouse and key events in the
	display_canvas if picman_busy is TRUE.
	(except if the current tool is FUZZY_SELECT and it is ACTIVE,
	 which is very ugly)
	Also block other stuff like dropping colors/patterns etc.

	* app/gdisplay_ops.c: don't close any display while Picman is
	busy. This is not really what we want but at least it prevents
	crashes.

2000-03-25  Sven Neumann  <sven@picman.org>

	* plug-ins/script-fu/script-fu-console.c: only call gtk_main_quit()
	once when closing the dialog.
	
	* plug-ins/script-fu/script-fu-server.c: use a picman_dialog and
	other nice things from libpicmanui.

Fri Mar 24 14:07:46 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* app/hue_saturation.c: i18n fix.

Sat Mar 25 02:01:18 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/pypicman/plug-ins/clothify.py
	* plug-ins/pypicman/plug-ins/foggify.py
	* plug-ins/pypicman/plug-ins/shadow_bevel.py
	* plug-ins/pypicman/plug-ins/sphere.py: applied a patch provided by 
	Simon Budig <Simon.Budig@unix-ag.uni-siegen.de> which adapts the
	pypicman scripts to the new picman_edit_fill () interface.

Sat Mar 25 01:19:10 CET 2000  Sven Neumann <sven@picman.org>

	* app/install.c: changed the title_color to "dark orange" which is
	a little less drastic than the color we chose before. 

	* plug-ins/MapObject/mapobject_shade.c: applied picman-simon-20000324-0
	which fixes bugs #3320 and #7069. Nice work, Simon!

Fri Mar 24 23:08:08 CET 2000  Sven Neumann <sven@picman.org>

	* app/session.[ch]: clamp windows to screen and cascade multiple
	windows of the same type (e.g. info_dialogs). The cascading is a
	somehow trivial approach which is not always correct, but it seems
	to work reasonably well.

2000-03-24  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* picman1_0_splash.ppm: added
	* picman1_1_splash.ppm: removed

	* picman_splash.ppm: the image formerly known as picman1_1_splash.ppm

	* app/app_procs.c: load picman_splash.ppm

	The idea of sharing the data_dir between Picman versions has
	vanished, so this seems like the right thing to do (TM).

	Keep the 1.0 splash around for sentimental reasons but don't
	install it anymore.

	* plug-ins/common/autocrop.c: indentation paranoia.
	
2000-03-24  Michael Natterer  <mitch@picman.org>

	* app/plug_in.c (plug_in_proc_def_remove): pass FALSE to
	plug_in_proc_def_destroy() so the proc_def structure gets actually
	freed.

2000-03-24  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/bmp/Makefile.am :  add bmpos2.c and bmpos2.h

	* plug-ins/bmp/bmpread.c (ReadBMP): Add support for
	reading old OS/2 bitmaps.

	* plug-ins/bmp/bmpos2.h (read_os2_head1): 
	* plug-ins/bmp/bmpos2.c : New file for OS/2 bitmap reading. 

Fri Mar 24 17:13:41 CET 2000  Sven Neumann <sven@picman.org>

	plug-ins/common/mapcolor.c: applied picman-kirchgessner-000320-0.
	Fixes problem with divide by zero when selecting same colors,
	adds preview and makes the GUI more intuitive.

	Additionally, I've added another check for the drawable being RGB
	in the function that does the actual work. Remember that the
	image_type may change while the dialog is open!

Fri Mar 24 15:48:40 CET 2000  Sven Neumann <sven@picman.org>

	applied picman-quinet-000310-0 by Raphael Quinet <quinet@gamers.org>

	* plug-ins/script-fu/scripts/coolmetal-logo.scm: replaced the
	seascape toggle with a direct selection of the gradient.

	* plug-ins/script-fu/scripts/carved-logo.scm: added new parameter
	to allow some padding around the text (useful for tiling backgr.)

	* plug-ins/script-fu/scripts/news-text.scm, speed-text.scm: added
	new parameter to specify the text color and the background color,
	instead of using the active colors.

	* plug-ins/script-fu/scripts/bovinated-logo.scm, comic-logo.scm,
	gradient-bevel-logo.scm: added new parameter to specify the
	background color, instead of using the active one.

	* plug-ins/script-fu/scripts/asc2img.scm: save and restore
	foreground and background colors; do not flatten the final image.

	* plug-ins/script-fu/scripts/3d-outline.scm: set foreground and
	background colors before using them; do not flatten the final
	image.

	* plug-ins/script-fu/scripts/clothify.scm: set the background
	color before using it.

	* plug-ins/script-fu/scripts/3d-outline.scm, 3dTruchet.scm,
	addborder.scm, alien-glow-arrow.scm, alien-glow-bar.scm,
	alien-glow-bullet.scm, alien-glow-button.scm, alien-glow-logo.scm,
	alien-neon-logo.scm, asc2img.scm, basic1-logo.scm,
	basic2-logo.scm, beveled-button.scm, beveled-pattern-arrow.scm,
	beveled-pattern-bullet.scm, beveled-pattern-button.scm,
	beveled-pattern-heading.scm, beveled-pattern-hrule.scm,
	blended-logo.scm, bovinated-logo.scm, camo.scm, carve-it.scm,
	carved-logo.scm, chalk.scm, chip-away.scm, chrome-it.scm,
	chrome-logo.scm, clothify.scm, comic-logo.scm, coolmetal-logo.scm,
	crystal-logo.scm, distress_selection.scm, drop-shadow.scm,
	erase-rows.scm, fade-outline.scm, font-map.scm, frosty-logo.scm,
	fuzzyborder.scm, picman-headers.scm, picman-labels.scm,
	glowing-logo.scm, gradient-bevel-logo.scm, hsv-graph.scm,
	i26-gunya2.scm, image-structure.scm, mkbrush.scm, neon-logo.scm,
	news-text.scm, perspective-shadow.scm, pupi-button.scm,
	ripply-anim.scm, slide.scm, sota-chrome-logo.scm, speed-text.scm,
	sphere.scm, starburst-logo.scm, starscape-logo.scm, swirltile.scm,
	t-o-p-logo.scm, test-sphere.scm, text-circle.scm,
	textured-logo.scm, title-header.scm, trochoid.scm, truchet.scm,
	weave.scm, xach-effect.scm: adapted the scripts to the new
	interface for picman-edit-fill.

	* plug-ins/script-fu/scripts/Makefile.am
	* plug-ins/script-fu/scripts/alien-neon-logo.scm: added file.

Fri Mar 24 15:31:33 CET 2000  Sven Neumann <sven@picman.org>

	* app/commands.[ch]
	* app/edit_cmds.c
	* app/gdisplay.c
	* app/global_edit.[ch]
	* app/menus.c
	* tools/pdbgen/pdb/edit.pdb: applied sligthly modified versions 
	of picman-quinet-000308-0 and picman-quinet-000322-0.

	From the README, Raphael Quinet provided with the patches:

	    This patch fixes the problems with Edit/Fill by allowing 
 	    the user to choose the fill mode.  The "Fill with background 
	    color" is prefered by some users who have been using the Picman 
	    for a long time, but the "Fill with foreground color" is 
	    prefered by those who are familiar with most other paint 
	    programs.

	This change breaks a lot of the Perl scripts. Marc knows about this,
	so you do not need to write bugreports. Please report broken 
	Script-Fus however, since they are supposed to work. 

Fri Mar 24 01:53:07 PST 2000 Manish Singh <yosh@picman.org>

	* configure.in: more sanity checking for the gtkxmhtml test. Also
	changed datadir to include the picman version too. So right now
	only the development headers conflict between versions in the same
	prefix.

	* picmantool.in
	* picmantool.1: added and documented configure variable query options
	(bindir, sbindir, sysconfdir, etc.)

	* tips/Makefile.am: add picman_tips.uk.txt

Wed Mar 22 18:35:25 CST 2000  Seth Burgess <sjburges@picman.org>
	
	* app/gdisplay_ops.c: Applied Thomas Koester's patch for
	shrink-wrapping/resizing.  He tried it with several wm's
	and it seems to work... report any problems.

Wed Mar 22 15:43:02 GMT 2000  Adam D. Moss <adam@picman.org>

	* picmanrc.in: enable perfect-mouse in default picmanrc.

2000-03-21  Michael Natterer  <mitch@picman.org>

	* app/flip_tool.c: yesterday's "cleanups" made the file
	un-compileable. Probably too much beer involved.

2000-03-21  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: Trumpets and Circus Entertainment to
	make the weary hard working developers happy while we are
	approaching the goal, Picman 1.2.. :)

	= a new splash screen.. hope you like it.

Tue Mar 21 04:11:42 CET 2000  Michael Natterer  <mitch@picman.org>
	                      Sven Neumann <sven@picman.org>

	* app/fileops.c
	* app/gdisplay.[ch]: when reverting an image, reconnect all 
	affected views to the reverted version. This fixes one of the
	bugs Tigert pointed out at GUADEC.

	* app/gimage_mask.[ch]
	* app/flip_tool.c: cleanups

2000-03-20  Michael Natterer  <mitch@picman.org>

	* plug-ins/gfig/gfig.c: fixed a SEGV I have introduced by
	accidentially replacing g_malloc0() with g_new() instead of
	g_new0(). Andy found the crash, thanks.

Mon Mar 20 19:15:19 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* app/preferences_dialog.c: Typo fix.

2000-03-18  Seth Burgess <sjburges@picman.org>
	
	* plug-ins/common/colortoalpha.c: Fixed handling of previously
	existing alpha, so it can be run successively now (much more
	useful)

2000-03-18    <tigert@guadec1.enst.fr>

	* pixmaps/linked.xpm: another icon for the L&C&P dialog.. to be 
	used sometime.

	* pixmaps/eye.xpm: new totally wacked commit from mitch's account
	from GUADEC.. this will sometimes be used once mitch gets around
	to actually implement the stuff in layers dialog (ph3ar!) :)

2000-03-18  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c:  Make sure we don't divide by zero in
 	scale_region.  Fixes bugs #4783 and #6907.

2000-03-17  Birger Langkjer <birger.langkjer@image.dk>

	* plug-ins/MapObject/mapobject_ui.c:565: fixed typo/spelling
	Transpararent -> Transparent
	* all da.po: updated.

2000-03-16  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* app/text_tool.c: added missing argument for error message.

2000-03-15  Sven Neumann <sven@picman.org>
	    Michael Natterer <mitch@picman.org>

	* libpicman/picmanchainbutton.c: return TRUE from event_callback
	* libpicman/picmanwidgets.c: blah

	* app/install.c: now works with themes and offers an interactive
	monitor calibration dialog. Delete your ~/.picman-1.1 and enjoy!

2000-03-15  Sven Neumann <sven@picman.org>
	    Michael Natterer <mitch@picman.org>

	* picmanrc.in
	* app/picmanrc.c: increased default tile_cache size to 32MB
 	
	* app/install.c: minor fixes

Tue Mar 14 22:13:35 CET 2000  Sven Neumann <sven@picman.org>
	                      Michael Natterer <mitch@picman.org>

	* Makefile.am
	* pixmaps/folder.xpm: new file.
	* pixmaps/wilber.xpm: removed the shadows.

	* picmanrc.in
	* user_install: cleanup.

	* app/app_procs.c: only parse unitrc and picmanrc if not already
	done by install.c.

	* app/picmanrc.[ch]: cleanups. parse_buffers_init() returns a
	boolean indicating if the buffers are really initialized.

	* app/picmanui.h: include some more stuff from libpicman.

	* app/install.c: Picman's most beautiful dialog should blow away
	first time users.
	(does not yet work with themes, please help)

	* app/preferences_dialog.c: removed the mem_size_unit stuff.

	* libpicman/picmanchainbutton.c: cleanup.

	* libpicman/picmanwidgets.[ch]: new function picman_mem_size_entry_new()
	which does the stuff known from the prefs dialog.

	* plug-ins/script-fu/scripts/tileblur.scm: s/tilable/tileable/

Sun Mar 12 04:26:41 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gfig.c: reduced the preview_size and tweaked the dialog 
	a bit. Gfig should now be useable on 800x600. (adresses bug #5008)

Sun Mar 12 02:25:58 CET 2000  Sven Neumann <sven@picman.org>

	* app/color_notebook.c: connect the wm close event to the Close
	button. This is somehwaqt inconsistent since the Close button takes
	the role of the OK button in this dialog, but IMO it's better that
	way and fixes bug #7078.

	* app/fileops.c: ref the image when doing a save operation. This 
	lets the save plugin complete its job even if the user decided
	to close the display and thereby deleted the image. You may still
	crash the plugin by deleting layers from the Layers dialog, but I 
	guess we will not be able to fix this w/o a major redesign.
	Fixes (well, more or less) bug #2291.

	* app/gradient.c:
	* libpicman/picmancolorbutton.c: cosmetics

Sun Mar 12 01:09:27 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picman.h
	* libpicman/picmanutils.[ch]: new files providing picman_strescape(),
	which is the glib-1.3 g_strescape function

	* plug-ins/script-fu/script-fu-scripts.c: use picman_strescape()

	* app/picmanrc.[ch]
	* app/image_new.c
	* app/preferences_dialog.c: allow to specify a default comment
	which gets attached to new images (fulfills wish #5963)

	* docs/parasites.txt: added a note that gserialize is not included
	in the libpicman build

2000-03-11  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/mpeg.c: added missing comma for
	picman_register_magic_load_handler() arguments.

2000-03-11  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/twain/*.c: Use GLib's memory functions instead of
	malloc and free.

	* plug-ins/winsnap/winsnap.c: Add delay functionality.

Sat Mar 11 14:44:19 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: translate branches in the picman domain too and a 
	few other small fixes

Fri Mar 10 18:10:56 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/pypicman/plug-ins/pdbbrowse.py
	* plug-ins/pypicman/plug-ins/sphere.py: applied patch from Simon Budig
	makes the scripts use env instead of hardcoded path to python

	* plug-ins/common/ps.c: applied picman-kirchgessner-000217-0
	fixes problem with toggle PostScript Level 2
	fixes problem with reading EPS-files that have no showpage command
	adds runlength encoding to PostScript Level 2 files

	* plug-ins/common/jpeg.c: applied picman-cosmin-20000212
	guards parasite code with #ifdef PICMAN_HAVE_PARASITES
	do not save comment if comment string is empty

	* app/fileops.c
	* plug-ins/common/CEL.c
	* plug-ins/common/bz2.c
	* plug-ins/common/gicon.c
	* plug-ins/common/mpeg.c
	* plug-ins/common/psd.c
	* plug-ins/common/psp.c
	* plug-ins/common/tga.c
	* plug-ins/common/xpm.c
	* plug-ins/common/xwd.c: applied picman-mattias-000227-0
	Changes the file format auto-detection algorithm to do the following:
	1. See if the file name matches extensions of formats that do NOT have
	   any magic registered
	2. Check all file formats with registered magic
	3. Check all extensions
	Adds, removes or fixes existing magic in tga, cel, bz2, gicon, mpeg, 
	psd, psp, xpm, xwd

	Please test this heavily (especially the file magic). If this patch
	turns out to be bogus, we'll revert it. If the changes are correct,
	it's an important fix.

Fri Mar 10 12:29:57 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/sel2path/*.c: do not include malloc.h but use the
	glib memory functions instead (should fix bug #7144)

Fri Mar 10 02:55:12 CET 2000  Sven Neumann <sven@picman.org>

	* app/blend.c: renamed Blend Mode from "Custom from Editor" to 
	"Custom Gradient" since the gradient editor is not any longer
	the primary source for gradients. As an extra bonus, you get a
	new dnd target...

Thu Mar  9 22:29:14 GMT 2000  Andy Thomas <alt@picman.org>
	
	* app/picmanimage.c

	A tattoos state can equal the highest tattoo in the image.

Thu Mar  9 20:45:13 CET 2000  Sven Neumann <sven@picman.org>

	* app/commands.[ch]
	* app/menus.c: moved Undo History into the Dialogs menu. The View 
	menu should only hold stuff affecting the view of an image.

Thu Mar  9 12:51:21 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gap/gap_decode_xanim.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/xjt/xjt.c
	* plug-ins/common/uniteditor.c: Typo fixes.

Thu Mar  9 14:00:55 CET 2000  Sven Neumann <sven@picman.org>

	* app/color_picker.c: for indexed images set Index in the info_window
	to N/A if sample_merged or sample_average is active.

Thu Mar  9 12:44:55 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmandrawable.c: picman_drawable_get_color_at() now silently
	returns NULL again if the coordinates are out of range. A lot of 
	code using this function relies on this feature and correctly 
	checks the return value. No need to emit critical warnings here.
	
	The GTK_CHECK_TYPE macro test for obj != NULL, no need to do this
	check twice. Removed lots of unnecessary calls to g_return_if_fail().

	* app/color_picker.c: with the old behaviour of 
	picman_drawable_get_color_at() the code is a bit simpler.

	* app/fuzzy_select.c: fuzzy_select relied on drawable_offsets()
	returning off_x = off_y = 0 if drawable == NULL. Decided to change
	this here, fixes bug #7077.

	* app/picmanimage.[ch]: Even though we made bad experiences with the 
	changes in picmandrawable.c, I have introduced similar argument checks
	here.
	
	* app/image_map.c: indentation

Wed Mar  8 23:37:38 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: Oops, my last commit broke LANG=C. This is now fixed.

Wed Mar  8 21:52:51 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: applied and heavily modified a patch from Daniel Egger.

	There's not any more the need to declare menu branches unless we
	want to create empty submenus (to be filled in by plug-ins). Removes
	a bunch of messages from the catalogs.
	We do not longer put a seperator after submenus if the menu contains
	nothing but submenus. 

2000-03-08  Tor Lillqvist  <tml@iki.fi>

	* app/cursorutil.c (gtkutil_compress_motion)
	* app/edit_selection.c (process_event_queue_keys): Guard against
	gdk_event_get returning NULL (which can happen at least on Win32).

	* libpicman/picman.def: Add a couple of new entry points.

	* plug-ins/makefile.{cygwin,msc}: Update according to the source
	file changes. Fix some typos in the .msc file.

	Fixes by Hans Breuer:

	* app/resize.c: Add some more includes.

	* libpicman/picmanenv.c
	* plug-ins/gflare/gflare.c: Win32 header lossage fixup.

Wed Mar  8 14:50:57 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/align_layers.c
	* plug-ins/common/illusion.c
	* plug-ins/common/mblur.c
	* plug-ins/common/papertile.c
	* plug-ins/common/polar.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/sharpen.c
	* plug-ins/common/vpropagate.c
	* plug-ins/common/wind.c
	* plug-ins/common/wmf.c
	* plug-ins/gap/gap_navigator_dialog.c
	* plug-ins/picmanressionist/picman.c: dont mark PDB help strings for
	translation, various other small fixes

	* plug-ins/xjt/xjt.c
	* plug-ins/xjt/xpdb_calls.c
	* plug-ins/xjt/xpdb_calls.h: 
	applied patch provided by Wolfgang Hofer <hof@hotbot.com> 

Wed Mar  8 12:40:53 GMT 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/xbm.c: Type of written array should
	be unsigned, as that's the type of data we're initializing
	it with.  Cast back to signed for passing to XCreateBitmapFromData()
	etc.

2000-03-07  Michael Natterer  <mitch@picman.org>

	* app/disp_callbacks.c: show PICMAN_BAD_CURSOR if we have no layers.

	Moved the closing bracket out of the GTK_HAVE_SIX_VALUATORS ifdefs
	(just to force emacs to do correct indentation).

2000-03-07  Michael Natterer  <mitch@picman.org>

	* app/by_color_select.c: immediate cursor_update feedback on
	modifier events.

	* libpicman/picmanwidgets.c: one more s/private_tip/help_data/

2000-03-07  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/Makefile.am: added missing $(MAILER)
	to CPPFLAGS for mail plugin.

2000-03-06  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.[ch]:
	namespace consistency: s/private_tip/help_data/

Mon Mar  6 10:39:09 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/plugindetails.c
	* plug-ins/gap/gap_dbbrowser_utils.c: use the same strings

Sun Mar  5 13:18:47 PST 2000 Manish Singh <yosh@picman.org>

	* picman.m4: need GPlugInInfo struct for the link test too
	(patch by Robert Krawitz <rlk@alum.mit.edu>)

Sun Mar  5 03:25:33 CET 2000  Marc Lehmann <pcg@goof.com>

	* app/plug_in.c: Remove the two picman-perl specific hacks that
        should now no longer be necessary.

2000-03-04  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* cursors/selection_move.xbm
	* cursors/selection_move_mask.xbm
	* app/cursorutil.[ch]: new cursor for moving the selection
	mask. Looks imho nicer than the ugly GDK_DIAMOND_CROSS.

	* app/move.c
	* app/rect_select.c: use the new cursor.

	* app/paint_core.c: check for the statusbar's context_id in the
	cursor_update function. Fixes gdk_criticals with the line preview
	(which doesn't need a mouse click). Minor cleanups.

	* app/tool_options.c: put the paint_pressure options in a
	GtkHWrapBox instead of a GtkHBox. Makes the size of the dialog a
	bit less locale-dependent.

	* plug-ins/common/xbm.c: use accessor functions instead of using
	the parasite's fields directly.

Fri Mar  3 19:35:43 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.18 release

2000-03-03  Michael Natterer  <mitch@picman.org>

	* app/crop.c: s/"Only"/"only"/

	* app/iscissors.c: one more cursor_update fix. This time I don't
	claim that it's _really_ correct.

	* app/tool_options.c: don't add a separator after
	opacity/paint_mode if a paint pressure options box follows.

	* cursors/bad.xbm
	* cursors/bad_mask.xbm: made it FAT (no need to use thin lines
	which show as much as possible of the image below because the
	cursor indicates that no operation is possible).

	* libpicman/picmanprotocol.[ch]: s/int/gboolean/ where appopriate,
	indentation paranoia.

	_gp_*_read(): free the already allocated parts of the message if
	reading a subsequent part fails. These cleanups will probably occur
	shortly before the process crashes, but at least they make the
	search for real leaks easier.

	* plug-ins/common/uniteditor.c: some more tooltips.

	* plug-ins/common/xbm.c: store the image comment in the
	"picman-comment" parasite and the hot spot in the new "hot-spot"
	parasite. Added ui for entering the hot spot.

	* docs/parasites.txt: documented the new "hot-spot" parasite.

2000-03-03  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanprotocol.c (_gp_proc_return_destroy): fixed a
	memleak: free the message's name before freeing the message itself.

2000-03-03  Michael Natterer  <mitch@picman.org>

	* app/iscissors.c: this time cursor_update feedback is _really_
	correct: for closed curves, show the "point" cursor if a mouse
	click will modify the curve and the "bad" cursor if a mouse click
	will do nothing. Seems it was not too hard to understand how it
	works...

	* plug-ins/common/uniteditor.c: for consistency, did a
	s/"Delete","Undelete"/"Don't Save","Save"/.

Thu Mar  2 23:27:59 CET 2000  Marc Lehmann <pcg@goof.com>

	* configure.in: Fix $dirprefix to $topdir in perl part.

Thu Mar  2 21:45:17 GMT 2000 Andy Thomas <alt@picman.org>

        * picman/app/nav_window.c

	The "follow display" nav window is now hidden when the 
        last window is closed.

2000-03-02  Michael Natterer  <mitch@picman.org>

	* app/iscissors.c: Iscissors was using rect_select_cursor_update
	which is totally wrong since the oper_update_func tool method was
	introduced (in fact it didn't even give correct feedback before).

	Added oper_update_func, modifier_key_func, cursor_update_func for
	Iscissors which give correct cursor_update feedback now. The only
	remaining inconsistency occurs when a curve is closed: There's no
	way to find out if the mouse is over a control point/line or
	outside (without touching the Iscissors engine, which I didn't
	want to do because I don't understand how it works ;-).

2000-03-02  Michael Natterer  <mitch@picman.org>

	* app/channel_ops.c: s/"Fill Options"/"Fill Type"/

	* app/picmanparasite.c: removed _() around the parasiterc header.

Thu Mar  2 01:02:44 CET 2000  Sven Neumann <sven@picman.org>

	* app/measure.c: Fixed my latest "fix" which introduced a new
	problem. Clean statusbar and info window when starting a new
	measurement.

2000-03-02  Michael Natterer  <mitch@picman.org>

	* app/rect_select.[ch]: added a modifier_key_func which gives
	immediate cursor_update feedback on modifier key events.

	* app/ellipse_select.c
	* app/free_select.c
	* app/fuzzy_select.c
	* app/rect_selectP.h: call the new function.
	Added current_[x|y] fields to the tools' structures which get
	updated from the "motion" functions. They have to appear in the
	same order in all structures because the modifier_key_func treats
	them all as rectangular selection tools.
	This is ugly and cries for a object hierarchy of tools.

2000-03-01  Michael Natterer  <mitch@picman.org>

	* app/picmandrawable.c: picman_drawable_get_color_at(): put the check
	below back but only require a non-indexed drawable if the drawable
	doesn't have an image.
	(The function may call picman_image_get_color() with gimage == NULL
	for RGB and GRAY colors because we don't need a colormap to
	transform them to RGB space).
	This was the obscure special case (TM).

2000-03-01  Michael Natterer  <mitch@picman.org>

	* app/picmandrawable.c: picman_drawable_get_color_at(): don't
	g_return_val_if_fail(!indexed, NULL) because the function seems to
	work fine for all kinds of drawables. Fixes #6756. Or is this
	check needed for some obscure special case?

2000-03-01  Michael Natterer  <mitch@picman.org>

	* cursors/selection.xbm
	* cursors/selection_subtract.xbm: made the selection rectangles
	look the same (avoids flickering on Ctrl/Shift).

	* cursors/selection_intersect.xbm
	* cursors/selection_intersect_mask.xbm: the symbol for
	intersection is "n", not "u".

2000-03-01  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* cursors/*: a proper naming scheme for all cursor files. Added
	zoom_in and zoom_out cursors.

	* app/bezier_select.c
	* app/by_color_select.c
	* app/cursorutil.[ch]
	* app/rect_select.c
	* app/scale.[ch]: changed according to the new cursor names. Some
	minor fixes.

	* app/magnify.[ch]: made the zoom_in/zoom_out toggle a proper
	tool_toggle and show cursors for the two modes.

	* plug-ins/print/print-util.c: patch from Robert Kravitz which
	fixes printing layers with alpha.

Wed Mar  1 00:46:09 CET 2000  Sven Neumann <sven@picman.org>

	* app/layers_dialog.c
	* app/menus.c: remove ellipses from menu entries

2000-03-01  Michael Natterer  <mitch@picman.org>

	* app/gdisplay.c: set <Image>/File/Revert... insensitive if the
	image has no filename.

	* plug-ins/common/uniteditor.c: minor fix.

Wed Mar  1 00:13:24 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.c: return without warning if popup_timeout
	is already set. Suppresses warning that occured on double-click.

	* app/layers_dialog.[ch]
	* app/menus.c: added "Delete Mask" menu entry and removed dialog
	asking if mask is to applied or discarded on "Apply Mask".

	* app/tools.c: Magnify is not a transform tool

Tue Feb 29 21:35:11 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/sample_colorize.c: applied patch from Wolfgang
	Hofer that enables checkerboard for transparent areas in the
	preview.

2000-02-29  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/.cvsignore
	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* po-plug-ins/POTFILES.in
	* help/C/filters/Makefile.am
	* help/C/filters/index.html
	* plug-ins/common/uniteditor.c
	* help/C/filters/uniteditor.html: new plugin.

	After one year of announcing it, I finally hacked the PICMAN unit
	editor. Have fun with lightyears, parsec, ... :-)

Mon Feb 28 23:52:56 CET 2000  Sven Neumann <sven@picman.org>

	* app/measure.c: fixed off-by-one error for the x coordinate
	
	* app/transform_core.c: fixed scaling without interpolation
	(bug #6681) 

Mon Feb 28 19:11:39 GMT 2000  Adam D. Moss <adam@picman.org>

	* app/cursorutil.c app/cursorutil.h:
	added gtkutil_compress_motion() utility function to seek and
	destroy outstanding pointer motion events from the gdk event queue
	for a given widget.

	* app/edit_selection.c:305: Use gtkutil_compress_motion() to
	do a more thorough job of tracking motion (something recently
	started interleaving our motion events with others, largely
	nullifying the effectiveness of GDK_POINTER_MOTION_HINT_MASK).

	* app/edit_selection.c:704: Yikes, the key-press snooping code
	was turning part of the event queue back-to-front with each
	compressed key-press.  (Still looks a bit bogus overall; looks
	as though it could transplant a whole chunk of the start of
	the event queue right onto the end.  I'll probably disable it
	unless someone points out that I'm a doofus.)

Mon Feb 28 19:37:25 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_arr_dialog.[ch]
	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/gap/gap_decode_xanim.c
	* plug-ins/gap/gap_filter.h
	* plug-ins/gap/gap_filter_iterators.c
	* plug-ins/gap/gap_filter_pdb.[ch]
	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_mpege.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/iter_ALT/mod/plug_in_nova_iter_ALT.inc
	* plug-ins/gap/iter_ALT/mod/plug_in_papertile_iter_ALT.inc
	* plug-ins/gap/iter_ALT/mod/plug_in_sparkle_iter_ALT.inc:
	applied patch from Wolfgang Hofer <hof@hotbot.com>

2000-02-28 02:40-GMT Garry R. Osgood <gosgood@idt.net>

        * picman/app/by_color_select.c 
	* picman/app/color_picker.c 
	* picman/app/picmandrawable.c 
	* picman/app/image_map.c 
	* picman/app/paint_core.c
	Inadvertent logic error in g_return_val_if_fail() 
	style sanity checks implemented in 
	picman_drawable_get_color_at() gave rise to
	segment violation reported in #6624; 
	error admitted out-of-bounds x&y that
	do not map to tiles. Closes #6624.
	GTK-critical warnings which result from
	this new sanity check require that
	picman_drawable_get_color_at() clients 
	perform initial culling of out-of-bounds
	x & y coordinates.
 	
2000-02-28  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanfileselection.c
	* libpicman/picmanunitmenu.c: behave like other dialogs (close) when
	pressing "OK" or "Cancel".

	* libpicman/stdplugins-intl.h
	* plug-ins/script-fu/script-fu-intl.h: bind the "picman-libpicman"
	textdomain also if HAVE_LC_MESSAGES is undefined.

	* plug-ins/print/print-ps.c
	* plug-ins/print/print.c: applied a patch from Robert L Kravitz
	<rlk@alum.mit.edu> which adds a "Center" button, activates all
	text entries and corrects the rounding behaviour. And a minor fix
	for the PS driver.

	* plug-ins/dbbrowser/Makefile.am
	* plug-ins/dbbrowser/dbbrowser.h: removed.

	* plug-ins/dbbrowser/dbbrowser.c
	* plug-ins/dbbrowser/dbbrowser_utils.c
	* plug-ins/dbbrowser/dbbrowser_utils.h
	* plug-ins/common/plugindetails.c: ui and code cleanup.
	libpicman ui stuff and a proper include structure for the dbbrowser.

	* plug-ins/script-fu/script-fu-console.c: include
	"plug-ins/dbbrowser/dbbrowser_utils.h".

Sun Feb 27 21:55:44 CET 2000  Sven Neumann <sven@picman.org>

	* po-script-fu/Makefile.in.in: forgot to check this in

2000-02-27  14:54:18 EST Garry R. Osgood <gosgood@idt.net>

	* picman/app/picmanimage.c Fixed small typo.

Sun Feb 27 20:25:45 CET 2000  Sven Neumann <sven@picman.org>

	Script-Fu now has its own textdomain. This allows full
	localisation of the Script-Fu UI. Now all that's missing
	is a script that extracts the translatable trings out of 
	the (script-fu-register ...) calls. 

	* Makefile.am
	* configure.in
	* po-script-fu/*: new files.

	* app/plug_in.c: allow translation of the temporary installed
	Script-Fu scripts

	* plug-ins/script-fu/Makefile.am
	* plug-ins/script-fu/script-fu-intl.h: new file
	
	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu-server.c
	* plug-ins/script-fu/script-fu.c: bind to the picman-script-fu
	textdomain and use gettext for all labels in the script UI.

2000-02-27  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanhelpui.c: added documentation.

Sun Feb 27 13:07:31 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanimage.c
	* app/layer.c: removed warnings, cleaned up the source, 
	unmarked internal error messages for translation

Sat Feb 26 23:58:27 GMT 2000 Andy Thomas <alt@picman.org>

        * picman/app/nav_window.c

	Now takes note of the users set preview size when close to the
	edge of the screen. 
	If the user selected < MAX size of preview the popup would appear
	in the incorrect location of the screen. This is a slight change	
	to the checkin of Sat Feb 19 13:53:34 CET 2000  by 
	Sven Neumann <sven@picman.org>

Sat Feb 26 19:56:35 CET 2000  Sven Neumann <sven@picman.org>
			      Daniel Egger <Daniel.Egger@suse.de>

	* app/menus.c: Branches are now translated on the fly by using
	the translation of the menu_entry that causes the menu to be
	created. This has the drawback that this menu needs to have a 
	proper translation or the branch won't be translated, but we 
	don't need the dummy_entries any more and plugins can provide 
	deeply nested menus that are translated from one string. 

	* plug-ins/gap/gap_frontends_main.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/webbrowser/webbrowser.c: removed the dummy entries

	The translation of Script-Fu is the remaining problem. IMHO we
	should solve this properly by writing a xgettext-like script
	that parses the Script-Fus and add a picman-script-fu domain.
	With trivial changes to script-fu-scripts.c we will get a 
	completely internationalized Script-Fu UI.

2000-02-26 Garry R. Osgood <gosgood@idt.net>

	* app/commands.c
        * app/picmanimage.c
	* app/layer.c
	* app/layer.h
	* app/resize.c
	* app/resize.h
	* help/C/dialogs/Makefile.am
	* help/C/dialogs/scale_layer_warn.html (new: placeholder)

	Aliasing artifacts that changed relative positions
	of layers under scaling, giving rise to #5271, are 
	minimized by a new layer.c function, 
	layer_scale_by_factors(). Closes #5271. See
	http://idt.net/~gosgood/picman-patch/patch07.html
	for further detail. See also usage documentation
	for layer_scale() and layer_scale_by_factors()
	in layer.c. 

	Provided logic for the Scale Image dialog box
	<Image->Scale Image...>
	to pre-check an image's layers for the possibility
	that a particular scaling, s: 0 < s < 1, reduces
	a layer dimension to zero. Should this case prevail,
	a boolean dialog box warns the user of the possibility.
	The user may (1) Cancel, returning focus to Scale
	Image and the possibility of corrective adjustment, or
	(2) OK the scaling. The layers that will vanish upon
	the new scaling are culled from the PicmanImage::layers
	list first. >>Please Test This!<< I've tested it
	fairly thoroughly, but my physician reports that I
	suffer from hubris. ;)
   	
2000-02-26  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanhelpui.[ch]
	* libpicman/picmandialog.c: added some not-yet-complete documentation.

Sat Feb 26 14:56:15 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/exchange.c: implemented locking of threshold
	sliders (fixes bug #6613)

2000-02-26  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* app/menus.c
	* plug-ins/gap/gap_frontends_main.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/webbrowser/webbrowser.c: moved dummy menu entries
	for menu path translation into plugins.

Sat Feb 26 04:37:44 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am: excluded gserialize.[ch] from the build

	* libpicman/*: header cleanup

2000-02-26  Michael Natterer  <mitch@picman.org>

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/ops_buttons.[ch]
	* app/paths_dialog.c: use PicmanPixmap widgets. Don't pass the
	parent widget pointer to ops_button_box_new().

2000-02-25  Asbjorn Pettersen  <asbjornP@dualog.no>

	* libpicman/picmanenv.c: <sys/types.h> before <sys/stat.h> to skip
	warning (OS/2)

Fri Feb 25 19:50:35 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/Lighting/Makefile.am
	* plug-ins/MapObject/Makefile.am: remove header files that were
	removed from the tree

2000-02-24  Michael Natterer  <mitch@picman.org>

	* plug-ins/print/print.c: use the ui constructors from libpicman,
	put the widgets into frames, removed callbacks wich are not used
	any more. Makes the dialog smaller but is not perfect yet.
	Re-applied Sven's patch which initializes the "File" printer.

Thu Feb 24 18:44:58 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: Applied patch provided by Daniel Egger that 
	enables shortcuts for the toolbox menus. Nice for tall toolbox
	layouts.

Thu Feb 24 17:06:02 CET 2000  Sven Neumann <sven@picman.org>

	* app/fileops_cmds.c
	* tools/pdbgen/pdb/fileops.pdb: don't add an already registered
	load|save handler twice to the list. This fixes the problem
	that extension were listed twice if a load|save plugin changed.

	* app/plug_in.[ch]: code cleanup, indentation 

	* app/xcf.[ch]: same here, include copyright headers
	
	* plug-ins/common/wmf.c: properly cancel the load if the user
	pressed Cancel in the dialog (fixes bug #6500)

2000-02-24  Michael Natterer  <mitch@picman.org>

	* app/paths_dialog.c: we were also leaking all path preview
	pixmaps ever created. Always remember that GdkPixmaps are not
	created "floating" but with a real refcount of 1. Minor cleanups.

2000-02-24  Michael Natterer  <mitch@picman.org>

	* app/picmanbrush.[ch]
	* app/picmanbrushgenerated.[ch]
	* app/picmanbrushlist.[ch]
	* app/picmanbrushlistP.h
	* app/picmanbrushpipe.[ch]
	* app/picmanbrushpipeP.h: did a brushes code-review: indentation,
	removed some includes, didn't find a bug :-)

	* app/gradient.c
	* app/palette.c: we were leaking all gradient and palette preview
	pixmaps as well as all lists of palette colors on each refresh.

	* libpicman/picmanenv.c: updated documentation.

2000-02-24  Michael Natterer  <mitch@picman.org>

	* app/tool_options.c: another leak: don't allocate the
	PaintPressureOptions structure twice for one tool.

2000-02-24  Michael Natterer  <mitch@picman.org>

	* app/datafiles.c: fixed a memleak.

	* app/picmanbrushlist.c
	* app/gradient.c
	* app/palette.c: use the picman_path_* functions, cleanups.

	* app/picmanbrushpipe.c: call the "destroy" function of the parent
	class, not of the object class. Fixes a huge memleak on each
	"Refresh".

	* app/picmanbrushpipeP.h
	* app/picmanlist.c
	* app/picmanbrush.c: did some cleanups while searching the brush
	memleak.

	* libpicman/picmanenv.c: picman_path_get_user_writable_dir(): return a
	copy of the string.

	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/gfig/gfig.c
	* plug-ins/gflare/gflare.c: g_free() the string returned by
	picman_path_get_user_writable_dir().

Thu Feb 24 02:20:15 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanrc.c: picman_parasite_attach() creates a copy of
	the parasite, so free it here after attaching it

Thu Feb 24 00:42:12 CET 2000  Sven Neumann <sven@picman.org>

	* app/text_tool.c: Don't crash if a font couldn't be loaded.
	(fixes bug #6526). Reordered the way the objects in the  
	tool_options dialog are connected, so the widgets sensitivity 
	is set correctly.

Thu Feb 24 00:10:29 CET 2000  Sven Neumann <sven@picman.org>

	* app/plug_in.c: don't bind to the default textdomain twice if
	a plug-in adds it using picman_plugin_domain_add ()

Wed Feb 23 23:31:07 CET 2000  Sven Neumann <sven@picman.org>
	
	* app/plug_in.c: plugged memleaks

2000-02-24  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.h (Win32): Include <stdlib.h> for __argc and__argv.

	* libpicman/{picman,picmanui}.def: Add new entry points.

	* libpicman/picmanenv.c (Win32): Make compileable, with no geteuid etc.

	* app/makefile.{cygwin,msc}
	* libpicman/makefile.{cygwin,msc}: Update object file list.

Wed Feb 23 21:07:41 CET 2000  Sven Neumann <sven@picman.org>

	* app/fileops.c
	* app/main.c
	* app/menus.[ch]
	* app/plug_in.c: The ultimate solution to the i18n problem :-)

	The "i18n problem" is (TM) Daniel Egger and this solution is a 
	derivative work using his ideas and some of the code he provided.

	We bind to the picman-std-plugins domain and additionally to all
	domains explicitely specified by plugins. When translating a
	menu_entry, we use our knowledge about the domain the plug-in is
	in and only search in that textdomain. No need to iterate through
	all domains any more. 

	There is a small hack to make the perl localisation work
	that will be removed as soon as the perl-fu scripts use the
	picman_plugin_add_domain() function.

	* app/picmanrc.c
	* app/plug_in_cmds.c
	* tools/pdbgen/pdb/plug_in.pdb: small cleanups

Wed Feb 23 19:04:08 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanrc.c
	* app/internal_procs.c
	* app/plug_in.[ch]
	* app/plug_in_cmds.c
	* libpicman/picman.[ch]
	* tools/pdbgen/pdb/plug_in.pdb: new functions 
	picman_plugin_domain_add() and picman_plugin_domain_add_with_path()
	that allow a plugin to specify its textdomain in the query()
	function. The info is saved and read in from the pluginrc, but
	not yet used.

2000-02-23  Michael Natterer  <mitch@picman.org>

	* app/file_new_dialog.c: use a picman_query_boolean_box().

	* libpicman/picmanenv.c
	* libpicman/picmanquerybox.c: documentation updates.

	* libpicman/picmanwidgets.[ch]: changed the widget constructors to
	return only the container widget and added access marcos for the
	sub-widgets. Added documentation for all functions.
	Made picman_toggle_button_sensitive_update() public so this feature
	can be properly documented.

	* plug-ins/common/blur.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/plasma.c
	* plug-ins/common/randomize.c
	* plug-ins/common/snoise.c
	* plug-ins/common/spread.c
	* plug-ins/common/tile.c
	* plug-ins/gflare/gflare.c: updated according to the
	picmanwidgets.[ch] changes.

Wed Feb 23 14:50:09 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/print/print-escp2.c
	* plug-ins/print/print-pcl.c
	* plug-ins/print/print-util.c
	* plug-ins/print/print.c: 
	Applied patch from Robert L Krawitz <rlk@alum.mit.edu>.
	Bumps print plug-in version to 3.0.9 and adds a few nifty
	little features. Now all we need is a facelift for the 
	dialog... 
	
Wed Feb 23 01:15:12 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/gtm.c: added a warning in the case the user
	tries to save a large image as an HTML table

Tue Feb 22 22:25:29 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/grid.c: added support for indexed images and
	corrected the behaviour for grayscale drawables

Tue Feb 22 18:40:53 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gfig/gfig.c: typso fixed

2000-02-22  Michael Natterer  <mitch@picman.org>

	* app/picmancontext.[ch]: it's more intelligent to implement the
	parent_context stuff with gtk_signal_connect_object() instead of
	having internal callbacks for each context attribute.
	Exported the existing picman_context_*_changed() functions and
	changed them to do nothing but emitting the signal.

	* app/app_procs.c
	* app/tools.c
	* app/transform_tool.c: use picman_context_tool_changed() instead of
	gtk_signal_emit_by_name().

2000-02-22  Michael Natterer  <mitch@picman.org>

	* app/color_area.[ch]
	* app/interface.c: pass masks for the "default" and "swap" pixmaps
	to the color_area constructor and use them to create a clip mask
	in color_area_draw().

	* app/datafiles.[ch]: some harmless cleanups.

	* libpicman/picmanpixmap.c: use gtk_pixmap_set_build_insensitive()
	instead of accessing the field directly.

Tue Feb 22 01:42:01 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/perl/Makefile.PL: Made 'make install' work again.
	The picman-perl po files are however not installed. Marc, you
	will want to look into this again.

Tue Feb 22 01:20:05 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmanchainbutton.c: set the widget's requisition so it 
	can be properly packed before it's realized. Fixes bug #6470.

Mon Feb 21 19:41:49 CET 2000  Sven Neumann <sven@picman.org>

	* app/pixmaps2.h: Tried to bring a little more shape into the
	newer tool icons. Still not content with dodge and measure, but
	IMO it's better than before especially for dark themes.

2000-02-21  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanpixmap.c: fixed a gtk-doc comment.

	* libpicman/picmanenv.[ch]: new functions:

	- picman_path_parse(): Creates a GList of strings from a searchpath
	  string and performs sanity checks.
	- picman_path_to_str(): Creates a searchpath string from the list
	  returned by picman_path_parse().
	- picman_path_free(): Frees the list returned by picman_path_parse().
	- picman_path_get_user_writable_dir(): Returns the first dir in a
	  path where the user has write access. With this function the
	  "Save" dialogs of some plugins always show the plugin's
	  subdirectory of the user's picman_dir instead of the read-only
	  global one.

	* app/datafiles.[ch]
	* app/picmanbrushlist.c: use the new functions and
	s/datafile_loader_t/PicmanDataFileLoaderFunc/.

	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/gfig/gfig.c
	* plug-ins/gflare/gflare.c
	* plug-ins/picmanressionist/picmanressionist.c: use the new functions.

Mon Feb 21 14:05:56 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanbrushlist.c
	* po/POTFILES.in: actually load generated brushes, marked a few
	messages for translation

Mon Feb 21 13:04:47 CET 2000  Sven Neumann <sven@picman.org>

	* app/blend.c
	* plug-ins/Lighting/lighting_ui.c
	* plug-ins/MapObject/mapobject_ui.c: more places that had the same
	Solaris compilation problems

2000-02-21  Michael Natterer  <mitch@picman.org>

	* app/perspective_tool.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/shear_tool.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c: fix Solaris compilation problems
	reported by Ludovic Poitou <ludovic.poitou@france.sun.com>.

	* libpicman/picmanpixmap.[ch]: new function picman_pixmap_set().

	* plug-ins/gfig/gfig.c: hacked the ui to use the libpicman widgets &
	constructors and slightly reorganized it to use fewer screen
	space (not yet perfect). Did a general namespace & code cleanup.

	* plug-ins/FractalExplorer/FractalExplorer.c: use a PicmanPathEditor
	widget.

Mon Feb 21 11:59:33 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/curve_bend.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_split.c: GUI updates by Wolfgang Hofer

Sun Feb 20 20:34:40 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/grid.c: hopefully got it right this time

Sun Feb 20 18:40:34 CET 2000  Marc Lehmann <pcg@goof.com>

        * app/fileops.c: Fix setting of filename on Save As (the filename
        was not set on the first call, only on subsequent ones).

Sun Feb 20 10:46:00 CST 2000  Seth Burgess <sjburges@picman.org>

	* app/gdisplay_ops.c: Fix bug that was causing images too
	big to really mess up when shrink wrapped.  Tried to make
	it work right for positioning image as well, but I fear 
	this may be WM dependant.  Please let me know if things 
	hang of the edges for you... (Fixes #6257)
	
Sun Feb 20 03:46:12 CET 2000  Sven Neumann <sven@picman.org>

	* app/devices.c
	* app/picmandnd.c
	* app/info_window.c
	* app/interface.c
	* app/tools.[ch]: do not ignore the mask of the tool icons

Sat Feb 19 20:34:43 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/pnm.c: Load files in the pbm ascii format even
	if they do not use whitespace in the bits section (which is 
	perfectly OK according to the pbm manpage). Fixes bug #6330.

Sat Feb 19 17:27:07 CET 2000  Sven Neumann <sven@picman.org>

	* app/interface.c: Use geometry hints (minimum size and size
	increments) for the toolbox. This works quite nice here at my
	box, but your mileage may vary, so please test this and report
	back...

2000-02-19  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanpixmap.c: picman_pixmap_new(): set the widget's
	requisition so it can be properly packed before it's realized.

	* libpicman/picmanwidgets.[ch]: added a "text" parameter to
	picman_pixmap_button_new().

	* app/undo_history.c: use picman_pixmap_buttons.
	
	* app/gradient.c
	* app/nav_window.c
	* app/palette.c
	* libpicman/picmanpatheditor.c
	* plug-ins/Lighting/lighting_ui.c
	* plug-ins/MapObject/mapobject_ui.c: changed calls to
	picman_pixmap_button_new().

	* plug-ins/MapObject/mapobject_main.c: INIT_I18N() was missing in
	query().

	* plug-ins/pagecurl/pagecurl.c: use PicmanVector2 functions instead
	of reinventing the wheel.

	* plug-ins/helpbrowser/helpbrowser.c: use picman_pixmap_buttons.

	* plug-ins/helpbrowser/back.xpm
	* plug-ins/helpbrowser/forward.xpm: cropped.

Sat Feb 19 13:53:34 CET 2000  Sven Neumann <sven@picman.org>

	* app/fuzzy_select.c: ignore motion_events in a time-window of
	100ms after the last event. Was intended as a workaround for bug
	#5949, but IMO it makes the tool more responsive and easier to 
	control.

	* app/nav_window.c: as a workaround for bug #5955 move the
	navigation popup on screen if used too close to the screen borders.
	Moving the cursor will make the image scroll by a large amount
	eventually, but IMHO this is better than having a nonfunctional
	navigation popup. 

	* plug-ins/common/curve_bend.c
	* plug-ins/gap/gap_decode_xanim.c: fixed typos

Sat Feb 19 00:05:12 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/ps.c: default to rotation = 0

2000-02-18  Michael Natterer  <mitch@picman.org>

	* app/paint_options.h
	* app/tool_options.h: put the pointer to tool's private context to
	the PaintOptions structure instead of attaching it to the
	paint_mode optionmenu (which does not exist for all paint tools
	which have a private context). Fixes bug #6308.

2000-02-18  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.c: added (empty) documentation headers.

Fri Feb 18 19:16:26 CET 2000  Sven Neumann <sven@picman.org>

	* app/Makefile.am: forgot to exclude airbrush_blob.[ch] from the
	build

	* app/picmanbrushgenerated.c
	* app/ink.c
	* app/measure.c
	* app/rotate_tool.c: use picman_rad_to_deg and picman_deg_to_rad macros

2000-02-18  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanchainbutton.c
	* libpicman/picmancolorbutton.c: documentation updates.

Fri Feb 18 16:20:25 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmanpatheditor.c
	* libpicman/picmanquerybox.c: removed warnings about undeclared functions
	by including the appropriate header files, don't include picmanintl.h

	* plug-ins/Lighting/lighting_ui.c: use g_new instead of malloc

2000-02-18  Michael Natterer  <mitch@picman.org>

	* libpicman/Makefile.am
	* libpicman/picmanpixmap.[ch]: simple widget which creates a pixmap
	from XPM data without the need to worry about it's parent's
	"realized" state and other stuff.

	* libpicman/picmancolorbutton.c: removed a gtk-doc comment from an
	internal function.

	* libpicman/picmanwidgets.[ch]: new function picman_pixmap_button_new().

	* app/picmanui.h
	* libpicman/picmanui.h: include picmanpixmap.h.

	* app/gradient.c
	* app/nav_window.c
	* app/palette.c
	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanpatheditor.c
	* libpicman/picmanquerybox.c
	* plug-ins/FractalExplorer/FractalExplorer.c: use PicmanPixmaps.

	* plug-ins/Lighting/*
	* plug-ins/MapObject/*: some more cleanups: reduced # of includes,
	made private functions static, use PicmanPixmaps.

	* plug-ins/libgck/Makefile.am
	* plug-ins/libgck/NEWS
	* plug-ins/libgck/README
	* plug-ins/libgck/TODO
	* plug-ins/libgck/docs/html/gck.html
	* plug-ins/libgck/docs/html/gck_application_window.html
	* plug-ins/libgck/docs/html/gck_dialog_window.html
	* plug-ins/libgck/docs/html/gckmath.html
	* plug-ins/libgck/docs/html/gckui.html
	* plug-ins/libgck/docs/html/gckvector.html: removed because they
	documented files which don't exist any more.

Fri Feb 18 10:43:30 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/ifscompose/ifscompose.c: 
	use picman_color_button_double_new(), simplifies the code a bit...

2000-02-18  Michael Natterer  <misch@picman.org>

	* libpicman/picmancolorbutton.[ch]: new function
	picman_color_button_double_new() which uses an array of gdouble
	instead of guchar to store the color.

	* libpicman/picmanwidgets.h: added macros for easier access of the
	scale_entries widgets.

	* plug-ins/common/film.c: use the scale_entry widget accessors.

	* plug-ins/libgck/gck/Makefile.am
	* plug-ins/libgck/gck/gckcolor.h
	* plug-ins/libgck/gck/gcktypes.h
	* plug-ins/libgck/gck/gckui.[ch]: removed.

	* plug-ins/libgck/gck/gck.h
	* plug-ins/libgck/gck/gckcolor.c: left only the color functions in
	libgck.

	* plug-ins/Lighting/lighting_pixmaps.h
	* plug-ins/MapObject/mapobject_pixmaps.h: removed (include the
	pixmaps directly).

	* po-plug-ins/POTFILES.in: added mapobject_ui.c.

	* plug-ins/Lighting/lighting_image.c
	* plug-ins/Lighting/lighting_main.[ch]
	* plug-ins/Lighting/lighting_preview.c
	* plug-ins/Lighting/lighting_ui.[ch]
	* plug-ins/MapObject/mapobject_image.[ch]
	* plug-ins/MapObject/mapobject_main.[ch]
	* plug-ins/MapObject/mapobject_preview.c
	* plug-ins/MapObject/mapobject_ui.[ch]: use gtk+ and libpicman
	functions instead of gck ones, cleanups, I18N. More stuff to
	come...

Thu Feb 17 03:30:40 PST 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/*.pl: added 2000 to the copyrights

	* tools/pdbgen/lib.pl: it's foo_pdb.[ch] now

	* tools/pdbgen/pdb/drawable.pdb
	* tools/pdbgen/pdb/parasite.pdb: reenabled sanity checks for the
	drawable IDs and the parasite names

	* app/drawable.c
	* app/picmandrawable.c: added a bunch of g_return_if_fail's, instead
	of the silent check and return in many functions. This should also
	be done in picmanimage.c and the like too.

	* app/picmandrawable.h
	* app/layer.c: cosmetic code fix

Thu Feb 17 11:02:27 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/imagemap/imap_default_dialog.c
	* plug-ins/imagemap/imap_main.c
	* plug-ins/imagemap/imap_selection.c
	* plug-ins/pagecurl/pagecurl.c: i18n fixes, typos, hide useless
	(not connected) help buttons

2000-02-17  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/imagemap/imap_circle.c
	* plug-ins/imagemap/imap_cmd_guides.c
	* plug-ins/imagemap/imap_default_dialog.c
	* plug-ins/imagemap/imap_edit_area_info.c
	* plug-ins/imagemap/imap_file.c
	* plug-ins/imagemap/imap_grid.c
	* plug-ins/imagemap/imap_main.c
	* plug-ins/imagemap/imap_menu.c
	* plug-ins/imagemap/imap_polygon.c
	* plug-ins/imagemap/imap_popup.c
	* plug-ins/imagemap/imap_preferences.c
	* plug-ins/imagemap/imap_rectangle.c
	* plug-ins/imagemap/imap_selection.c
	* plug-ins/imagemap/imap_settings.c
	* plug-ins/imagemap/imap_toolbar.c
	* plug-ins/imagemap/imap_tools.c
	* po-plug-ins/POTFILES.in: include config.h and more gettext
	tagging.

2000-02-16 Garry R. Osgood <gosgood@idt.net>

	* app/paint_funcs.c: replace_pixels() was
	naively zeroing RGB components of RGBA pixels
	when projecting and compositing paint_core
	and currently active layer pixels. Closes
	#5947. See bug report, and 
	http://idt.net/~gosgood/picman-patch/patch06.html
	for further detail.
	
Wed Feb 16 21:42:19 CET 2000  Sven Neumann <sven@picman.org>

	* app/channel_ops.c: copy image parasites on image duplicate
	(fixes bug #6270)

Wed Feb 16 17:36:43 CET 2000  Sven Neumann <sven@picman.org>

	* PLUGIN_MAINTAINERS: updated file sizes

	* plug-ins/common/curve_bend.c: applied patch from author
	Wolfgang Hofer that fixes bug #6012.

2000-02-16  David Monniaux  <monniaux@miaou.ens.fr>

	* plug-ins/gap/gap_mov_dialog.c: fixed typos in dialog strings.

Wed Feb 16 14:46:14 CET 2000  Sven Neumann <sven@picman.org>

	* app/pathsP.h: removed
	* app/path.h
	* app/pathP.h
	* app/path_transform.h: new header files. Only files that absolutely
	need to access the Path structures internally need to include pathP.h.
	All other functionality is described in the other header files.

	* app/Makefile.am
	* app/bezier_select.h
	* app/bezier_selectP.h
	* app/edit_selection.c
	* app/flip_tool.c
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanimageP.h
	* app/path.c
	* app/paths_cmds.c
	* app/paths_dialog.c
	* app/transform_core.c
	* app/undo.c
	* app/xcf.c
	* tools/pdbgen/pdb/paths.pdb: Changed according to the changes
	described above.

2000-02-16  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: New splash, valentine is over.
	This one is to show the respect to all of you great
	people hacking on Picman. You are making my day :)
	Thanks. Let the bugs die!

Wed Feb 16 03:49:40 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/unsharp.c: removed warnings

Wed Feb 16 03:08:10 CET 2000  Sven Neumann <sven@picman.org>

	* app/interface.c: new default toolbox layout: 5x5 tools

Wed Feb 16 02:36:48 CET 2000  Sven Neumann <sven@picman.org>

	* tools/pdbgen/pdb/paths.pdb
	* app/Makefile.am
	* app/bezier_select.c
	* app/bezier_select.h
	* app/bezier_selectP.h
	* app/channel_ops.c
	* app/context_manager.c
	* app/gimage_cmds.c
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanimageP.h
	* app/lc_dialog.c
	* app/menus.c
	* app/path.c: new file
	* app/pathsP.h
	* app/paths_cmds.c
	* app/paths_dialog.c
	* app/paths_dialog.h
	* app/paths_dialogP.h
	* app/pixmaps2.h
	* app/tool_options.c
	* app/tools.c
	* app/toolsF.h
	* app/xcf.c: 
	Moved some functions out of paths_dialog.c into the new file 
	paths.c and did a general namespace cleanup:
	s/PATHP/Path*/  s/PATHIMAGELISTP/PathList*/ and friends.

	Paths are now copied on image duplicate (fixes bug #5726).
	
	Removed Path Tool and XInput Airbrush from the build and 
	renamed "Layers & Channels" to "Layers, Channels & Paths".

	* plug-ins/xjt/README_xjt_fileformat.txt
	* plug-ins/xjt/xjt.c
	* plug-ins/xjt/xpdb_calls.c
	* plug-ins/xjt/xpdb_calls.h: applied patch from Wolfgang Hofer
	that enables loading and saving of paths based on Andy's changes
	explained below.

Tue Feb 15 23:27:42 GMT 2000 Andy Thomas <alt@picman.org>

	 * picman/app/picmandrawable.c
	 * picman/app/channel.c
	 * picman/app/layer.c
	 * picman/app/channel.h
	 * picman/app/layer.h
	 * picman/app/picmanimage.c
	 * picman/app/picmanimage.h
	 * picman/app/picmandrawable.h
	 * picman/tools/pdbgen/pdb/paths.pdb
	 * picman/tools/pdbgen/pdb/layer.pdb
	 * picman/tools/pdbgen/pdb/channel.pdb
	 * picman/tools/pdbgen/pdb/gimage.pdb
	 * picman/app/channel_cmds.c
	 * picman/app/gimage_cmds.c
	 * picman/app/internal_procs.c
	 * picman/app/layer_cmds.c
	 * picman/app/paths_cmds.c

	New picman_*_set_tattoo procedures. This allows save/load plugins 
        to save/restore tattoo states of layers, channels and paths. Note the
	internal tattoo state can also be set, however rigorous checks are
	performed to make sure that the internal tattoo states of layer,
	channels and paths are consistent and that the new state value is
	newval > MAX(MAX(layertattoo),MAX(channeltattoo),MAX(pathtattoo)).

Tue Feb 15 13:14:31 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/unsharp.c: 
	updates from author  Winston Chang <wchang3@students.wisc.edu> 

2000-02-15  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.def
	* libpicman/picmanui.def
	* libpicman/makefile.{cygwin,msc}
	* app/makefile.{cygwin,msc}
	* plug-ins/makefile.{cygwin,msc}: Updates.

	* app/datafiles.c (is_script): New Win32-only function, which
	tests if a file's extension matches one of the extensions in the
	PATHEXT environment variable (which the cmd.exe command
	interpreter also uses). This is to avoid starting applications
	associated with any random data file the user might have dropped
	in the plug-ins folder, while still supporting plug-ins written in
	scripting languages.

	* app/picmanparasite.c (picman_parasiterc_save): (Win32:) Cannot
	rename to an existing file.

	* plug-ins/Lighting/lighting_image.c
	* plug-ins/Lighting/lighting_share.c
	* plug-ins/MapObject/mapobject_preview.c
	* plug-ins/MapObject/mapobject_shade.c: Use G_PI.

	* plug-ins/common/gz.c: #ifdef G_OS_WIN32 was used before its
	potential definition via glib.h.

	* plug-ins/common/jpeg.c: Also recognize Exif files, which are
	typically produced by digital cameras. The usually have a .jpg
	file name extension, and would thus already match this plug-in,
	but add the magic string just in case. They are loaded just fine
	by libjpeg even if they don't have the JFIF signature.

	* plug-ins/common/tiff.c: Set TIFF warning and error handler, so
	we get to pass libtiff's messages through the normal channels.

2000-02-14  Michael Natterer  <mitch@picman.org>

	* plug-ins/libgck/gck/Makefile.am
	* plug-ins/libgck/gck/gckimage.h: removed.

2000-02-14  Michael Natterer  <mitch@picman.org>

	* app/Makefile.am
	* app/vector2d.[ch]: removed.

	* app/picmanbrush.h
	* app/paint_core.c: use the vectors from libpicman.

Mon Feb 14 18:53:23 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/winclipboard.c: typo

2000-02-14  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanvector.[ch]: name parameters "vector1", "vector2"
	etc. instead of just "a", "b" etc.

2000-02-14  Michael Natterer  <mitch@picman.org>

	* plug-ins/libgck/gck/Makefile.am
	* plug-ins/libgck/gck/gckcommon.h
	* plug-ins/libgck/gck/gcklistbox.[ch]
	* plug-ins/libgck/gck/gckmath.[ch]
	* plug-ins/libgck/gck/gckvector.[ch]: removed.

	* plug-ins/libgck/gck/gck.h
	* plug-ins/libgck/gck/gcktypes.h: modified accordingly.

	* libpicman/Makefile.am
	* libpicman/picmanvector.[ch]: new files. Modified the vector
	functions from GCK. Changed the licence to LGPL, if there are any
	objections, please let me know.

	* libpicman/picman.h: #include "picmanvector.h"

	* libpicman/picmanmath.h: added deg <-> rad conversion macros.

	* libpicman/picmanmatrix.[ch]: added a 4x4 vector to rotation angle
	function from GCK,
	s/PicmanMatrix,picman_matrix/PicmanMatrix3,picman_matrix3/ 

	* plug-ins/Lighting/*
	* plug-ins/MapObject/*:
	s/GckVector,gck_vector/PicmanVector,picman_vector/

	* app/pathsP.h
	* app/paths_dialog.c
	* app/perspective_tool.[ch]
	* app/rotate_tool.[ch]
	* app/scale_tool.[ch]
	* app/shear_tool.[ch]
	* app/tools_cmds.c
	* app/transform_core.[ch]
	* tools/pdbgen/pdb/tools.pdb:
	s/PicmanMatrix,picman_matrix/PicmanMatrix3,picman_matrix3/

2000-02-14  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: purely cosmetic.

	* libpicman/picmandialog.c: purely fanatic.

	* libpicman/picmanwidgets.c: attach label, scale and spinbutton to the
	adjustment returned by picman_scale_entry_new().

	* plug-ins/common/film.c: set reasonable climb_rate's for the
	advanced options' spinbuttons.

Mon Feb 14 12:22:06 CET 2000  Sven Neumann <sven@picman.org>

	* app/channel_ops.c: nothing yet
	* plug-ins/FractalExplorer/FractalExplorer.c: use a 
	picman_query_boolean_box and the same message that GFlare uses

2000-02-14  Michael Natterer  <mitch@picman.org>

	* app/color_area.c
	* app/color_notebook.[ch]
	* app/color_panel.c
	* app/colormap_dialog.p.h
	* app/palette.c: s/ColorNotebookP/ColorNotebook*/g

Sun Feb 13 23:23:40 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* app/palette.c: Slightly better behaviour (no more horiz scroll)

2000-02-13  Michael Natterer  <mitch@picman.org>

	* po/POTFILES.in
	* app/Makefile.am
	* app/buildmenu.[ch]: removed.

	* app/blend.c
	* app/brush_select.c
	* app/curves.c
	* app/histogram_tool.c
	* app/layers_dialog.c
	* app/lc_dialog.c
	* app/levels.c
	* app/paint_options.h
	* app/paintbrush.c
	* app/tool_options.c: use the libpicman option menu
	constructor. Removed paint_mode_menu_set_history().

	* app/colormap_dialog.i.c
	* app/colormap_dialog.p.h: use a popup menu as in the palette
	dialog instead of a pulldown menu.

	* app/channels_dialog.c: made color dnd to a channel widget work
	again.

	* libpicman/picmanwidgets.[ch]: new function
	picman_option_menu_set_history() which sets the history according to
	user_data as passed to picman_option_menu_new().

Sun Feb 13 20:34:15 CET 2000  Sven Neumann <sven@picman.org>

	* app/about_dialog.c
	* app/app_procs.c
	* app/install.c: check if fonts could be loaded instead of
	simply crashing

Sun Feb 13 15:23:03 CET 2000  Sven Neumann <sven@picman.org>

	* app/channel_dialog.c
	* app/layers_dialog.c: provided a proper fix for bug #2518

2000-02-13  Michael Natterer  <mitch@picman.org>

	* app/brush_select.c
	* app/paint_options.h
	* app/tool_options.c: use new function
	paint_mode_menu_set_paint_mode() instead of
	gtk_option_menu_set_history() because the order of paint modes in
	the menu is different from the one in the LayerModeEffects enum
	(fixes bug #6190). Create the menu with the libpicman menu
	constructor.

Sun Feb 13 13:03:38 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanui.c
	* plug-ins/common/max_rgb.c: tupos

Sun Feb 13 12:08:02 CET 2000  Sven Neumann <sven@picman.org>

	* app/channels_dialog.c: Reverted bogus change by Daniel Egger.
	This variable is supposed to be static and functions never get 
	interrupted by dnd events.

	* plug-ins/gfli/gfli.c: polished it a bit more

2000-02-13  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/CML_explorer.c
	* plug-ins/common/depthmerge.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/destripe.c
	* plug-ins/common/edge.c
	* plug-ins/common/fractaltrace.c
	* plug-ins/common/gqbist.c: unmarked blurb and help.

	* plug-ins/script-fu/script-fu-console.c: minor i18n fix.

Sat Feb 12 17:49:02 PST 2000 Manish Singh <yosh@picman.org>

	* plug-ins/bmp/Makefile.am
	* plug-ins/fits/Makefile.am
	* plug-ins/helpbrowser/Makefile.am
	* plug-ins/print/Makefile.am
	* plug-ins/sgi/Makefile.am: reorder linking for libpicmanui comes
	before libpicman; seemed to be causing problems despite libtool

Sun Feb 13 01:19:30 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* plug-ins/script-fu/scripts/*: Tidying up, typos, better help

Sun Feb 13 01:09:42 CET 2000  Marc Lehmann <pcg@goof.com>

        * po/picman.pot, plug-ins/perl/po/picman-perl.pot: Removed from CVS.

Thu Feb 10 17:40:13 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	(applied by pcg@goof.com)

	* app/channels_dialog.c: Static variables in fuctions keep
	their last value even after leaving a function. Thus the
	button_down value toggled when the function was interrupted
	by a dnd event. Using a nonstatic button_down fixes bug #2518.

Thu Feb 10 12:25:10 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	(applied by pcg@goof.com)

	* app/picmanimage.c: Use the already available function
	for changing the active layer and do not set it manually.
	This function will also redraw the borders correctly 
	which the old code didn't -> removed. Simplifies code
	and fixes bug #2513.

Thu Feb 7 12:20:01 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	(applied by pcg@goof.com)

        * plug-ins/common/randomize.c: Minor i18n fixes.

Sat Feb 12 20:33:43 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gfli/gfli.c: Made FLI saving actually work, it was 
	completely broken before and has definitely never worked. The
	alpha channel is silently ignored. Could eventually do better by
	blending with the previous frame, but I'll leave this as an
	exercise for the interested reader...

	Loading was broken too, since it didn't add alpha channels to the
	layers which led to lots of warnings.

2000-02-12  Michael Natterer  <mitch@picman.org>

	* plug-ins/bmp/bmp.[ch]
	* plug-ins/bmp/bmpread.c
	* plug-ins/bmp/bmpwrite.c: return STATUS_CANCEL if "Cancel" was
	pressed, code & ui cleanups.

Sat Feb 12 16:02:12 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: ooops, must have been late

2000-02-12  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c: fix a warning.

	* app/menus.c: don't allow the help menu item accelerators to be
	changed. Move all ordinary menu items under "<Toolbox>/Xtns"
	before the separator without explicitly naming them.

	* app/session.[ch]: minor cleanups without changing any logic.

Sat Feb 12 15:37:29 CET 2000  Sven Neumann <sven@picman.org>

	* app/info_dialog.c
	* app/info_window.c: cosmetics and i18n fixes

2000-02-12  Michael Natterer  <mitch@picman.org>

	* app/gdisplay_ops.c
	* app/gradient.c
	* app/palette.c
	* plug-ins/gflare/gflare.c: removed the "eek" wilber from all
	query boxes except the "Quit the PICMAN?" warning.

	* libpicman/picmanfileselection.c
	* libpicman/picmanunitmenu.c: be a bit more clever with widget signals
	(destroy, unmap) which affect the widget's sub-dialogs.

	* libpicman/picmanhelpui.c: pass a GtkWindow, not a GtkWidget to
	picman_dialog_set_icon().

	* libpicman/picmanquerybox.[ch]: added documentation.

2000-02-12  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/maze/maze.c
	* plug-ins/maze/maze_face.c: unmark help string _() and mark
	for necessary.

Sat Feb 12 12:24:57 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/print/*.c:
	applied patch from  Robert L Krawitz <rlk@alum.mit.edu> and made 
	the code initialize the File pseudoprinter. Fixes bug #5578.

Sat Feb 12 03:14:02 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmanchainbutton.c: documentation and code cleanup

	* app/picmanparasite.h
	* libpicman/parasite.[ch]: use g* types

Sat Feb 12 00:30:00 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* app/menus.c: Move Help as per picman-devel. Try it and report back

Fri Feb 11 10:49:14 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.17 release

	* Makefile.am: removed gtkrc.forest2 from EXTRA_DIST

	* user_install: s/ecco/echo/

	* tools/pdbgen/pdb/lib.pl: fix array copying

Fri Feb 11 17:15:00 CET 2000  Sven Neumann <sven@picman.org>

	* Makefile.am
	* pixmaps/dropper.xpm: removed

	* app/info_window.c: reuse the colorpicker pixmap in the toolbox

Fri Feb 11 15:07:04 CET 2000  Sven Neumann <sven@picman.org>

	* picman1_1_splash.ppm: sweet new splash created by Raphael Quinet
	* picman_logo.ppm: use "Wilber and Sons" for the About dialog

	* app/interface.c: set a reasonable value for the wrapbox's 
	aspect_ratio, so Picman becomes useable again

Fri Feb 11 12:40:18 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: Spit out warnings instead of silently ignoring
	bad translations for menupaths. Should help to correct the
	message catalogs.

2000-02-11  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/gap/gap_decode_xanim.c
	* plug-ins/gap/gap_lib.c: fixed typo.

	* app/app_procs.c: i18n fix.

Fri Feb 11 01:40:22 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: This should guard us against unintentionally wrong
	translations for menupaths until gtk+-1.2.7 is released and used by
	everyone. (This is a quick fix which will not work in all cases.)

Thu Feb 10 22:05:42 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/grid.c: use upper left corner as origin when
	calculating the offset, not lower right. Fixes bug #5624.

Thu Feb 10 20:47:51 CET 2000  Sven Neumann <sven@picman.org>

	* app/main.c: removed test function for gserialize.

2000-02-10  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanquerybox.[ch]: as all boolean query boxes are
	confirmations for deleting/closing something, I added the "eek"
	wilber (you can still disable the pixmap by passing FALSE to the
	constructor's "eek" parameter).

	* app/app_procs.c
	* app/gdisplay_ops.c
	* app/gradient.c
	* app/palette.c
	* plug-ins/gflare/gflare.c: pass eek==TRUE to the boolean query
	box constructor.

Thu Feb 10 19:00:24 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/pnm.c: Removed pbm from the list of extensions
	this plugin can save, since it can't. Fixes bug #6011.

2000-02-10  Michael Natterer  <mitch@picman.org>

	* plug-ins/gflare/gflare.c: use the new libpicman query boxes.

2000-02-10  Michael Natterer  <mitch@picman.org>

	* app/picmanui.[ch]: removed the query boxes.

	* po-libpicman/POTFILES.in
	* libpicman/Makefile.am
	* libpicman/picmanui.h
	* libpicman/picmanquerybox.[ch]: new files. Added a boolean query box
	to get rid of all those handmade "yes/no" query dialogs. Changed
	the query box callback prototypes to return the entered value
	instead of a pointer to it.

	* app/commands.c
	* app/display_ops.c
	* app/gradient.c
	* app/palette.c
	* app/paths_dialog.c: correctly call the new query box functions
	and use the boolean query box instead of inventing this wheel over
	and over again.

	* app/global_edit.[ch]: same as above and cleaned up the public
	interface.

Thu Feb 10 17:20:05 CET 2000  Sven Neumann <sven@picman.org>

	* app/gimage.c
	* app/paint_funcs.[ch]: Invalidate the color_hash_table used
	for rgb->indexed conversions if the colormap of the indexed
	image changes. Fixes bug #2683.

Thu Feb 10 15:43:02 CET 2000  Sven Neumann <sven@picman.org>

	* app/edit_selection.c: fixed bug #6092.

Thu Feb 10 15:20:13 CET 2000  Sven Neumann <sven@picman.org>

	* app/edit_selection.c: Finally moved selections snap to the 
	guides again. Layer moves are slightly faster than before, if no 
	guides are present.
	
	* app/gdisplay.[ch]
	* app/gdisplayP.h: Use doubles for snap_to_point. Less rounding
	makes the result much better on low resolution. If it snaps, the
	result should be exactly the guide in almost all cases now. Only
	at very low resolutions, you may end up with an error of 1 pixel.
	Some code cleanup while I was on it... Fixes bug #2353.

Thu Feb 9 20:21:01 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	(applied by pcg@goof.com)

	* app/paint_core.c: Redraw guiding lines only when
	in visible area of gdisplay. This avoids rubbish to
	be drawn when using a Ctrl-Shift-<something> shortcut.
	Fixes bug #2331.

Thu Feb 10 02:55:53 CET 2000  Sven Neumann <sven@picman.org>

	* app/about_dialog.c
	* app/app_procs.c
	* app/picmanprogress.c
	* app/menus.c
	* plug-ins/twain/twain.c
	* plug-ins/winsnap/winsnap.c: I18n fixes. Marked hardcoded fonts 
	for translation and moved translatable strings out of defines into 
	places where xgettext can parse them.

2000-02-10  Michael Natterer  <mitch@picman.org>

	* app/tools.c: you can now drag the active tool out of the tool
	options dialog title. Added a tooltip.

2000-02-10  Michael Natterer  <mitch@picman.org>

	* Makefile.am
	* pixmaps/wilber.xpm: new file.

	* libpicman/picmandialog.[ch]: uncommented some lines. Depending on
	your window manager, you'll figure out what it does without having
	to look at the sources...

	* app/app_procs.c
	* app/gradient.c
	* app/menus.c: minor changes to bring the goodie above to all
	places. Did dome cleanups.

	* app/commands.c: I18N fix.

	* app/channels_dialog.c: removed an unused declaration.

Wed Feb  9 23:47:08 CET 2000  Sven Neumann <sven@picman.org>

	* app/interface.c
	* app/pixmaps2.h
	* app/tools.c: use new icons courtesy by Tigert.

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/spread.c: enlarged maximum values

2000-02-09  Garry R. Osgood <gosgood@idt.net>

        * picman/plug-ins/common/randomize.c
	Inadvertent use of wrong adjustment
	update callback failed to get proper
	value of randomizing count from GUI.
	[line 771, CVS-1.28] Closes #5948.
	
Mit Feb  9 15:32:39 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: an attempt to guard us against badly translated
	menu_entries which may result in a crash when passed to 
	gtk_item_factory_parse_path (). This might fix bug #6052.

2000-02-09  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/film.c: hacked the ui and added widgets for
	the advanced options.

Tue Feb  8 21:35:10 CET 2000  Sven Neumann <sven@picman.org>

	* app/devices.c
	* app/picmandnd.c
	* app/interface.c
	* app/interface.h
	* app/tools.c
	* app/tools.h: create the pixmaps in the image_window and in the
	toolbox static and reuse them everywhere. Added tool pixmaps to
	the tool_options dialog as an extra goodie. Should help to 
	visualize that these are tools.
   
2000-02-08  Michael Natterer  <mitch@picman.org>

	* app/by_color_select.c: show our selection mode cursors (REPLACE,
	ADD, ...) depending on the modifier state and the "Selection Mode"
	toggles in the tool's dialog.

2000-02-08  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanpatheditor.[ch]: document the two widgets.

Tue Feb  8 18:19:29 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmandnd.c: When dragging a layer, show it in its full size 
	instead of taking the image_size into account. The offset that was
	shown is lost during the drag, so it doesn't make sense to show it.

	* app/devices.c
	* app/gradient.c
	* app/info_window.c
	* app/interface.c
	* app/nav_window.c
	* app/ops_buttons.c: stop leaking pixmaps all over the place.
	We might consider to make some pixmaps static and reuse them.

	* app/undo_history.c: purely cosmetic

2000-02-08  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanpatheditor.[ch]: unref pixmaps here, too.

2000-02-08  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.[ch]: added a frame around all dnd previews. Fixed a
	memleak (GdkPixmap's must be gdk_pixmap_unref()'ed after adding
	them to a GtkPixmap).

2000-02-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/jpeg.c: wanted to fix the "loading/saving jpeg
	causes SEGV" bugs but ended up with just some more callbacks
	removed (works fine on my system anyway).

Tue Feb  8 14:59:43 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmanexport.c: Be more intelligent when dealing with invisible
	layers. Export should now always save what you see. Unless there is no 
	visible layer at all, then we save the active layer. Export doesn't 
	call picman_merge_visible_layers any more if less than two layers are 
	visible. Fixes bug #5701.

Tue Feb  8 13:12:26 CET 2000  Sven Neumann <sven@picman.org>

	* app/by_color_select.c: made it behave like the other non-toolbox
	tools, which means the dialog is popped up again if you select it 
	from the menu while the tool is active.

2000-02-08  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/max_rgb.c: fixed typo.

2000-02-08  Tor Lillqvist  <tml@iki.fi>

	* picmanrc.win32: Fix a few path separators, should be semicolons on
	Win32.

	* plug-ins/makefile.cygwin: Install GAP and GFlare data.

	* plug-ins/FractalExplorer/FractalExplorer.c: Fix a bug I
	introduced last May, don't overrun a g_strdup'ed string with
	strcat.

	* plug-ins/common/ps.c (ps_open): Enclose file name with double
	quotes on Win32, in case it contains spaces.

Mon Feb  7 23:22:53 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/curve_bend.c: found a bug that I introduced 
	myself a while ago but couldn't figure out how this is supposed
	to work. It does strange things with the undo stack!

2000-02-07  Michael Natterer  <mitch@picman.org>

	* app/*
	* libpicman/*
	* plug-ins/*
	* tools/pdbgen/*: did a global s/GUnit/PicmanUnit/ and
	s/PicmanSizeEntryUP/PicmanSizeEntryUpdatePolicy/

	* libpicman/picmancolorspace.c: renamed the parameter names to match
	the names in the header.

	* libpicman/picmanhelpui.h
	* libpicman/picmanimage.c
	* libpicman/picmanmatrix.h
	* libpicman/picmansizeentry.[ch]
	* libpicman/picmansizeentry.[ch]
	* libpicman/picmanunit.[ch]
	* libpicman/picmanunitmenu.[ch]
	* libpicman/picmanwidgets.[ch]: added documentation and use g* types
	all over the place (enables cross-referencing with the glib and
	gtk+ html documentation).

	* plug-ins/common/exchange.c
	* plug-ins/common/max_rgb.c: small cleanups.

	* plug-ins/common/mapcolor.c: the color buttons were attached in
	the wrong order.

Mon Feb  7 21:00:34 CET 2000  Sven Neumann <sven@picman.org>  

	* app/info_window.c: Got rid of the "Shades of Colors" info
	label since with GdkRGB this will never work. In Indexed
	Color mode we show the number of colors again.

Mon Feb  7 20:05:19 CET 2000  Sven Neumann <sven@picman.org>

	* Makefile.am
	* README
	* picman.spec
	* gtkrc
	* user_install
	* gtkrc.forest2: changed the notice on user_install about Picman's 
	gtkrc, removed the hardcoded font in our gtkrc (left the ruler
	font in there however) and removed gtkrc.forest2 since it is
	already distributed with GTK themes.

	* app/install.c: marked another hardcoded font for translation.

Mon Feb  7 19:26:26 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanhelp.c: fixed one of those errors you only notice if
	you have glib compiled w/o debugging (fixes bug #6006).

	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/gap/gap_exchange_image.c
	* plug-ins/gap/gap_pdb_calls.[ch]: applied patches from
	Wolfgang Hofer <hof@hotbot.com>

Mon Feb  7 17:37:40 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* plug-ins/gdyntext/font_selection.c:
	Removed apparently annoying mis-behaviour of font-size entry
	Scream if this hurts. (for swh@ecs)

Mon Feb  7 13:41:08 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gflare/gflare.c: Typo fix.

Mon Feb  7 12:57:16 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/common/sparkle.c, plug-ins/common/bumpmap.c,
	* plug-ins/common/gz.c, plug-ins/common/tileit.c,
	* plug-ins/common/oilify.c, plug-ins/maze/handy.c,
	* plug-ins/print/print-util.c, plug-ins/sinus/sinus.c,
	* app/channels_dialog.c, app/fileops_cmds.c,
	* app/nav_window.c, app/path_tool.c, app/scan_convert.c,
	* app/xinput_airbrush.c, app/airbrush_blob.c:
	On request of Martin Weber <martweb@gmx.net>.
	Remove obsoletted rgb<->hsv routines, purifications.

	* plug-ins/AlienMap2/AlienMap2.c: e-mail update.

2000-02-07  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* app/interface.c: restructured toolbox to use a single
	gtk_hwrap_box with the added "forced break" functionality to make
	the selector boxes not run in with the rest of the tool buttons.
	The toolbox should now not cut things off, although if the user
	selects a really small toolbox the buttons or selectors may be,
	um, difficult to use...

	* app/gtkwrapbox.h: 
	* app/gtkwrapbox.c: 
	* app/gtkvwrapbox.c (reverse_list_col_children): 
	* app/gtkhwrapbox.c (reverse_list_row_children): support for
	"forced break" functionality needed for toolbox -- will forward
	patches to Tim Janik as well

Mon Feb  7 05:04:28 2000  Tim Janik  <timj@gtk.org>

	* app/gtkhwrapbox.c:
	* app/gtkvwrapbox.c: pulled new sources from gle (containing
	a fix for kelly's justify==FILL bug).

2000-02-05  Garry R. Osgood <gosgood@idt.net>

        * picman/plug-ins/sample_colorize.c

        Sample Colorize was not colorizing. Author
        misused picman_selection_bounds(); assumed that
        "selection is empty" indicator was this
        function's return value [p_init_gdrw() line 2597]
        Caused the plugin to assume an active selection
        was in progress even when there wasn't. Usually,
        this precluded any kind of colorization.
        Sanity-checked the existence of widgets before
        their passage to GTK.

Sun Feb  7 00:14:26 CET 2000 Sven Neumann <sven@picman.org>

	* libpicman/picmanenv.[ch]: use g* types and moved the documentation
	into the C file where it is parseable by the documentation system
	
	* libpicman/picmanmatrix.[ch]: use g* types and name the parameters 
	in the header.

Sun Feb  6 22:18:24 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmanexport.[ch]: use an enum instead of defines

Sun Feb  6 20:46:36 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/rcm/rcm_misc.c: Corrected a stupid mistake I made when
	I changed rcm to use the picman_color_space functions (fixes #5967).

	* plug-ins/common/decompose.c: Fixed a minor problem Mitch 
	introduced lately and removed another occurence of sprintf/gettext.

2000-02-05  Michael Natterer  <mitch@picman.org>

	* libpicman/picmancolorspace.[ch]: use g* types and name the
	parameters in the header.

	* plug-ins/common/CML_explorer.c
	* plug-ins/common/blur.c
	* plug-ins/common/newsprint.c
	* plug-ins/common/nova.c
	* plug-ins/common/pixelize.c
	* plug-ins/common/plasma.c
	* plug-ins/common/randomize.c
	* plug-ins/common/unsharp.c
	* plug-ins/gflare/gflare.c
	* plug-ins/sinus/sinus.c
	* plug-ins/struc/struc.c: some more consistency stuff.

2000-02-05  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/FractalExplorer/FractalExplorer.c (fractalexplorer_load): 
	* plug-ins/FractalExplorer/Dialogs.c (explorer_load): Use
	"rt", "wt" with fopen() for OS/2, Win portability.

Sat Feb  5 17:49:43 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmanexport.[ch]: cleanup to make it documentable

2000-02-05  Michael Natterer  <mitch@picman.org>

	* picmanrc.in
	* user_install
	* user_install.bat: renamed the "gflares" dir to "gflare" in all
	places because this seems to be the naming convention of all the
	other plug-in dirs.

	* libpicman/picmanwidgets.[ch]:

	- picman_random_seed_new(): return the spinbutton and the time
	  toggle as pointers.
	- picman_scale_entry_new(): allow the spinbutton to have a larger
	  range of possible values than the scale.

	* plugins/[all calls to the above two functions]: changed the
	calls accordingly.
	Did some more ui updates in some of these plugins (Frames saying
	"Parameter Settings", spacing etc.)

	* plug-ins/gflare/Makefile.am
	* plug-ins/gflare/gflare.c: hacked it to match the plugin ui
	standards. Didn't get rid of the gradient menus.

Sat Feb  5 13:22:47 CET 2000  Sven Neumann <sven@picman.org>

	* app/global_edit.c: Reverted Stanislavs change. While I think that 
	using the FG color would make sense, it is definitely too late to 
	change this now since it breaks lots of scripts and plugins.

	* tools/pdbgen/pdb/paths.pdb:
	* internal_procs.c:
	* paths_cmds.c: make it compile again

2000-02-05  Tor Lillqvist  <tml@iki.fi>

	* picmanrc.in: user_install creates the gflare directory as
	"gflares" (not "gflare"), so use that form here, too.

	* picmanrc.win32: Update to match the Unix version.

	* app/ops_buttons.c: Include picmanintl.h.

	* app/preferences_dialog.c (file_pref_cmd_callback): I18n for the
	Pixels/%s string. It used to come out as "Pixels/tuuma" in
	Finnish, for instance.

	* plug-ins/gflare/gflare.c: Portability.

	* libpicman/picmanui.def: 
	* plug-ins/makefile.{cygwin,msc}
	* modules/makefile.{cygwin,msc}: Updates.

2000-02-05  Jay Cox  <jaycox@picman.org>

	* app/paths_cmds.c, tools/pdbgen/pdb/paths.pdb:
	removed the picman_path_set_tattoo function because tattoos are
 	"unique and permanent"

Fri Feb  4 18:27:16 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* app/global_edit.c: edit_fill with foreground, not background.

Fri Feb  4 13:56:10 CET 2000  Sven Neumann <sven@picman.org>

	* Makefile.am
	* configure.in: Building the devel-docs should now work correctly.
	You may specify the installation directory for the HTML docs by 
	using the --with-html-dir=PATH configuration flag.

2000-02-04  Robert Brady  <robert@susu.org.uk>

	* configure.in: Added en_GB to ALL_LINGUAS

2000-02-03  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* app/gtkhwrapbox.c (layout_row, layout_rows): 
	* app/gtkvwrapbox.c (layout_col, layout_cols):
	Partial fix for the toolbox problem... it's still not perfect.

Fri Feb  4 01:29:08 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmancolorbutton.c: documented PicmanColorButton

Fri Feb  4 00:37:43 CET 2000  Sven Neumann <sven@picman.org>

	* Makefile.am
	* configure.in
	* libpicman/color_selector.h
	* libpicman/picmanmenu.h
	* devel-docs: added framework for libpicman documentation

Thu Feb  3 21:45:45 GMT 2000 Andy Thomas <alt@picman.org>

	* plug-ins/xjt/xjt.c

	Included patch supplied by wolfgang hofer.
	
2000-02-03  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.[ch] picman_coordinates_new():
	Pass the values which are treated as 0% and 100% to the
	constructor and allow the chainbutton to constrain either the
	pixel values or the aspect ratio.

	* plug-ins/common/bumpmap.c
	* plug-ins/common/sparkle.c: removed unused variables.

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/spread.c: updated the picman_coordinates_new()
	calls.

	* plug-ins/common/tile.c: use picman_coordinates instead of
	spinbuttons.

Wed Feb  2 19:01:26 PST 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/fileops.pdb: correct g_message warning call

Wed Feb  2 18:45:16 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.16 release

Thu Feb  3 00:08:34 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanui.c
	* app/picmanui.h: Redid the function that shields us from millions
	of message_boxes to appear. We now keep a list of open dialogs
	and if the same message wants to be displayed again we add a label
	with the repeat_count. A maximum of four different messages may
	be displayed at once before messages get redirected to stderr and
	a warning pops up. IMHO fixes bug #5743.

Wed Feb  2 22:12:48 GMT 2000 Andy Thomas <alt@picman.org>

	* app/paths_dialog.c

	Fixed bug number #5727 "PDB-call picman_path_set_points is buggy"

	* tools/pdbgen/pdb/paths.pdb

	Added missing paths pdb functions 

 		path_get_locked
 		path_set_locked 
		path_set_tattoo
	
Wed Feb  2 11:02:44 CET 2000  Sven Neumann <sven@picman.org>

	* po/POTFILES.in: accidentally removed the files in the modules dir
	yesterday. Sorry about that, here they are again.

	* app/picmanbrushpipe.c: no, we don't

Wed Feb  2 00:35:02 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gfli.c: added gettext support

	* plug-ins/[various Makefile.am]: added CPPFLAGS to make i18n work 

Tue Feb  1 23:09:42 CET 2000  Sven Neumann <sven@picman.org>
	
	* app/regex.c
	* plug-ins/script-fu/regex.c: remove occurences of gettext, since 
	we don't translate error messages

	* app/picmanbrushpipe.c: we use the term "image hose", don't we?

	* tools/pdbgen/pdb/fileops.pdb
	* tools/pdbgen/pdb/plug_in.pdb: don't mark error messages for 
	translation

	* app/[lotsa files]: only include libpicman/picmanintl.h if needed; but 
	if it gets included, include config.h too

	* po/POTFILES.in
	* po-plug-ins/POTFILES.in: only list files that mark strings for 
	translation

2000-02-01  Michael Natterer  <mitch@picman.org>

	* app/menus.c
	* app/channels_dialog.[ch]
	* app/layers_dialog.[ch]
	* app/paths_dialog.[ch]: Added an "Edit xxx Attributes..." menu
	entry to the dialogs' popup menus.

2000-02-01  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: applied a (modified) patch from Daniel
	which removes the useles word "Settings" from the prefs. dialog.

2000-02-01  Michael Natterer  <mitch@picman.org>

	* app/blend.c
	* app/brightness_contrast.c
	* app/color_balance.c
	* app/color_picker.c
	* app/crop.c
	* app/curves.c
	* app/flip_tool.c
	* app/histogram_tool.c
	* app/hue_saturation.c
	* app/levels.c
	* app/magnify.c
	* app/measure.c
	* app/move.c
	* app/path_tool.c
	* app/posterize.c
	* app/text_tool.c
	* app/threshold.c
	* app/tool_options.c
	* app/transform_tool.c: unify the usage of "Selection" and
	"<blah> Tool" and removed the word "Options" from all tool option
	title strings because the dialog title already says "Options".

Tue Feb  1 20:02:47 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c
	* app/tools.c: added submenus to the tools menu

2000-02-01  Michael Natterer  <mitch@picman.org>

	* libpicman/picmansizeentry.[ch]: attach labels and the unit_menu with
	GTK_SHRINK.

	* libpicman/picmanwidgets.[ch]: new convenience constructor
	picman_coordinates_new() which creates a sizeentry with two fields,
	labels and a chainbutton.

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/spread.c: use the coordinate constructor.

	* plug-ins/common/mblur.c: put the settings into two separate
	frames instead of using two nested frames.

	* plug-ins/common/sample_colorize.c: don't #include <math.h>

	* plug-ins/script-fu/script-fu-scripts.c: use the libpicman ui
	functions.

	* plug-ins/script-fu/script-fu.c: hm, don't remember, I guess it
	was indentation paranoia...

2000-02-01  David Monniaux  <monniaux@quatramaran.ens.fr>

	* plug-ins/perl/po/fr.po: beginning of French i18n of Perl
	(it seems there's a gazillion strings marked for translation
	inside the Perl plug-ins that are really internal error messages;
	also, how about script-fu i18n, to be consistent with Logulator ?)

2000-02-02  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/gap/gap_decode_mpeg_main.c: fixed typo.

	* plug-ins/gflare/gflare.c
	* plug-ins/common/whirlpinch.c: unmarked blurb and help.

	* po-plug-ins/POTFILES.in: removed plug-ins/perl/Picman.c
	which doesn't contain translatable messages.

Tue Feb  1 17:30:52 CET 2000  Sven Neumann <sven@picman.org>

	* app/interface.c: when dropping an indexed layer onto the toolbox,
	copy the colormap to the newly created image (fixes bug #5692)

Tue Feb  1 14:46:43 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmandrawable.c: check that the passed pointer is indeed a
	drawable in a few more places

	* plug-ins/common/header.c
	* plug-ins/common/url.c
	* plug-ins/gdyntext/gdyntext_ui.c
	* plug-ins/script-fu/regex.c: i18n

	* po-plug-ins/POTFILES.in: only list files that really do contain
	translatable messages

2000-02-01  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.[ch]: merged the table attach helper
	functions into one function.

	* app/*
	* plug-ins/*: changed the calls to picman_table_attach_aligned()
	accordingly. Did minimal ui updates (spacing and stuff) in some
	files.

Mon Jan 31 23:24:44 CET 2000  Marc Lehmann <pcg@goof.com>

	* MapObject/mapobject_main.c: add missing N_.
        * common/color_enhance.c: fix PDB-name.
        * common/curve_bend.c: fix typoe.

        * plug-ins/AlienMap/AlienMap.c, plug-ins/gflare/gflare.c,
        * plug-ins/AlienMap2/AlienMap2.c,
        * plug-ins/FractalExplorer/FractalExplorer.c,
        * plug-ins/plug-ins/Lighting/lighting_main.c, bmp/bmp.c,
        * plug-ins/plug-ins/borderaverage/borderaverage.c,
        * plug-ins/common/CEL.c, plug-ins/common/aa.c,
        * plug-ins/common/animationplay.c, common/animoptimize.c,
        * plug-ins/plug-ins/common/apply_lens.c, common/autocrop.c,
        * plug-ins/common/autostretch_hsv.c, plug-ins/common/blinds.c,
        * plug-ins/common/c_astretch.c, common/checkerboard.c,
        * plug-ins/plug-ins/common/colorify.c, common/compose.c,
        * plug-ins/common/convmatrix.c, plug-ins/common/cubism.c,
        * plug-ins/common/decompose.c, common/deinterlace.c,
        * plug-ins/plug-ins/common/diffraction.c, common/displace.c,
        * plug-ins/common/edge.c, plug-ins/common/emboss.c,
        * plug-ins/common/engrave.c, common/exchange.c,
        * plug-ins/plug-ins/common/film.c, common/flarefx.c,
        * plug-ins/common/gauss_iir.c, plug-ins/common/gauss_rle.c,
        * plug-ins/common/gbr.c, common/gee.c, plug-ins/common/gicon.c,
        * plug-ins/common/gif.c, common/gifload.c, common/glasstile.c,
        * plug-ins/plug-ins/common/gradmap.c, common/grid.c, common/gtm.c,
        * plug-ins/plug-ins/common/guillotine.c, common/gz.c,
        * plug-ins/common/header.c, common/hot.c, plug-ins/common/hrz.c,
        * plug-ins/common/iwarp.c, common/jigsaw.c, common/jpeg.c,
        * plug-ins/plug-ins/common/laplace.c, common/lic.c, common/mail.c,
        * plug-ins/common/mapcolor.c, plug-ins/common/mpeg.c,
        * plug-ins/common/newsprint.c, common/nlfilt.c,
        * plug-ins/plug-ins/common/noisify.c, common/normalize.c,
        * plug-ins/common/nova.c, plug-ins/common/oilify.c,
        * plug-ins/common/pat.c, common/pcx.c, common/pix.c,
        * plug-ins/plug-ins/common/pixelize.c, common/plasma.c,
        * plug-ins/common/plugindetails.c, plug-ins/common/png.c,
        * plug-ins/common/pnm.c, common/ps.c, plug-ins/common/psd.c,
        * plug-ins/common/ripple.c, common/rotate.c, common/semiflatten.c,
        * plug-ins/plug-ins/common/shift.c, common/smooth_palette.c,
        * plug-ins/common/snoise.c, plug-ins/common/sobel.c,
        * plug-ins/common/spread.c, common/sunras.c,
        * plug-ins/plug-ins/common/tga.c, common/tiff.c, common/tile.c,
        * plug-ins/common/tileit.c, plug-ins/common/tiler.c,
        * plug-ins/common/url.c, common/video.c, common/vinvert.c,
        * plug-ins/plug-ins/common/waves.c, common/wind.c,
        * plug-ins/common/wmf.c, common/xbm.c, plug-ins/common/xpm.c,
        * plug-ins/common/xwd.c, common/warp.c, common/zealouscrop.c,
        * plug-ins/plug-ins/common/gpb.c, common/spheredesigner.c,
        * plug-ins/common/colortoalpha.c, plug-ins/common/csource.c,
        * plug-ins/common/CML_explorer.c, common/winprint.c,
        * plug-ins/plug-ins/common/winclipboard.c, common/color_enhance.c,
        * plug-ins/plug-ins/common/sel_gauss.c, common/unsharp.c,
        * plug-ins/common/sparkle.c.orig, plug-ins/dbbrowser/dbbrowser.c,
        * plug-ins/faxg3/faxg3.c, fits/fits.c, plug-ins/flame/flame.c,
        * plug-ins/fp/fp.c, gap/gap_filter_main.c, gap/gap_main.c,
        * plug-ins/plug-ins/gap/gap_decode_mpeg_main.c,
        * plug-ins/gap/gap_frontends_main.c, plug-ins/gdyntext/gdyntext.c,
        * plug-ins/gfig/gfig.c, helpbrowser/helpbrowser.c,
        * plug-ins/plug-ins/ifscompose/ifscompose.c, maze/maze.c,
        * plug-ins/mosaic/mosaic.c, plug-ins/imagemap/imap_main.c,
        * plug-ins/print/print.c, rcm/rcm.c, script-fu/script-fu.c,
        * plug-ins/plug-ins/sel2path/sel2path.c, sgi/sgi.c, sinus/sinus.c,
        * plug-ins/plug-ins/struc/struc.c, webbrowser/webbrowser.c,
        * plug-ins/xjt/xjt.c: remove gettext calls from blurb, help and date
        fields. They made me do it.

Mon Jan 31 22:43:48 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picmancolorspace.c
	* libpicman/picmancolorspace.h: added INTENSITY() macro

	* app/blend.c
	* app/convert.c
	* app/picmanimage.c
	* app/temp_buf.c: use INTENSITY() from libpicman

	* plug-ins/common/bumpmap.c
	* plug-ins/common/colorify.c
	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c
	* plug-ins/common/displace.c
	* plug-ins/common/engrave.c
	* plug-ins/common/gradmap.c
	* plug-ins/common/newsprint.c
	* plug-ins/gflare/gflare.c
	* plug-ins/maze/handy.c
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/print/print-util.c
	* plug-ins/rcm/rcm.c
	* plug-ins/rcm/rcm.h
	* plug-ins/rcm/rcm_callback.c
	* plug-ins/rcm/rcm_dialog.c
	* plug-ins/rcm/rcm_gdk.c
	* plug-ins/rcm/rcm_misc.c
	* plug-ins/rcm/rcm_misc.h: use INTENSITY() and other 
	color_conversion_routines from libpicman. I'm not sure if I have 
	tested all this properly (I tried to do), so if you are bored, 
	please play around with the changed plug-ins.

Mon Jan 31 21:52:27 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/common/vinvert.c: Typo fix.

Mon Jan 31 12:15:27 CET 2000  Sven Neumann <sven@picman.org>

	* modules/colorsel_gtk.c
	* modules/colorsel_triangle.c
	* plug-ins/common/CEL.c
	* plug-ins/common/depthmerge.c
	* plug-ins/common/gif.c
	* plug-ins/common/newsprint.c
	* plug-ins/common/normalize.c
	* plug-ins/common/semiflatten.c
	* plug-ins/common/sunras.c
	* plug-ins/common/vinvert.c
	* plug-ins/gap/gap_range_ops.c: s/colour/color/
	( The British will probably want to add en_GB po-files? )

Mon Jan 31 10:59:29 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_exchange_image.c
	* plug-ins/gap/gap_pdb_calls.[ch]
	* plug-ins/xjt/README_xjt_fileformat.txt
	* plug-ins/xjt/xjt.c
	* plug-ins/xjt/xpdb_calls.[ch]: 
	applied patches from Wolfgang Hofer <hof@hotbot.com>

Mon Jan 31 02:55:00 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: Images we save are full size (duh)
	Applied to fix #5000 after some discussion and thought, this
	is really Quark's bug, but who am I to argue?

Mon Jan 31 01:42:54 CET 2000  Sven Neumann <sven@picman.org>

	* app/brush_select.c: get serious...
	* app/transform_core.c: don't use g_message for error messages that 
	are intended for developers only

Sun Jan 30 21:54:42 CET 2000  Sven Neumann <sven@picman.org>

	* app/brush_select.c
	* app/gradient_select.c: create the dialog at mouse position if not
	the main dialog (which is session-managed)

	* app/convert.c: small UI changes

	* app/gradient.c: don't include session.h

	* app/session.c: the gradient_select dialog is not the gradient_editor

2000-01-30  Michael Natterer  <mitch@picman.org>

	* plug-ins/FractalExplorer/Dialogs.c: the "blue" variable should
	not be connected to the "red" adjustment (Thanks to Peter Kämpf
	<pkaempf@box.echo.ch>), fixed the initial size of the "number of
	colors" preview.

2000-01-30  Michael Natterer  <mitch@picman.org>

	* plug-ins/FractalExplorer/*:

	- Removed the "Gradient" notebook page and added a picman gradient
	  selection widget to the "Color" page instead.
	- UI cleanups (use the libpicman stuff).
	- Removed the "Languages" and "Callbacks" files.
	- Made it actually work (seemed quite important to me :-)

	* plug-ins/common/png.c: Fix a typo to make it compile.

Sat Jan 29 22:32:30 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* plug-ins/common/png.c: More conservative resolution behaviour

Sat Jan 29 22:54:11 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* app/convert.c: Typo fix.

2000-01-29  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/script-fu/script-fu.c: more _() tagging.

	* app/install.c: _() tagging for hardcoded fonts.

Sat Jan 29 15:40:01 CET 2000  Sven Neumann <sven@picman.org>

	* app/convert.c
	* app/palette_select.c
	* app/palette_select.h: In indexed_conversion dialog, use a 
	pattern_selector instead of an option_menu. Adam, I hope you like 
	this...

Sat Jan 29 12:06:51 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/curve_bend.c
	* plug-ins/common/deinterlace.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/plasma.c
	* plug-ins/common/randomize.c
	* plug-ins/common/sharpen.c
	* plug-ins/gap/gap_frontends_main.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/gfig/gfig.c
	* plug-ins/print/print-ps.c
	* plug-ins/print/print.c
	* plug-ins/sel2path/global.h
	* plug-ins/sel2path/math.c
	* plug-ins/sel2path/vector.c: removed warnings

Fri Jan 28 17:38:36 CET 2000  Marc Lehmann <pcg@goof.com>

        * PLUGIN_MAINTAINERS, PLUGIN_CVS: mark Robert Krawitz with write
        access to plug-ins/print, but comment all update commands out due
        to Sven's concerns.

2000-01-28  Michael Natterer  <mitch@picman.org>

	* app/main.c: bind the "picman-libpicman" textdomain to get the
	libpicman widget translations. Did some code cleanup.

	* libpicman/stdplugins-intl.h: bind "picman-libpicman".

	* libpicman/picmanintl.h: copyright header.

	* libpicman/libpicman-intl.h: there is no dgettext_noop() function
	(typo/braino).

	* libpicman/picmanwidgets.[ch]: one more table attach helper
	function. Should probably find a general way for the two
	functions.

	* plug-ins/common/CML_explorer.c
	* plug-ins/common/align_layers.c
	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/threshold_alpha.c: removed the gtkW_* wrapper
	functions. Badly hacked CML_explorer (The optionmenu creation is a
	bit more ugly than before but at least consistent with the other
	files using the libpicman optionmenu constructor).

2000-01-28  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/print/print-ps.c: use g_strcasecmp() instead of
	strcasecmp().

	* plug-ins/print/print.c: Fix output_to,driver settings
	for OS/2 version.

Fri Jan 28 10:48:55 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/libpicman-intl.h: bind picman-libpicman domain

Fri Jan 28 00:37:10 PST 2000 Manish Singh <yosh@picman.org>

	* configure.in
	* po-plug-ins
	* po-libpicman: moved libpicman strings into their own catalog.
	Mitch/Sven, could you take care of the domain rebinding?

	* Makefile.am: make a picman-config symlink to picmantool

Fri Jan 28 02:43:36 CET 2000  Marc Lehmann <pcg@goof.com>

        * tools/pdbgen/pdb/gimage_mask.pdb, app/gimage_mask_cmds.c: Allow
        zero radius arguments for selection_{shrink,grow,border,feather}.

Fri Jan 28 01:16:35 CET 2000  Marc Lehmann <pcg@goof.com>

        * PLUGIN_CVS: updated to give Kevin Turner write access to
        the maze plug-in (therefore, the maze plug-in is no longer
        managable within the gnome cvs server. If you have any
        comments/suggestions...)

2000-01-28  Michael Natterer  <mitch@picman.org>

	* libpicman/Makefile.am
	* libpicman/libpicman-intl.h: new file to be included by libpicman files
	only. Re-defines _() and gettext() as dgettext() and N_() as
	dgettext_noop().
	This way the translations of the various widgets which are used in
	both the app and plugins are searched in the correct catalog.

	* libpicman/picmancolorbutton.c
	* libpicman/picmanexport.c
	* libpicman/picmanfileselection.c
	* libpicman/picmanunit.c
	* libpicman/picmanunitmenu.c
	* libpicman/picmanwidgets.c: #include "libpicman-intl.h"

2000-01-28  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.[ch]: added one more option menu constructor
	and made the namespace more consistent, minor fixes.

	* libpicman/picmandialog.c
	* libpicman/picmanunitmenu.c: minor fixes.

	* app/preferences_dialog.c
	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/common/gif.c
	* plug-ins/common/randomize.c: changed according to the above
	namespace cleanups.

Thu Jan 27 23:54:05 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/newsprint.c
	* plug-ins/gfig/gfig.c: fixed typos 

2000-01-27  Tor Lillqvist  <tml@iki.fi>

	* app/main.c (on_signal): No need to use an #ifdef for G_OS_WIN32
	as the whole function is already bypassed on Win32.

	* libpicman/picman.def
	* libpicman/picmanui.def: Updates.

	* plug-ins/makefile.cygwin
	* plug-ins/makefile.msc: Goodbye to the megawidget library.

	* plug-ins/common/papertile.c: MAIN() must be after PLUG_IN_INFO
	definition.
	
2000-01-27  Michael Natterer  <mitch@picman.org>

	* plug-ins/pagecurl/pagecurl.c: a little ui eye candy...

Thu Jan 27 22:02:44 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/grid.c: don't connect to the unit_changed signal

2000-01-27  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/newsprint.c: changed the ui to use the libpicman
	widget constructors, put the channel settings into a notebook, did
	some indentation.

Thu Jan 27 16:26:47 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/gifload.c: fixed typo that made picman crash when
	loading a gif 

	* app/fileops.c: guard against similar errors

2000-01-27  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/gap/gap_decode_mpeg_main.c: added dummy menus
	for menu path translation.
	
	* po-plug-ins/POTFILES.in: added missing
	plug-ins/gap/gap_frontends_main.c.

	* plug-ins/borderaverage/borderaverage.c: added missing _()
	for progress bar description.

Thu Jan 27 14:55:00 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/print/*: updated to version 3.0.5

Thu Jan 27 13:08:50 CET 2000  Sven Neumann <sven@picman.org> 

	* plug-ins/ifscompose/ifscompose.[ch]: use picman_color_buttons

Thu Jan 27 11:24:05 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_exchange_image.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_pdb_calls.[ch]:
	applied patches from Wolfgang Hofer <hof@hotbot.com>

2000-01-26  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: forgot to correctly set the
	tile_cache_size. Only apply show_tool_tips and tile_cache_size if
	the prefs settings are not currupt.

2000-01-26  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: made the handling of the values which
	can't be changed on the fly consistent:

	- Some of the widget callbacks were connected to picmanrc variables
	  instead of pref dialog's "edit_" variables.
	- Correctly assign value, edit_value, old_value and save_value for
	  all of them.
	- Separated them from the other values in all functions.
	- Reduced the endless "if" madness in some callbacks.

2000-01-26  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: use the int adjustment callback from
	libpicman, simplified the confirm dialog signal callbacks.

Wed Jan 26 11:06:46 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/xjt/xjpeg.c: s/malloc/g_malloc/ ; s/free/g_free/

Wed Jan 26 04:12:08 CET 2000  Marc Lehmann <pcg@goof.com>

	* PLUGIN_CVS: mirroring control script (read it for more info).
        * ChangeLog.plug-ins: The ChangeLog file for the plug-in cvs.

2000-01-26  Michael Natterer  <mitch@picman.org>

	* libpicman/picmansizeentry.[ch]: block the sizeentry's signals while
	updating is's fields after a unit change and emit the
	"value_changed" signal manually afterwards. This avoids multiple
	"value_changed" signals which may cause callbacks to change the
	sizeentry in the middle of a unit update.

	* plug-ins/commion/spread.c: no need to connect to the sizeentry's
	"unit_changed" signal.

Wed Jan 26 00:10:34 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/colorify.c: use a picman_color_button

	* plug-ins/common/spread.c: use picman_size_entries

2000-01-25  Michael Natterer  <mitch@picman.org>

	* app/appenv.h: removed BOUNDS, MINIMUM and MAXIMUM. No need to
	include both <glib.h> and <gtk/gtk.h>.

	* app/*
	* tools/pdbgen/pdb/text_tool.pdb: s/BOUNDS/CLAMP/,
	same for MIN and MAX.

	* app/preferences_dialog.c: the "Check Size" widget was connected
	to the transparency_type variable.

	* plug-ins/common/sobel.c: removed definitions of MIN and ROUND.

	* libpicman/picman.h: #include "picmanlimits.h" and "picmancolorspace.h".

	* plug-ins/*: don't include the two files.

Tue Jan 25 21:58:49 CET 2000  Sven Neumann <sven@picman.org>

	* app/layer.c: applied a change suggested by Steinar H. Gunderson.
	Fixes crashing on empty images (bug #5536).

Tue Jan 25 21:16:57 CET 2000  Sven Neumann <sven@picman.org>

	* app/gdisplay.c: disable "Layer to Imagesize" on empty images

Tue Jan 25 20:08:35 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/colorify.c: use picman_tile_cache_ntiles ()
	* plug-ins/common/lic.c: when creating a new image, disable undo, 
	enable it later when the new image is completed

2000-01-25  Michael Natterer  <mitch@picman.org>

	* configure.in
	* po-plug-ins/POTFILES.in
	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* plug-ins/megawidget/*: removed. (There were only 3 functions
	left which were used by ~5 plugins, so I moved the resp. functions
	to the plugins). More preview stuff to come...

	* app/airbrush_blob.c
	* modules/colorsel_triangle.c
	* modules/colorsel_water.c: use G_PI instead of M_PI.

	* app/procedural_db.h
	* libpicman/picmanenums.h
	* plug-ins/script-fu/script-fu-constants.c
	* tools/pdbgen/enums.pl: new PDB return value STATUS_CANCEL which
	indicates that "Cancel" was pressed in a plugin dialog. (Useful
	only for file load/save plugins).

	* app/fileops.[ch]
	* app/menus.c: changes to handle STATUS_CANCEL correctly. Did some
	code cleanup in fileops.[ch]. Pop up a warning if File->Save
	failed.

	* app/plug_in.c: return_val[0] is of type PDB_STATUS, not
	PDB_INT32.

	* libpicman/picmanmath.h: new constant G_MAXRAND which equals to
	RAND_MAX if it exists or to G_MAXINT otherwise.

	* libpicman/picmanwidgets.[ch]: new function picman_random_seed_new()
	which creates a spinbutton and a "Time" toggle.
	Call the function which does the "set_sensitive" magic from the
	radio button callback.

	* plug-ins/[75 plugins]:

	- Return STATUS_CANCEL in all file load/save dialogs if "Cancel"
	  was pressed.
	- Standardized the file plugins' "run" functions.
	- Use G_PI and G_MAXRAND everywhere.
	- Added tons of scales and spinbuttons instead of text entries.
	- Applied uniform packing/spacings all over the place.
	- Reorganized some UIs (stuff like moving the preview to the top
	  left corner of the dialog).
	- Removed many ui helper functions and callbacks and use the stuff
	  from libpicman instead.
	- I tried not to restrict the range of possible values when I
	  replaced entries with spinbuttons/scales but may have failed,
	  though in some cases. Please test ;-)
	- #include <libpicman/picmanmath.h> where appropriate and use it's
	  constants.
	- Indentation, s/int/gint/ et.al., code cleanup.

	RFC: The plugins are definitely not useable with PICMAN 1.0 any
	     more, so shouldn't we remove all the remaining compatibility
	     stuff ??? (like "#ifdef PICMAN_HAVE_PARASITES")

Tue Jan 25 15:10:14 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/common/color_enhance.c: On request of
	Martin Weber <martweb@gmx.net>. Improve types (double,
	gdouble, gint).

Mon Jan 24 22:28:00 CET 2000  Seth Burgess <sjburges@picman.org>

	* app/gdisplay_ops.c: Added a minimum width for shrink wrap;
        without it, it would map improperly and create a mess for small
	images.  Its not a very shrunk wrap since the statusbar is so
        large, but at least it works.  I welcome other suggestions on
	better ways to fix this.

Mon Jan 24 23:28:08 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmandnd.c: I think this time I got it right. Still the same
	color after hours of dragging it between the picman and the gtk+
	color-selector... (picman uses guchar, X guint16 and gtk+ double)

Mon Jan 24 14:10:40 PST 2000 Manish Singh <yosh@picman.org>

	* acconfig.h
	* configure.in
	* libpicman/Makefile.am
	* libpicman/picmanregex.h
	* libpicman/regex.c
	* app/Makefile.am
	* app/regex.[ch]
	* plug-ins/script-fu/Makefile.am
	* plug-ins/script-fu/regex.[ch]
	* plug-ins/script-fu/interp_regex.c
	* tools/pdbgen/pdb/plug_in.pdb
	* tools/pdbgen/pdb/procedural_db.pdb: reverted previous regex move
	patch. This does *not* belong in libpicman and is just bloat. We'll
	use the regex functionality in glib once it has it.
	
	* acinclude.m4
	* config.guess
	* config.sub
	* ltconfig
	* ltmain.sh: upgrade to libtool 1.3.4

	* app/convert.c
	* app/picmanbrushpipe.c: minor cleanups

Mon Jan 24 22:15:46 CET 2000  Sven Neumann <sven@picman.org>

	* PLUGIN_MAINTAINERS: Simon Budig maintains PageCurl

	* plug-ins/gap/gap_pdb_calls.c
	* plug-ins/xjt/README
	* plug-ins/xjt/README_xjt_fileformat.txt
	* plug-ins/xjt/xjt.c
	* plug-ins/xjt/xpdb_calls.c
	* plug-ins/xjt/xpdb_calls.h
	* po-plug-ins/POTFILES.in: applied (modified) patches from
	Wolfgang Hofer <hof@hotbot.com>.

Mon Jan 24 21:30:26 CET 2000  Sven Neumann <sven@picman.org>

	* tips/picman_tips.pl.txt
	* plug-ins/common/align_layers.c: 
	i18n fixes from Ar't <psi2494@orca.mila.edu.pl>

Mon Jan 24 17:12:44 CET 2000  Sven Neumann <sven@picman.org>

	* app/regex.[ch]: removed 
	
	* app/Makefile.am
	* app/plug_in_cmds.c
	* app/procedural_db_cmds.c: cleaning up behind Daniel ...

Thu Jan 17 12:13:01 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	(applied by pcg@goof.com)

	* PLUGIN_MAINTAINERS: Add Martin Weber for sparkle and gflare.

	* MAINTAINERS: Add myself.      

Thu Jan 15 14:43:23 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	(applied by pcg@goof.com)

	* app/plug_in.c: Removed unnecessary #include "regex.h".

	* app/regex.c: Removed ... 
	* libpicman/regex.c: Shamelessly stolen from current glibc because we
	  want LPGL here. 

	* app/regex.h: Moved to ...
	* libpicman/picmanregex.h: ... and renamed it.

	* plug-ins/script-fu/regex.c 
	* plug-ins/script-fu/regex.h: Removed. 

	* libpicman/Makefile.am, 
	* plug-ins/script-fu/Makefile.am, 
 	* app/Makefile.am: Tweak them to match the changes.

	* plug-ins/script-fu/interp_regex.c 
	* tools/pdbgen/pdb/plug_in.pdb 
	* tools/pdbgen/pdb/procedural_db.pdb: Include "libpicman/regex.h"
	  instead of "regex.h".
 
	* config.h.in 
	* configure.in 
	* acconfig.h: Check, whether regex is provided by standard libs.
	  If this is the case avoid compiling it and use the standard one,
	  thus reducing compile time and code and saveing diskspace.
    
Sun Jan 23 23:08:18  2000  Jay Cox  <jaycox@picman.org>

	* plug-ins/common/psd.c:  load the resolution info from the psd file.

Sun Jan 23 19:03:28 CET 2000  Sven Neumann <sven@picman.org>

	* app/paths_dialog.c: set the menu sensitivity after the last path
	was deleted

Sun Jan 23 14:33:57 CET 2000  Sven Neumann <sven@picman.org>

	* app/gdisplay.c
	* app/gdisplay_ops.c
	* app/gimage.c
	* app/picmanimage.c
	* app/picmanimageP.h: Renamed gimage->ref_count to disp_count and 
	slightly changed the way it is used. As the new name suggests it
	is only used to count the number of displays associated with an
	image. It is now impossible to delete an image that has an
	associated display. You have to delete the display instead. Before
	this change it was possible to delete an image through the PDB that
	was created through the UI and bad things happened soon...

	* app/gimage_cmds.c
	* tools/pdbgen/pdb/gimage.pdb: Changed the help for picman_image_delete
	so it explains better what actually happens. The old help was quite
	misleading.

Sat Jan 22 22:14:18 GMT 2000  Austin Donnelly  <austin@picman.org>

	* MAINTAINERS: update my entry.
	* PLUGIN_MAINTAINERS: I maintain newsprint.

	* app/fuzzy_select.c: fix so if you move the pointer back to
	   where you started, the selection is also the same.  Can people
	   (tigert?) give this a spin - if it isn't as intuitive as the
	   old way we should roll this back.

	* plug-ins/common/jpeg.c: use volatile to get rid of "clobber"
	   warnings from GCC.  Also, fix handling of multiple COM
	   sections, so can load images such as
	   /usr/share/pixmaps/backgrounds/space/clem_full_moon_strtrk.jpg or
	   /usr/share/pixmaps/backgrounds/space/apollo08_earthrise.jpg
	   which used to segv the jpeg plugin.

	* plug-ins/common/newsprint.c: update my email address.

	* plug-ins/common/ps.c: applied picman-kirchgessner-000116-0.patch:
	   save using PostScript level 2 features which result in files
	   60% smaller than naive level 1 method.  Peter added a
	   checkbutton to the UI to revert to level 1 algorithm, but we
	   default to level 2.  Almost everyone should have a level 2
	   printer, new printers and ghostscript are level 3 these days.

Sat Jan 22 21:38:08 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmandnd.c: corrected off-by-one error in color dnd

Sat Jan 22 18:50:18 CET 2000  Sven Neumann <sven@picman.org>

	* app/global_edit.c: in edit_clear and edit_fill return TRUE if the
	selection is empty, since the operation succeded by doing nothing.
	Returning FALSE here crashed lots of script-fus.

Sat Jan 22 16:00:52 CET 2000  Sven Neumann <sven@picman.org>

	* app/commands.c
	* app/gdisplay.c
	* app/gdisplay.h
	* app/scale.c: call setup_scale when changing the resolution or unit,
	so the rulers get updated correctly

Sat Jan 21 21:00:00 CST 2000 Seth Burgess <sjburges@picman.org>

	* app/transform_core.c: applied Steinar's 
        <sgunderson@bigfoot.com> fix for a NULL pointer 
        dereference in the transform core.
        
Sat Jan 22 01:47:30 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* plug-ins/common/tiff.c: Fix bug reported by Marc Lehmann

Sat Jan 22 01:02:25 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gfig/gfig.c: Menu i18n fix.

Sat Jan 22 00:36:54 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gflare/gflare.c: Applied patch on request of
	Martin Weber <martweb@gmx.net>.

Fri Jan 21 16:35:26 EST 2000 Gregory McLean <gregm@comstar.net>

	* picman.spec: Updated a bit more, split the perl stuff off into
	a seperate package as it needs other bits that aren't in a dist
	by default. Also work on auto-generating the %files part.

Fri Jan 21 18:11:05 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: Provide a copy 
	of the improved g_strescape function from glib-1.3 if 
	compiled with older versions of glib. This allows to use 
	quotes and other special characters in Script-Fu strings.

Thu Jan 20 17:37:38 PST 2000 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/picman_ace
	* plug-ins/common/Makefile.am
	* plug-ins/common/kaleidoscope.c: reverted previous plugin addition

Fri Jan 21 00:24:19 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/rcm/rcm.c: Typo fix.

Thu Jan 20 23:28:35 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	Added new plug-ins from Martin Weber <martweb@gmx.net>:
	* plug-ins/common/kaleidoscope.c: New file.
	* plug-ins/picman_ace: New directory.
	* plug-ins/common/Makefile.am:  Updated.
	* configure.in: Updated.

Thu Jan 20 18:07:21 CET 2000  Sven Neumann <sven@picman.org>

	* app/channel.c
	* app/channel.h
	* app/picmanimage.c
	* app/layer.c
	* app/qmask.c: implemented the "removed" signal for channels and
	connected qmask to it to keep the buttons in sync when a qmask
	channels gets deleted manually. Fixes bug #2516.

Thu Jan 20 16:56:00 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gdyntext/gdyntext.c: backported the bugfix from 
	gdyntext-1.4.4. This fixes bug #2354 (extra undo step introduced).

Thu Jan 20 13:20:55 CET 2000  Sven Neumann <sven@picman.org>

	* app/color_cmds.c
	* app/curves.c
	* app/curves.h
	* tools/pdbgen/pdb/color.pdb: added load and save functionality
	to the Curves tool

Wed Jan 19 21:03:00 CST 2000  Seth Burgess <sjburges@picman.org>

	* app/gdisplay_ops.c: make shrink wrap work.  Not an elegant
        solution (hiding and redrawing window)

Wed Jan 19 21:36:06 CET 2000  Sven Neumann <sven@picman.org>

	* cursors/bigcirc
	* cursors/bigcircmsk: removed

	* cursors/mouse1_selu
	* cursors/mouse1_selumsk: new files

	* Makefile.am
	* app/bezier_select.c
	* app/cursorutil.c
	* app/cursorutil.h: got rid of the big fat bigcirc cursor and added
	a new one in the style of the others

2000-01-19  Garry R. Osgood <gosgood@idt.net>

	* picman/app/disp_callbacks.c
        * picman/app/ellipse_select.c
        * picman/app/free_select.c
        * picman/app/fuzzy_select.c
        * picman/app/rect_select.c
        * picman/app/rect_select.h
        * picman/app/rect_selectP.h
        * picman/app/tools.c
        * picman/app/tools.h
        * picman/app/toolsF.h

        Boolean selection operations, (adding to,
        subtracting from, or intersecting with
        pre-existing selections) now occur regardless
        of the setting of "Disable Cursor Update"
        toggle button in Interface/Image Window
        category. Introduced a new tool action type,
        OperUpdateFunc, To provide a distinct context
        for such activity. see
        http://idt.net/~gosgood/picman-patch/patch05.html
        for full details. Closes #2568.

Wed Jan 19 12:50:55 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/gflare/gflare.c: Typo fix and typo update.

Wed Jan 19 11:00:19 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	Applied patch from Martin Weber <martweb@gmx.net>:
	* plug-ins/fp/fp_hsv.c removed
	* plug-ins/fp/fp_hsv.h removed
	* plug-ins/common/nova.c
	* plug-ins/fp/Makefile.am
	* plug-ins/fp/fp.c
	* plug-ins/fp/fp_gdk.c
	* plug-ins/fp/fp_gtk.c
	* plug-ins/fp/fp_misc.c
	* plug-ins/common/color_enhance.c: Removed unneccessary
	rgb_to_hsv routines.
	* plug-ins/gflare/gtkmultioptionmenu.c: Bugfix, not very
	elegant but correct.
	* plug-ins/common/sparkle.c: Bugfix.
	* plug-ins/script-fu/scripts/frosty-logo.scm
	* plug-ins/script-fu/scripts/t-o-p-logo.scm: Necessary for the
	patched sparkle.

2000-01-19  David Monniaux  <monniaux@quatramaran.ens.fr>

	* plug-ins/gfig/gfig.c
	* plug-ins/gfig/Makefile.am
	* po-plug-ins/POTFILES.in: i18n of gfig

Tue Jan 18 22:34:30 CET 2000  Sven Neumann <sven@picman.org>

	* app/fileops_cmds.c
	* tools/pdbgen/pdb/fileops.pdb: hopefully fixed 
	picman_file_load_thumbnail PDB function

	* app/gimage_cmds.c
	* tools/pdbgen/pdb/gimage.pdb: in picman_image_get_thumbnail changed
	a variable name from num_pixels to num_bytes, since that`s what it
	contains

	* tools/pdbgen/pdbgen.pl: arrays need a length argument again since
	the PDB relies on it

Tue Jan 18 21:46:25 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c: The blur radius can now be specified
	independently in each direction. For backward compatibility I left
	the original PDB functions unchanged and added new ones. The actual 
	blurring is done in the same function for both interfaces.

	* plug-ins/gap/Makefile.am
	* plug-ins/gap/gap_filter_iterators.c
	* plug-ins/gap/iter_ALT/gen/plug_in_gauss_iir2_iter_ALT.inc
	* plug-ins/gap/iter_ALT/gen/plug_in_gauss_rle2_iter_ALT.inc: added
	iterator functions for the new gauss_blur functions.

	* plug-ins/common/grid.c: small changes to the way the size_entries 
	are set up
	
	* plug-ins/common/noisify.c: 
	applied (modified) patch from Julian Kinraid <jkinraid@clear.net.nz>

2000-01-18  Tor Lillqvist  <tml@iki.fi>

	* README.win32: Some clarifications.

	* PLUGIN_MAINTAINERS: I maintain psp.

	* libpicman/picman.def
	* libpicman/picmanui.def
	* libpicman/makefile.cygwin
	* libpicman/makefile.msc
	* plug-ins/makefile.cygwin
	* plug-ins/makefile.msc: Updates.

	* plug-ins/twain/twain.c
	* plug-ins/winsnap/winsnap.c
	* po-plug-ins/POTFILES.in: i18n.

	* app/text_tool.c: Add Win32 workaround for yasuhiro's "i18n fix"
	change that introduced an X11 dependency.

2000-01-18  David Monniaux  <monniaux@quatramaran.ens.fr>

	* app/tools.c: clearer tool-tip for transform tool.

	* plug-ins/gflare/Makefile.am
	* plug-ins/gflare/gflare.c
	* po-plug-ins/POTFILES.in: i18n of GFlare

Mon Jan 17 23:11:10 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/wind.c: Wind used to crash badly when used with
	an active selection. Should be fixed now.

Mon Jan 17 22:24:00 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/common/apply_lens.c: fixed typos

Mon Jan 17 12:05:35 PST 2000 Manish Singh <yosh@picman.org>

	* help/C/*/Makefile.am: use $(LN_S) instead of ln -sf, should fix
	bug #5289.

	* tools/pdbgen/lib.pl
	* tools/pdbgen/pdb/brushes.pdb
	* tools/pdbgen/pdb/gimage_mask.pdb
	* tools/pdbgen/pdb/guides.pdb
	* tools/pdbgen/pdb/parasite.pdb
	* tools/pdbgen/pdb/unit.pdb: more lib work, slight guide tweak

2000-01-17  Michael Natterer  <mitch@picman.org>

	* libpicman/picmancolorbutton.c: emit the "color_changed" signal
	whenever the user selects "Use FG/BG Color" from the popup menu.

	* libpicman/picmanwidgets.c: picman_table_attach_aligned(): allow the
	function to be called with label == NULL.

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/common/CEL.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/apply_lens.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/engrave.c
	* plug-ins/common/exchange.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/illusion.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/mblur.c
	* plug-ins/common/oilify.c
	* plug-ins/common/sel_gauss.c
	* plug-ins/common/shift.c
	* plug-ins/common/smooth_palette.c
	* plug-ins/common/sparkle.c
	* plug-ins/common/video.c
	* plug-ins/common/vpropagate.c
	* plug-ins/common/warp.c
	* plug-ins/sgi/sgi.c: more ui updates.

2000-01-17  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/csource.c
	* plug-ins/common/header.c
	* plug-ins/common/winclipboard.c
	* po-plug-ins/POTFILES.in: added gettext support.

Sat Jan 16 19:58:55 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/common/shift.c: Typo fix.

2000-01-16  Michael Natterer  <mitch@picman.org>

	* app/layers_dialog.c: oops, the "Add Layer Mask" dialog contained
	nothing after my last change.

	* libpicman/picmanwidgets.c: picman_table_attach_aligned() sets the
	yalign of the widget to 0.5 instead of 1.0.

	* plug-ins/common/align_layers.c
	* plug-ins/common/apply_lens.c
	* plug-ins/common/blinds.c
	* plug-ins/common/blur.c
	* plug-ins/common/cubism.c
	* plug-ins/common/decompose.c
	* plug-ins/common/flarefx.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/jigsaw.c
	* plug-ins/common/mail.c
	* plug-ins/common/nova.c
	* plug-ins/common/randomize.c
	* plug-ins/common/ripple.c
	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/shift.c
	* plug-ins/common/sparkle.c
	* plug-ins/common/spread.c: even more spinbuttons and other ui
	updates.

2000-01-16 Garry R. Osgood <gosgood@idt.net>

	* app/global_edit.c
	global_edit.c  Uncovered buglet spawned by #5045 fix.
	edit_paste() now properly supplies a PicmanImageType
	parameter in the case where a PicmanImage parameter has no 
	active_drawable: occurs when the user invokes a 
	paste into an empty image.

Sat Jan 15 22:27:56 CET 2000  Marc Lehmann <pcg@goof.com>

        * libpicman/picmanenv.c, libpicman/color_selector.h,
        libpicman/color_display.h: Change license to LGPL (see the log
        message for approval of the various authors). If an author was
        left out please contact me!!

Fri Jan 14 14:46:27 CET 2000  Marc Lehmann <pcg@goof.com>

        * app/menus.c: Removed Perl-specific translations and moved
        them to the perl .pot-file. Gurgl, Ratz: That localises the
        translation, but also requires more places to be updated once i18n
        works as I would expect it.
        * plug-ins/script-fu/interp_slib.c: portability fixes (64-bit
        problems).

Sat Jan 15 19:11:49 CET 2000  Sven Neumann <sven@picman.org>

	* picmanrc.5.in: fixed a typo
	
	* app/preferences_dialog.c: one more change in the spirit of my
	last commit

2000-01-16  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/waves.c
	* plug-ins/common/whirlpinch.c
	* plug-ins/common/wind.c
	* plug-ins/common/wmf.c
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/pagecurl/Makefile.am
	* po-plug-ins/POTFILES.in: added gettext support.

	* app/text_tool.c: i18n fix.

2000-01-15 Garry R. Osgood <gosgood@idt.net>

	* app/layers_dialog.c
	* app/global_edit.c
        layers_dialog.c:layers_dialog_flush() now has
        only one entry and exit point, so that 
        suspend_gimage_notify is properly maintained.
        Has bearing on (but likely does not fully solve)
        bugs #4031, #4914, and #4927. (Layers and 
	Channel Dialog with sticky layers. See 
        http://idt.net/~gosgood/picman-patch/patch04.html
        and bug reports.
        global_edit.c: edit_paste_as_new() now checks
        if it has a valid layer from layer_new_from_tiles()

2000-01-15  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanwidgets.[ch]: added a float adjustment callback.

	* plug-ins/common/bumpmap.c
	* plug-ins/common/depthmerge.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/destripe.c
	* plug-ins/common/gpb.c
	* plug-ins/common/iwarp.c
	* plug-ins/common/polar.c
	* plug-ins/common/sharpen.c
	* plug-ins/common/tileit.c
	* plug-ins/common/whirlpinch.c
	* plug-ins/common/wind.c:

	- Some more hscale+spinbutton instead of hscale+entry widgets.
	- Get the CHECK_SIZE constants from libpicman in some plugins.

Sat Jan 15 15:40:26 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/webbrowser/webbrowser.c: Small i18n fix.

Sat Jan 15 13:49:37 CET 2000  Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: Moved a few entries to other pages. 
	Makes much more sense now, IMHO.

Fri Jan 14 22:34:13 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/picman.h
	* libpicman/picmanselection.c: added a few new PDB wrappers 

	* plug-ins/common/align_layers.c
	* plug-ins/common/blinds.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/guillotine.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/sel2path/sel2path.c
	* plug-ins/twain/twain.c
	* plug-ins/winsnap/winsnap.c: replaced PDB calls with libpicman functions

Fri Jan 14 20:54:31 CET 2000  Sven Neumann <sven@picman.org>

	* app/module_db.c
	* modules/cdisplay_gamma.c
	* modules/colorsel_gtk.c
	* modules/colorsel_triangle.c
	* modules/colorsel_water.c
	* po/POTFILES.in: added gettext support

	* plug-ins/common/pnm.c: smooth the progressbar update (bug #5148)

Fri Jan 14 11:43:09 PST 2000 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/common/unsharp.c: move unsharp here, since it doesn't
	have any support files anymore

Fri Jan 14 19:43:01 CET 2000  Sven Neumann <sven@picman.org>

	* app/paint_core.h: use ToolFlags enum instead of int
	
	* app/smudge.c: fixed bug #5176 (smudge tool crash)

2000-01-14  Michael Natterer  <mitch@picman.org>

	* app/info_window.c:
	s/gtk_container_border_width/gtk_container_set_border_width/

	* plug-ins/common/engrave.c
	* plug-ins/common/noisify.c
	* plug-ins/common/oilify.c
	* plug-ins/common/polar.c
	* plug-ins/common/whirlpinch.c
	* plug-ins/ifscompose/Makefile.am
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/maze/Makefile.am
	* plug-ins/maze/maze_face.c
	* plug-ins/pagecurl/Makefile.am
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/struc/Makefile.am
	* plug-ins/struc/struc.c: more spinbuttons instead of entries,
	dialog layout, stuff...
	
Fri Jan 14 16:10:38 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/Lighting/lighting_ui.c
	* plug-ins/MapObject/mapobject_ui.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gfig/gfig.c
	* plug-ins/imagemap/imap_main.c
	* plug-ins/imagemap/imap_main.h
	* plug-ins/imagemap/imap_selection.c
	* plug-ins/imagemap/imap_toolbar.c
	* plug-ins/imagemap/imap_tools.c: gtk_tooltips_set_colors () does 
	absolutely nothing, so it can be safely deleted from the source

2000-01-14  Michael Natterer  <mitch@picman.org>

	* app/Makefile.am
	* app/tool_options_ui.h: removed.

	* app/tool_options.c
	* libpicman/picmanwidgets.[ch]: moved some more ui utility functions
	to libpicman.

	* app/airbrush.c
	* app/blend.c
	* app/bucket_fill.c
	* app/channel_ops.c
	* app/clone.c
	* app/color_picker.c
	* app/convolve.c
	* app/crop.c
	* app/dodgeburn.c
	* app/eraser.c
	* app/file_new_dialog.[ch]
	* app/flip_tool.c
	* app/image_new.[ch]
	* app/ink.c
	* app/layers_dialog.c
	* app/magnify.c
	* app/measure.c
	* app/paintbrush.c
	* app/pencil.c
	* app/smudge.c
	* app/text_tool.c
	* app/tool_options.c
	* app/transform_tool.c
	* app/xinput_airbrush.c: use the libpicman functions (esp. the radio
	button group constructor), some code cleanup.

	* plug-ins/common/csource.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/diffraction.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/png.c
	* plug-ins/unsharp/unsharp.c: more plugin ui tuning.

	* plug-ins/unsharp/Makefile.am
	* plug-ins/unsharp/dialog_f.[ch]
	* plug-ins/unsharp/dialog_i.[ch]: removed.

Thu Jan 13 16:35:44 PST 2000 Manish Singh <yosh@picman.org>

	* Made 1.1.15 release

	* configure.in: disabled --with-threads, as it is not actively
	maintained and rather untested.

Thu Jan 13 20:41:37 GMT 2000  Adam D. Moss <adam@picman.org>

	* plug-ins/common/animoptimize.c: Collapse timing of completely
          optimized-away frames onto previous surviving frame.  Also be
          looser with (XXXXX) tag parsing.

	* plug-ins/common/animationplay.c: Be looser with (XXXXX) tag
	  parsing.

2000-01-13  Yuri Syrota  <rasta@renome.rovno.ua>

	* configure.in: Added "uk" to ALL_LINGUAS

2000-01-13  Michael Natterer  <mitch@picman.org>

	* app/picmanui.[ch]
	* app/preferences_dialog.c: removed & renamed some functions from
	picmanui.[ch] (see below).

	* libpicman/Makefile.am
	* libpicman/picmanwidgets.[ch]: new files. Functions moved from
	app/picmanui.[ch]. Added a constructor for the label + hscale +
	entry combination used in many plugins (now hscale + spinbutton).

	* libpicman/picmanui.h: include picmanwidgets.h

	* plug-ins/megawidget/megawidget.[ch]: removed all functions
	except the preview stuff (I'm not yet sure how to implement this
	in libpicman because the libpicman preview should be general enough to
	replace all the other plugin previews, too).

	* plug-ins/borderaverage/Makefile.am
	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am
	* plug-ins/common/aa.c
	* plug-ins/common/align_layers.c
	* plug-ins/common/animationplay.c
	* plug-ins/common/apply_lens.c
	* plug-ins/common/blinds.c
	* plug-ins/common/bumpmap.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/colorify.c
	* plug-ins/common/convmatrix.c
	* plug-ins/common/cubism.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/deinterlace.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/destripe.c
	* plug-ins/common/displace.c
	* plug-ins/common/edge.c
	* plug-ins/common/emboss.c
	* plug-ins/common/hot.c
	* plug-ins/common/nlfilt.c
	* plug-ins/common/pixelize.c
	* plug-ins/common/waves.c
	* plug-ins/sgi/sgi.c
	* plug-ins/sinus/sinus.c: ui updates like removing megawidget,
	using the dialog constructor, I18N fixes, indentation, ...

Thu Jan 13 00:46:16 CET 2000  Daniel Egger <Daniel.Egger@suse.de>

	* app/plug_in.c: replace spaces to be inserted in pluginrc
	by tabs. Saves space and reduces parsing time without
	affecting readability.

        (applied by pcg@goof.com)

Mon Jan 10 03:18:45 CET 2000  Marc Lehmann <pcg@goof.com>

        * app/main.c: Removed "serialization test passed" message. (But
        left the test intact).

Wed Jan 12 00:53:58 CET 2000  Sven Neumann <sven@picman.org>

	* app/menus.c: correctly connect "Intersect with Selection" 
	(fixes bug #5124)

Tue Jan 11 23:50:53 CET 2000  Sven Neumann <sven@picman.org>

	* app/layer.c: in layer_new_from_tiles check if image_type has alpha 
	to avoid obscure bugs if the function is not called correctly

	* app/text_tool_cmds.c
	* tools/pdbgen/pdb/text_tool.pdb: added a hint about using border = -1
	to suppress cropping of empty spaces around the text

Tue Jan 11 14:36:55 PST 2000 Manish Singh <yosh@picman.org>

	* libpicman/picmancompat.h: let's not be redundant redundant. Made
	a real compat #define for picman_image_find_parasite

2000-01-11  Garry R. Osgood <gosgood@idt.net>

	* app/disp_callbacks.c
	* app/gimage_mask.c
	* app/global_edit.c
	* app/interface.c
	* app/layer.c
	* app/layer.h
	* app/transform_core.c
	
	Followup to #4708. Some clients
	of layer_new_from_tiles() need to specify the
	kind of layer they need; added a PicmanImageType
	parameter for this purpose. (A reference to a
	whole Drawable once was used for this purpose;
	Sven factored this out. Good Riddance). Function 
	internals are correct only with alpha-equipped image
	types, so don't ask for alpha-less types or
	furnish alpha-less tiles. <imho>This function is 
	not robust and is overused; its scope is to
	fatten TileManagers referenced by cut buffers
	into Layers. If you already have a layer, 
	consider yourself blessed and work with it.</imho> 
	Closes #5045.
	
	* app/paths_dialog.c paths_dialog_set_default_op() 
	now checks for the existence of the path_dialog
	before manipulating its internals. Closes #5049; 
	
Tue Jan 11 21:41:23 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/rotate.c: fixed the progressbar on 270 degrees 
	(bug #5108)

	* plug-ins/gap/gap_navigator_dialog.c: small help-related fix

2000-01-11  Michael Natterer  <mitch@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/gpc/*: removed.

	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/blur.c
	* plug-ins/common/randomize.c: removed all calls to gpc functions.

	* plug-ins/common/edge.c: applied standard ui stuff.

Tue Jan 11 19:31:30 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* tips/Makefile.am: Czech added.

2000-01-11  Michael Natterer  <mitch@picman.org>

	* app/picmanhelp.h
	* libpicman/picman.h
	* libpicman/picmanhelpui.[ch]: declare the picman_standard_help_func in
	picmanhelpui.h because libpicman widgets must not include libpicman/picman.h.

	* libpicman/picmandialog.c
	* libpicman/picmanexport.c
	* libpicman/picmanunitmenu.c: use the dialog constructor for the
	export dialog and the unit selection.

	* plug-ins/gpc/gpc.[ch]
	* plug-ins/megawidget/megawidget.[ch]: removed unused functions
	(dialog creation and some other stuff). The rest of these libs is
	scheduled for removal, too...

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap/Makefile.am
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/AlienMap2/Makefile.am
	* plug-ins/borderaverage/Makefile.am
	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/common/align_layers.c
	* plug-ins/common/blur.c
	* plug-ins/common/colortoalpha.c
	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/mapcolor.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/mblur.c
	* plug-ins/common/noisify.c
	* plug-ins/common/spread.c
	* plug-ins/common/xbm.c
	* plug-ins/common/xpm.c
	* plug-ins/fp/Makefile.am
	* plug-ins/fp/fp_gtk.c
	* plug-ins/rcm/Makefile.am
	* plug-ins/rcm/rcm_callback.[ch]
	* plug-ins/rcm/rcm_dialog.c
	* plug-ins/sinus/sinus.c: standard ui (spacings etc.) for some
	more plugins. Did some indentation, prototyping and I18N fixes.

Tue Jan 11 13:32:41 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_navigator_dialog.c: some changes to make it use
	new functionality from libpicman instead of implementing it itself

Tue Jan 11 01:50:41 CET 2000  Sven Neumann <sven@picman.org>

	* libpicman/parasite.c
	* app/picmanparasite.c
	* app/parasitelist.c: indentation (actually I was searching for a 
	memleak, but had no luck so far)

	* app/blob.c: raise the maximum image size that will make the ink tool
	fail to 16384 x 16384  (sort of fixes bug #4464)

	* Makefile.am
 	* pixmaps/first.xpm
 	* pixmaps/last.xpm
	* pixmaps/next.xpm
 	* pixmaps/play.xpm
 	* pixmaps/prev.xpm
 	* pixmaps/update.xpm: new icons 
 
	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/gap/gap_decode_xanim.c
	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_lib.h
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_pdb_calls.c
	* plug-ins/gap/gap_pdb_calls.h
	* plug-ins/gap/gap_range_ops.c: changes by Wolfgang Hofer

	* plug-ins/gap/Makefile.am
	* plug-ins/gap/gap_navigator_dialog.c: new GAP VCR Navigator brought 
	to you by Wolfgang Hofer <hof@hotbot.com>. Needs some work, but is
	already very nice, IMHO

Mon Jan 10 01:13:02 PST 2000 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/gimage.pdb: Made appropriate changes to
	reflect Nick's previous change

Mon Jan 10 06:10:00 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* app/gimage_cmds.c: Check resolution validity here too.

Mon Jan 10 02:10:15 GMT 2000 Nick Lamb <njl195@zepler.org.uk>

	* PLUGIN_MAINTAINERS: Put me down for CEL, PCX, TIF and PNG
	Consider moving unmaintained File/Open plug-ins to me?

Sun Jan  9 14:58:18 PST 2000 Manish Singh <yosh@picman.org>

        Applied Patch by Daniel Egger, slightly modified.

	* picmanrc.c
	* gradient.c: replaced usage of fixed buffers with dynamic ones,
	using g_strdup_printf and friends.

Sun Jan  9 23:47:35 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-console.c: fixed a problem that 
	occured when applying a command with no parameters from the dbbrowser 

Sun Jan  9 19:59:38 CET 2000  Sven Neumann <sven@picman.org>

	* app/gdisplay.c
	* app/picmanrc.c
	* app/picmanrc.h
	* app/interface.c
	* app/preferences_dialog.c: allow the user to choose the default for 
	"Dot for Dot" 
	
	* app/paint_options.h
	* app/tool_options.c: declare non_gui_pressure_options as extern and
	define it in the C file


Sun Jan  9 18:15:44 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/colortoalpha.c
	* plug-ins/common/gtm.c
	* plug-ins/common/nova.c
	* plug-ins/common/papertile.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/xbm.c
	* plug-ins/helpbrowser/helpbrowser.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/sinus/sinus.c: i18n fixes

Sun Jan  9 14:48:21 CET 2000  Sven Neumann <sven@picman.org>

	* app/gdisplay.c
	* app/gimage_cmds.c
	* tools/pdbgen/pdb/gimage.pdb: fixed typos

	* app/picmanhistogram.c: indentation
	
	* app/histogramwidget.c: grab the pointer in the histogramwidget,
	so a button_release outside the widget is noticed correctly 

	* app/levels.c: instead of undoing the user action, simply don't 
	allow the user to set the range in the histogram_widget

2000-01-09  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/tga.c
	* plug-ins/common/tiff.c
	* plug-ins/common/tile.c
	* plug-ins/common/tileit.c
	* plug-ins/common/tiler.c
	* plug-ins/common/url.c
	* plug-ins/common/video.c
	* plug-ins/common/vinvert.c
	* plug-ins/common/vpropagate.c
	* po-plug-ins/POTFILES.in: added gettext support.	

	* plug-ins/common/threshold_alpha.c: fixed typo.

2000-01-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am
	* plug-ins/common/engrave.c
	* plug-ins/common/flarefx.c
	* plug-ins/common/gbr.c
	* plug-ins/common/gicon.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/mail.c
	* plug-ins/common/psd.c
	* plug-ins/common/smooth_palette.c
	* plug-ins/common/tga.c
	* plug-ins/common/threshold_alpha.c
	* plug-ins/common/tiff.c
	* plug-ins/common/tile.c
	* plug-ins/common/tileit.c
	* plug-ins/common/video.c
	* plug-ins/common/vpropagate.c
	* plug-ins/common/warp.c
	* plug-ins/common/waves.c
	* plug-ins/common/whirlpinch.c
	* plug-ins/common/wind.c
	* plug-ins/common/wmf.c: more plugin tuning... and this time I
	added the needed libs in plugin-defs.pl instead of Makefile.am :-)

2000-01-08  Asbjorn Pettersen  <asbjornP@dualog.no>

	* modules/modregister.h: add types for PicmanColorDisplayxxxxx

	* modules/cdisplay_gamma.c: Add OS/2 support.
	* app/module_db.c: picman_color_display_xxx ref. for OS/2.

2000-01-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/hrz.c
	* plug-ins/common/papertile.c
	* plug-ins/common/pat.c
	* plug-ins/common/pixelize.c
	* plug-ins/common/plasma.c
	* plug-ins/common/plugindetails.c
	* plug-ins/common/png.c
	* plug-ins/common/pnm.c
	* plug-ins/common/polar.c
	* plug-ins/common/ps.c
	* plug-ins/common/psp.c
	* plug-ins/common/randomize.c
	* plug-ins/common/ripple.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/sel_gauss.c
	* plug-ins/common/sharpen.c
	* plug-ins/common/shift.c
	* plug-ins/common/smooth_palette.c
	* plug-ins/common/snoise.c
	* plug-ins/common/sobel.c
	* plug-ins/common/sparkle.c
	* plug-ins/common/spheredesigner.c
	* plug-ins/common/spread.c
	* plug-ins/common/sunras.c: more plugins which use the dialog
	constructor. Hacked many UIs to look like the app's dialogs.

Sat Jan  8 15:04:48 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanimage.c: in picman_image_set_resolution() check that 
	resolutions are inside our limits (see libpicman/picmanlimits.h)

	* app/xcf.c: if the resolution is invalid, do not hardcode it to
	72 dpi, use the configurable default values 

	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/bmp/bmpread.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/laplace.c
	* plug-ins/common/png.c
	* plug-ins/common/ps.c
	* plug-ins/common/psp.c
	* plug-ins/common/tiff.c
	* plug-ins/gap/gap_mov_dialog.c: fixed some typos, got rif of
	compiler warnings, checked that the resolution is set correctly 
	(the validity of the resolution is now checked in the core)

Fri Jan  7 23:03:51 CET 2000  Sven Neumann <sven@picman.org> 

	* app/preferences_dialog.c: Doh, how much do I hate to hack this 
	sucker... Added the possibility to change the tile_cache_size on 
	the fly (untested!!) and tried to give some better user feedback on
	changes that are only applied after a restart. 
	
	We should try to get rid of most of those cases wherever posssible
	since the message "You have to restart." strongly reminds me to that 
	braindead thing... (you know, some people call it an OS). 

Fri Jan  7 20:27:55 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/sunras.c
	* plug-ins/fits/fits.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_split.c: fixed some typos

2000-01-08  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/semiflatten.c
	* plug-ins/common/sharpen.c
	* plug-ins/common/shift.c
	* plug-ins/common/smooth_palette.c
	* plug-ins/common/snoise.c
	* plug-ins/common/sobel.c
	* plug-ins/common/sparkle.c
	* plug-ins/common/spread.c
	* po-plug-ins/POTFILES.in: added gettext support.

Fri Jan  7 16:06:24 CET 2000  Stanislav Brabec  <utx@penguin.cz>

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/ripple.c: Typo fixes.

2000-01-07  Asbjorn Pettersen  <asbjornP@dualog.no>

	* modules/colorsel_water.c: Add OS/2 support.

	* modules/modregister.c (mod_color_selector_unregister): fix
	OS/2 bug. Use "picman_color_selector_unregister".

2000-01-07  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/hot.c
	* plug-ins/common/hrz.c
	* plug-ins/common/illusion.c
	* plug-ins/common/iwarp.c
	* plug-ins/common/jigsaw.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/lic.c
	* plug-ins/common/mail.c
	* plug-ins/common/mapcolor.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/mblur.c
	* plug-ins/common/newsprint.c
	* plug-ins/common/nlfilt.c
	* plug-ins/common/noisify.c
	* plug-ins/common/nova.c
	* plug-ins/common/oilify.c: some more help-aware plugins.

	* plug-ins/helpbrowser/helpbrowser.c: had the wrong help page
	attached.

2000-01-06  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/gfig/gfig.c (paint_page_menu_type): UI modification (as 
	suggested in bug #2209) -- the Brush tab and pane are now only
	visible when Brush is active in the Paint tag, and Select tab and
	pane are now only visible when Selection or Selection w/ Fill are
	active.

2000-01-07  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanhelpui.c: make sure that the help signals are
	created for all widget classes where we need them.

	* plug-ins/common/Makefile.am
	* plug-ins/common/edge.c
	* plug-ins/common/emboss.c
	* plug-ins/common/engrave.c
	* plug-ins/common/exchange.c
	* plug-ins/common/film.c
	* plug-ins/common/flarefx.c
	* plug-ins/common/fractaltrace.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/gbr.c
	* plug-ins/common/gee.c
	* plug-ins/common/gicon.c
	* plug-ins/common/gif.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/gpb.c
	* plug-ins/common/gqbist.c
	* plug-ins/common/grid.c
	* plug-ins/common/gtm.c: more plugins which use the dialog
	constructor. Did some code formating and indentation.

2000-01-06  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/perl/examples/fit-text (growfont): Fixed some really
	bad perl and removed a debugging print.

	* plug-ins/perl/examples/innerbevel: removed calls to "get_state"
	because that function appears to have been deprecated into
	nonexistence in Picman::Fu.... 

Thu Jan  6 18:39:05 GMT 2000  Adam D. Moss <adam@picman.org>

	* app/tile_cache.c
	* app/tile_swap.c: Maybe fixed tile_cache_set_size()
	so that it actually works now.  You can use this to set PICMAN's
	tile cache size at runtime without restarting.  If the prefs
	guys (Sven, Michael?) don't wire it in I'll look at it, but it
	can't be soon.

2000-01-06  Michael Natterer  <mitch@picman.org>

	* app/[all files using the dialog or action area constructors]
	* libpicman/picmandialog.[ch]: added a "slot_object" argument to the
	constructors' va_args lists to allow the action area buttons to be
	connected with gtk_signal_connect_object().

	* libpicman/picmanhelp.c: show the correct help page for plugins.

	* plug-ins/common/CEL.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/Makefile.am
	* plug-ins/common/aa.c
	* plug-ins/common/align_layers.c
	* plug-ins/common/animationplay.c
	* plug-ins/common/apply_lens.c
	* plug-ins/common/blinds.c
	* plug-ins/common/blur.c
	* plug-ins/common/bumpmap.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/colorify.c
	* plug-ins/common/colortoalpha.c
	* plug-ins/common/compose.c
	* plug-ins/common/convmatrix.c
	* plug-ins/common/csource.c
	* plug-ins/common/cubism.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/decompose.c
	* plug-ins/common/deinterlace.c
	* plug-ins/common/depthmerge.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/destripe.c
	* plug-ins/common/diffraction.c
	* plug-ins/common/displace.c
	* plug-ins/common/grid.c
	* plug-ins/helpbrowser/Makefile.am
	* plug-ins/helpbrowser/helpbrowser.c: use the dialog constructor
	and enable the "F1" help key.

2000-01-06  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* PLUGIN_MAINTAINERS (AUTHOR): added myself as maintainer of
	whirlpinch and autostretch HSV

	* user_install: added a warning in case a $HOME/.gtkrc is detected 
	(see bug #2158).	

2000-01-06  Tor Lillqvist  <tml@iki.fi>

	* app/app_procs.c (make_initialization_status_window): Finetune
	the max_label_length hack, to avoid the splash screen's width
	wobbling (on Win32).

	* PLUGIN_MAINTAINERS: Added myself as maintainer of gpb, winprint,
	winsnap, and wmf.
	
Thu Jan  6 01:29:20 CET 2000  Sven Neumann <sven@picman.org>

	* app/general.c
	* app/plug_in.c: I might be wrong, but I think strtok wasn't used
	correctly here

Thu Jan  6 00:58:32 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/bmp/bmp.c
	* plug-ins/bmp/bmpread.c: i18n fixes

	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/gfig/gfig.c
	* plug-ins/gflare/gflare.c
	* plug-ins/imagemap/imap_main.c: strtok() is dangerous !!

	"Never use this function. This function modifies its first argument."
	So if you absolutely need to use it, save a pointer to your string
	or bad things will happen soon.

	* plug-ins/FractalExplorer/Callbacks.c
	* plug-ins/FractalExplorer/Callbacks.h
	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/FractalExplorer/Dialogs.h
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/FractalExplorer/Makefile.am
	* po-plug-ins/POTFILES.in: added gettext support and removed the
	selfmade i18n routines. I have left the Language.[ch] files in CVS 
	for now since it contains useful french and german translations. 
	Please add these to the po files so we can get rid of the files ASAP.

Wed Jan  5 21:35:14 GMT 2000 Andy Thomas <alt@picman.org>

	* PLUGIN_MAINTAINERS

	Added my name to:-

	gfig (yes I know its one large file & its UI needs work)
	blinds
	plugindetails
	sel2path
	tileit

Wed Jan  5 21:41:26 CET 2000  Marc Lehmann <pcg@goof.com>

	* README.i18n: fixed confusing "prototype" for N_.

Wed Jan  5 21:46:07 CET 2000  Sven Neumann <sven@picman.org>

	* app/gradient_select.c: open the gradient editor on double-click

2000-01-05  Garry R. Osgood <gosgood@idt.net>

	* app/undo.c: PicmanChannel->bounds_known field on the
	image Selection Mask channel was never invalidated when restored
	via undo_pop_channel_mod(). Caused PixelRegion iterators calculating
	new selection boundaries to use cached image dimensions, thereby
	trying to access tiles non-existent in the scaled-down image.
	Closes #4840; see the resolution report for that bug for more
	information. See #4980, which created selection mask artifacts
	leading up to the incurring of this bug.
	
2000-01-05  Michael Natterer  <mitch@picman.org>

	* app/picmanhelp.[ch]: removed most functions. Show the help page in
	an idle function to avoid confusion with calling the temporary
	help browser procedure in the middle of the "picman_help" PDB call.
	(I beleive this should work, so this is maybe a workaround for
	some other bug).

	* app/picmanui.[ch]: removed the dialog functions.

	* libpicman/Makefile.am
	* libpicman/picmandialog.[ch]
	* libpicman/picmanhelp.c
	* libpicman/picmanhelpui.[ch]: new files. Moved most of the help
	functions and the dialog constructors to libpicman and libpicmanui.

	* libpicman/picman.h: declaration of the "picman_help*" functions.

	* libpicman/picmanui.h: include "picmandialog.h" and "picmanhelpui.h".

	* plug-ins/common/grid.c: use the dialog constructor. It's now
	possible to show the plugin's help with "F1".

Wed Jan  5 13:51:19 CET 2000  Sven Neumann <sven@picman.org>

	* app/main.c: removed i18n tags from error messages in the 
	segfault signal_handler

2000-01-05  Michael Natterer  <mitch@picman.org>

	* PLUGIN_MAINTAINERS: I'm maintaining the helpbrowser (Sven, I
	dared to add your name, too :-)

	* app/context_manager.c
	* app/flip_tool.[ch]
	* app/perspective_tool.[ch]
	* app/rotate_tool.[ch]
	* app/scale_tool.[ch]
	* app/shear_tool.[ch]
	* app/transform_core.[ch]
	* app/transform_tool.[ch]
	* app/tools_cmds.c
	* tools/pdbgen/pdb/tools.pdb

	- Show the correct help pages in the transform tools' dialogs.
	- The transform tool button of the toolbox is now always pressed
	  if a transform tool is active (not only for "rotate").
	- Replaced the transform action (CREATING, HANDLE_1, ...) and the
	  transform state (INIT, MOTION, ...) #define's with typed enums.
	- Changed the return type of the *_recalc functions to "void"
	  instead of "void *" and the return type of the *_transform
	  functions to "TileManager *" instead of "void *".
	  (I probably removed an artefact here because all *_recalc
	   functions returned "(void *) 1").
	- Use gboolean instead of int where appropriate.
	- Code cleanup, indentation.

Wed Jan  5 11:35:10 CET 2000  Sven Neumann <sven@picman.org>

	* app/picmanimage.c: In picman_image_merge_visible_layers and 
	picman_image_flatten handle a floating selection by anchoring it.
	This functions can't be called from the UI if a floating selection
	exists, but you can call them via the PDB. This is why
	picman_export_image used to crash when called with a floating_sel.

Tue Jan  4 17:19:22 EST 2000 Adrian Likins <adrian@picman.org>

	* PLUGIN_MAINTAINERS: I claim mail.c as mine

	* MAINTAINERS: update my entry while I am at it

Tue Jan  4 22:25:18 CET 2000  Sven Neumann <sven@picman.org>

	* PLUGIN_MAINTAINERS: New file. Please read it and add email
	addresses and other missing information to it

	* README: point users to the gnome bugtracker instead of the
	wilberworks one

2000-01-04  Tor Lillqvist  <tml@iki.fi>

	* libpicman/makefile.{cygwin.msc}: Add picmancolorspace object.

	* libpicman/picman.def: Add functions from it.
	
	Fixes from Hans Breuer:

	* app/datafiles.c: redefine the executable flag for Win32
	to _S_IREAD, to get _all_ files from the plug-in dirs as
	executables (including scripts)

	* app/main.c: Win32-specific changes to allow building Picman as a
	console application, with all its benefits (like inheriting the
	console), but hide it if the user doesn't want it. Also, if stdout
	goes to a console, give the user a chance to read the help or
	version messages. (tml: I am not convinced that it is better to
	build picman as a console application, but let's try it this way for
	a while.)

	* app/makefile.{cygwin,msc}: Build as console application, and
	link with shell32 library.

	* app/paint_core.c (paint_core_motion): Pass the value of a call
	to the function gimage_active_drawable() to the paint_func,
	instead of just passing the address of gimage_active_drawable...
	
	(tml: This code is only called when the TOOL_TRACES_ON_WINDOW flag
	is on, and only the clone tool sets that, and the clone tool's
	paint_func doesn't use the drawable argument, so this hasn't
	caused any trouble.)

	* app/plug_in.c: On Win32, to support scripts, use new function
	xspawn() instead of _spawnv. Add some more code to properly kill
	plug-ins.

	* libpicman/color_display.h: Add G_MODULE_EXPORT declarations.

	* plug-ins/makefile.{cygwin,msc}: Add build setup for modules like
	Picman-Python.

	* plug-ins/pypicman/picmanmodule.c: Change NATIVE_WIN32 to G_OS_WIN32.
	
Tue Jan  4 18:00:40 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/scripts/circuit.scm: someone didn't close a 
	bracket (I guess it was me...)

2000-01-03  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/plugindetails.c
	* plug-ins/common/pnm.c
	* plug-ins/common/polar.c
	* plug-ins/common/psd.c
	* plug-ins/common/randomize.c
	* plug-ins/common/ripple.c
	* po-plug-ins/POTFILES.in: added gettext support.

	* modules/cdisplay_gamma.c
	* po/POTFILES.in: added gettext support.

Sun Jan  2 23:29:05 PST 2000 Manish Singh <yosh@picman.org>

	* app/color_area.[ch]: fill dummy gimage->base_type as well

	* app/gdisplay_color.[ch]: add attach_clone, configure, and
	configure_cancel functions.

	* app/gdisplay.[ch]: remove notify hacks, don't need them anymore.
	Add cd_ui field for cdisplay ui.

	* app/commands.c: make display filter dialog per display instead of
	global

	* libpicman/color_display.h: ok/cancel notification callbacks

	* modules/cdisplay_gamma.c
	* app/gdisplay_color_ui.[ch]: changes for above, enabled configuration
	dialog and color_area dummy handling

	* app/color_balance.c
	* app/paint_funcs.c: #include "libpicman/picmancolorspace.h"

	* plug-ins/webbrowser/web-browser.scm: updated urls

Mon Jan  3 02:49:37 CET 2000  Sven Neumann <sven@picman.org>
	
	* libpicman/picmancolorspace.c
	* libpicman/picmancolorspace.h: Prefixed all functions with picman_
	to avoid namespace collisions. 
	
	Changed the License in the header to LGPL. If you don't like this, 
	please remove those files! (But I would like them to stay since 
	moving those functions into libpicman is something that should have
	happened much earlier.) Nice work, Daniel!

Sun Jan  2 21:37:02 CET 2000  Marc Lehmann <pcg@goof.com>

        Applied Patch by Daniel Egger, slightly modified.

        * libpicman/picmancolorspace.c, libpicman/picmancolorspace.h,
        libpicman/Makefile.am: New header & implementation for
        rgb<->hsl<->hsv conversion functions.

        * app/blend.c, app/paint_funcs.c, app/paint_funcs.h,
        app/gradient.c, plug-ins/common/scatter_hsv.c,
        plug-ins/common/vinvert.c, plug-ins/common/autostretch_hsv.c,
        plug-ins/common/CML_explorer.c, plug-ins/common/sparkle.c:
        Remove old rgb<->hsl<->hsv conversions and use the ones in
        picmancolorspace.[ch].

2000-01-03  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: Ok. The y2k came. And the fuss is over. Time
	for a new splash. Did you get your Wilber & Sons Artist Kit for 
	christmas? :) Go compile it now!

Sun Jan  2 21:46:46 CET 2000  Sven Neumann <sven@picman.org>

	* app/plug_in.c: Redid my latest change here, since it didn't solve
	the problem. Now, registering with image_types == NULL means the same
	as what "" used to mean: No image is required and the menu entry will
	always be sensitive. 
	
	* plug-ins/script-fu/script-fu.c
	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/gap/gap_frontends_main.c
	* plug-ins/gap/gap_mpege.c: Use NULL instead of the empty string
	when registering the image_types.

2000-01-02  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* configure.in: bumped GTK req. to 1.2.6 -- I hadn't updated GTK
	or glib in a while and the silent acceptance of out-of-date
	versions was making for a lot of annoying bugs.  This should be
	updated whenever appropriate, not simply ignored until major
	release time, people.

Sun Jan  2 16:43:46 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/common/illusion.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/sel_gauss.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/unsharp/Makefile.am
	* plug-ins/unsharp/unsharp.c
	* plug-ins/webbrowser/Makefile.am
	* plug-ins/webbrowser/webbrowser.c
	* po-plug-ins/POTFILES.in: dialog layout and i18n

2000-01-02  Tor Lillqvist  <tml@iki.fi>

	* README.win32: Some clarifications.

	* app/makefile.{cygwin,msc}
	* libpicman/makefile.{cygwin,msc}
	* plug-ins/makefile.{cygwin,msc}: Changes corresponding to the GTk+
	source reorg. Add new files.

	* app/text_tool.c: Remove now unnecessary workaround for Win32
	POINTS identifier clash.
	
2000-01-01 Garry R. Osgood <gosgood@idt.net>

	Happy New Year.

	* app/disp_callbacks.c: Checked RGB/GRAY/INDEXED combinations
 	RE testing #4708. added gdisplay_update_title() to gdisp_drag_drop().
        so that a display endowed with dropped layers won't 
        continue its insistence on being empty. Nice fix, Sven. 

Sat Jan  1 16:10:32 PST 2000 Manish Singh <yosh@picman.org>

	* Makefile.am: cosmetic fix

	* libpicman/color_display.h
	* modules/cdisplay_gamma.c: add clone method

	* app/color_area.[ch]
	* app/gdisplay.[ch]
	* app/gdisplay_color.c
	* app/gdisplay_color_ui.c: preliminary support for color_area filter
	(really just a sync to home machine)

	* app/nav_window.c: minor cleanup

	* tools/pdbgen/app.pl: initialize gbooleans to FALSE, not 0

	* tools/pdbgen/lib.pl: some more arg work

Sat Jan  1 23:09:02 CET 2000  Marc Lehmann <pcg@goof.com>

        * app/fileops.c: Use strtoul for hex constants, and cast it back,
        signed hex constants don't make sense otherwise ("0x-5").

Sat Jan  1 22:42:55 CET 2000  Sven Neumann <sven@picman.org>

	* app/plug-in.c: If image_types == NULL, register plug-in with
	all image_types. Should fix bug #3135.

	* plug-ins/webbrowser/webbrowser.c: register with image_types = NULL

Sat Jan  1 21:05:38 CET 2000  Marc Lehmann <pcg@goof.com>

	* INSTALL: "strip" doc patch by Daniel Egger.

Sat Jan  1 18:54:13 CET 2000  Sven Neumann <sven@picman.org>

	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/gimage_mask.c
	* app/global_edit.c
	* app/interface.c
	* app/layer.c
	* app/layer.h
	* app/transform_core.c: Removed the obsolete drawable argument from
	layer_from_tiles. The layer_type is now taken from the base_type
	of the image. Also changed the name to layer_new_from_tiles.
	This simplifies some code and finally allows to paste into an empty 
	image, so I've enabled this. Please test this heavily!!
	Should fix bug #4708.
	
	* app/gdisplay_color.c: fixed a compiler warning

Sat Jan  1 17:10:31 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/common/sunras.c: small i18n fix

Sat Jan  1 16:50:43 CET 2000  Marc Lehmann <pcg@goof.com>

	* README.i18n: doc patch by Daniel Egger.

Sat Jan  1 16:34:25 CET 2000  Sven Neumann <sven@picman.org>

	* plug-ins/dbbrowser/Makefile.am
	* plug-ins/dbbrowser/dbbrowser.c
	* plug-ins/dbbrowser/dbbrowser_utils.c
	* plug-ins/faxg3/Makefile.am
	* plug-ins/faxg3/faxg3.c
	* plug-ins/fits/fits.c
	* plug-ins/maze/Makefile.am
	* plug-ins/maze/algorithms.c
	* plug-ins/maze/maze.c
	* plug-ins/maze/maze_face.c
	* plug-ins/sgi/Makefile.am
	* plug-ins/sgi/sgi.c
	* po-plug-ins/POTFILES.in: added gettext support

Sat Jan  1 14:57:19 CET 2000  Sven Neumann <sven@picman.org>

	* app/global_edit.c: Paste as New now always creates a RGB image,
	independent of the image it is invoked from. Fixes bug #4871.

2000-01-01  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/max_rgb.c
	* plug-ins/common/mblur.c
	* plug-ins/common/mpeg.c
	* plug-ins/common/newsprint.c
	* plug-ins/common/nlfilt.c
	* plug-ins/common/noisify.c
	* plug-ins/common/pat.c
	* plug-ins/common/pcx.c
	* plug-ins/common/pix.c
	* plug-ins/common/pixelize.c
	* plug-ins/common/plasma.c
	* po-plug-ins/POTFILES.in: added gettext support and replace
	sprintf with g_strdup_printf().

	* plug-ins/common/gpb.c: added INIT_I18N() for gih saver.
	
Fri Dec 31 14:30:10 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/gif.c: small i18n fix
	
	* plug-ins/gap/gap_mov_dialog.c: s/snprintf/g_snprintf/

Thu Dec 30 22:55:35 GMT 1999  Adam D. Moss <adam@picman.org>

	* plug-ins/common/pcx.c: Teach it about .pcc files.

1999-12-30  Kjartan Maraas  <kmaraas@online.no>

	* app/file_new_dialog.c: Added comment to stop xgettext
	from complaining about format specifier.
	
Thu Dec 30 21:14:05 CET 1999  Sven Neumann <sven@picman.org>

	* app/errorconsole.c
	* app/fileops.c
	* app/gradient.c
	* app/levels.c
	* app/paths_dialog.c
	* libpicman/picmanfileselection.c: use our new (slightly compressed) layout
	of gtk_file_selection all over the place

Thu Dec 30 19:45:13 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/bmp/bmpread.c
	* plug-ins/bmp/bmpwrite.c
	* plug-ins/common/compose.c
	* plug-ins/common/gifload.c
	* plug-ins/common/normalize.c
	* plug-ins/common/png.c
	* plug-ins/common/sunras.c
	* plug-ins/common/warp.c
	* plug-ins/common/xbm.c
	* plug-ins/common/zealouscrop.c
	* plug-ins/fits/fits.c
	* plug-ins/flame/flame.c
	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_filter_foreach.c
	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_mod_layer.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_mpege.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_split.c
	* plug-ins/gdyntext/charmap.c
	* plug-ins/picmanressionist/brush.c
	* plug-ins/picmanressionist/color.c
	* plug-ins/picmanressionist/general.c
	* plug-ins/picmanressionist/picman.c
	* plug-ins/picmanressionist/orientation.c
	* plug-ins/picmanressionist/paper.c
	* plug-ins/picmanressionist/placement.c
	* plug-ins/picmanressionist/ppmtool.c
	* plug-ins/picmanressionist/ppmtool.h
	* plug-ins/picmanressionist/presets.c
	* plug-ins/picmanressionist/repaint.c
	* plug-ins/picmanressionist/size.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/imagemap/imap_cmd_guides.c
	* plug-ins/imagemap/imap_edit_area_info.c
	* plug-ins/imagemap/imap_menu.c
	* plug-ins/print/print.c
	* po-plug-ins/POTFILES.in
	
	Got rid of all occurences of sprintf together with gettext and removed
	translation tags from console output.
	
	In a few places I also changed malloc to g_malloc and friends.

Thu Dec 30 15:21:29 GMT 1999  Adam D. Moss <adam@picman.org>

	* plug-ins/common/animoptimize.c: PDB interface patch
	from Andreas Jaekel <jaekel@cablecats.de>

Thu Dec 30 02:34:49 CET 1999  Marc Lehmann <pcg@goof.com>

	* app/gradient.c: Applied patch by Daniel Egger:

        - Simplified the layout of the gradient editor without any visible
          changes
        - Removed save button, because changes are saved in "realtime"
        - Hide the scrollbar when not usable -> prevent user from confusion and
          avoid flickering of the scrollbar
        - Removed out-of-date comments and bugsdescriptions

Wed Dec 29 21:28:13 CET 1999  Marc Lehmann <pcg@goof.com>

	* libpicman/picmancompat.h: Add picman_drawable_find_parasite, reported
        by Marco Lamberto <lm@ko.home.it>

Wed Dec 29 19:05:11 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/CEL.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/gbr.c
	* plug-ins/common/gifload.c
	* plug-ins/common/gtm.c
	* plug-ins/common/hrz.c
	* plug-ins/common/iwarp.c
	* plug-ins/common/png.c
	* plug-ins/common/sunras.c
	* plug-ins/common/warp.c
	* plug-ins/common/xbm.c
	* plug-ins/common/xpm.c
	* plug-ins/common/xwd.c: NEVER EVER use sprintf together with _(...) !

Wed Dec 29 17:47:05 CET 1999  Sven Neumann <sven@picman.org>

	* app/fileops.c
	* app/transform_tool.c: tweaks to the dialog layout 

	* app/layers_dialog.c
	* app/menus.c: changed the Stack menu keybindings back to the
	ones we used in 1.0 and that we still use in the Channels dialog.
	Binding the functions to PageUp/PageDown didn't always work since
	the List also grabs those keys resulting to different behaviour
	whether the layer list has the focus or not.

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c: i18n issues

Wed Dec 29 11:10:22 CET 1999  Sven Neumann <sven@picman.org>

	* app/shear_tool.c: 
	applied a patch from David Hodson <hodsond@ozemail.com.au> that
	fixes a bug in the Shear Tool.
	
Tue Dec 28 23:18:25 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/Lighting/lighting_ui.c
	* plug-ins/common/gtm.c
	* plug-ins/common/jigsaw.c
	* plug-ins/mosaic/mosaic.c: corrected some typos and moved Jigsaw
	and Mosaic into Filters/Render/Pattern

1999-12-29  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/hrz.c
	* plug-ins/common/illusion.c
	* plug-ins/common/iwarp.c
	* plug-ins/common/jigsaw.c
	* plug-ins/common/laplace.c
	* po-plug-ins/POTFILES.in: added gettext support.

	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/gicon.c
	* plug-ins/common/gif.c
	* plug-ins/common/gifload.c
	* plug-ins/common/gpb.c
	* plug-ins/common/gqbist.c
	* plug-ins/common/guillotine.c
 	* plug-ins/common/gz.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/lic.c: unmarked unnecessary translation tag.

Tue Dec 28 20:26:34 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/fp/fp.c
	* plug-ins/fp/fp_gtk.c
	* plug-ins/rcm/rcm.c
	* plug-ins/rcm/rcm_callback.c
	* plug-ins/rcm/rcm_dialog.c: 
	including config.h appearantly does the trick...

Tue Dec 28 19:48:37 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/align_layers.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/deinterlace.c
	* plug-ins/fp/Makefile.am
	* plug-ins/rcm/Makefile.am: more i18n fixes

1999-12-29  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/animationplay.c
	* plug-ins/common/bz2.c
	* plug-ins/common/c_astretch.c
	* plug-ins/common/color_enhance.c
	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c
	* plug-ins/common/depthmerge.c: unmarked unnecessary translation tag.

	* app/picmanui.c: #include "config.h"
	* po/POTFILES.in: included missing app/picmanui.c

Tue Dec 28 15:32:19 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/gz.c
	* plug-ins/gap/gap_decode_mpeg_main.c: fixed typos

Tue Dec 28 15:05:06 CET 1999  Sven Neumann <sven@picman.org>

	* app/picmanrc.c
	* app/image_map.c
	* app/install.c
	* app/layer.c
	* app/session.c
	* app/text_tool.c
	* po/POTFILES.in: more strings unmarked and some corrections to the
	text that is output on user-installation

Tue Dec 28 11:25:46 CET 1999  Sven Neumann <sven@picman.org>

	* app/picmanunit.c
	* app/gradient.c
	* app/temp_buf.c
	* app/text_tool.c
	* app/tile_swap.c
	* app/xcf.c: unmarked a few strings for translation. These strings
	were console output and will only be used if something goes wrong. 
	It will help translators and developers (think about bugreports!) if 
	we don't mark everything for translation.

Mon Dec 27 19:40:19 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/align_layers.c
	* plug-ins/common/despeckle.c: made them use the standard action_area
	layout

Mon Dec 27 17:16:14 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/grid.c
	* plug-ins/fp/fp.c
	* plug-ins/fp/fp.h
	* plug-ins/fp/fp_gtk.c
	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/rcm/rcm.c
	* plug-ins/rcm/rcm_callback.c
	* plug-ins/rcm/rcm_dialog.c
	* plug-ins/rcm/rcm_gdk.c
	* po-plug-ins/POTFILES.in: dialog layout and i18n 

Mon Dec 27 15:11:53 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/flame/flame.c: worked on the dialog layout
	
	* plug-ins/pagecurl/pagecurl.c: register with the correct image type

Mon Dec 27 12:57:52 CET 1999  Sven Neumann <sven@picman.org>

	* libpicman/picman.h
	* libpicman/picmandrawable.c
	* libpicman/picmanimage.c
	* libpicman/picmanlayer.c: use enums instead of gint where appropriate

	* plug-ins/common/pnm.c: got rid of a few compiler warnings 

Sat Dec 25 23:15:46 PST 1999 Manish Singh <yosh@picman.org>

	* Makefile.am: added spec file to EXTRA_DIST

	* docs/Makefile.am: added undo.txt to EXTRA_DIST

	* app/interface.c: removed the DODGY warning, doesn't look dodgy to me

	* libpicman/*.h: missed an s/Library/Lesser/

	* tools/pdbgen/*: lots of work on the libpicman portion

1999-12-26  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/gbr.c
	* plug-ins/common/gee.c
	* plug-ins/common/gicon.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/gpb.c
	* plug-ins/common/gqbist.c
	* plug-ins/common/gradmap.c
	* plug-ins/common/gtm.c
	* plug-ins/common/gz.c
	* plug-ins/common/hot.c
	* po-plug-ins/POTFILES.in: Added gettext support.

1999-12-25 Garry R. Osgood <gosgood@idt.net>
        Season's Greetings!
        * app/clone.c
        * app/paint_core.c
        * app/paint_core.h
        * MAINTAINERS

        MAINTAINERS: Updated my entry (it wasn't there ;)
        app/paint_core.[ch] supplied new PaintTool states to clone_paint_func()
	so that writes of temporary markings made directly to the window are
	not clobbered by buffered writes stemming from gdisplay_flush_xxx()
        routines. clone_tool_paint_func() has been modified to take advantage
        of these new states, retiring bug #2184 in a way that does not change 
        user interface semantics. There are small additions to the PaintCore 
        interface that do not affect clientele unaware of added semantics. 
        These changes are detailed at
	http://idt.net/~gosgood/picman-patch/patch03.html.
	
Sat Dec 25 04:14:03 CET 1999  Marc Lehmann <pcg@goof.com>

        * picman1_1_splash.ppm: Crappy it is, but at least temporary! Feel
        free to enhance or replace, but please do not revert it back to
        the previous version ;)

1999-12-24  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/exchange.c
	* plug-ins/common/flarefx.c
	* plug-ins/common/fractaltrace.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* po-plug-ins/POTFILES.in: Added gettext support.

Don Dez 23 14:27:14 CET 1999  Sven Neumann <sven@picman.org>

	* app/gdisplay_color.c
	* app/gdisplay_color_ui.c: try not to crash when there's no
	gdisplay. Yosh, could you please check that I've fixed it the
	right way?! And while you are on it, wouldn't it be nice if it
	would do something useful??

Wed Dec 22 23:18:48 EST 1999 Gregory McLean <gregm@comstar.net>

	* picman.spec: More portable perl handling.

Thu Dec 23 00:29:27 CET 1999  Sven Neumann <sven@picman.org>

	* app/clone.c: enums should be all UPPER_CASE

Wed Dec 22 23:20:42 CET 1999  Sven Neumann <sven@picman.org>

	* app/menus.c
	* app/tools.c
	* app/tools.h
	* app/toolsF.h: moved the xinput_airbrush before the measure tool,
	so it groups nicely with the paint tools. Removed the toolbox_position
	from the ToolInfo structure, since it was never used and added some
	separators into the Tools menu.

Wed Dec 22 22:11:35 CET 1999  Sven Neumann <sven@picman.org>

	* MAINTAINERS: updated my entry and added Mitch

	* app/paint_core.c: Changed the behaviour of the Gradient Brush to
	continue with the end color when using "Once Forward/Backward" modes.
	Isn't that what was wanted in the first place? It feels much more
	intuitive and useful to me. Please complain if you don't like this.
	
Tue Dec 21 08:48:17 CET 1999  Marc Lehmann <pcg@goof.com>

        * MAINTAINERS: Added Gregory McLean as picman.specs maintainer/
        responsible/whatever.

Wed Dec 22 12:06:22 EST 1999 Gregory McLean <gregm@comstar.net>

	* picman.spec: Final clean up this results in a nice binary package
	that should work for all. It will only work on intel archs though
	as perl is being stubborn.

1999-12-22  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/diffraction.c
	* plug-ins/common/edge.c
	* plug-ins/common/emboss.c
	* plug-ins/common/engrave.c
	* po-plug-ins/POTFILES.in: Added gettext support

	* plug-ins/megawidget/megawidget.c: Added #include "config.h"
	* po-plug-ins/POTFILES.in: Include megawidget

1999-12-21  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/gfig/gfig.c (gfig_update_stat_labels): 
	variable dfn placed before code (os/2).

Tue Dec 21 14:53:33 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/scripts/blend-anim.scm
	* plug-ins/script-fu/scripts/copy-visible.scm
	* plug-ins/script-fu/scripts/drop-shadow.scm
	* plug-ins/script-fu/scripts/perspective-shadow.scm
	* plug-ins/script-fu/scripts/round-corners.scm
	* plug-ins/script-fu/scripts/selection-round.scm
	* plug-ins/script-fu/scripts/slide.scm
	* plug-ins/script-fu/scripts/waves-anim.scm: avoid calling gauss_blur
	with blur-radius < 1, minor UI tweaks and email address updates

	* plug-ins/common/animationplay.c: try not to crash when the image
	is deleted, while playing is active

Tue Dec 21 00:07:03 EST 1999 Gregory McLean <gregm@comstar.net>

	* picman.spec: evil perl is dealt with now.

Mon Dec 20 16:32:39 PST 1999 Manish Singh <yosh@picman.org>

	* app/picmandrawable.c: added an assert for name != NULL

	* tools/pdbgen/pdb/channel.pdb
	* tools/pdbgen/pdb/layer.pdb: sanity check the name parameters

Mon Dec 20 18:42:51 EST 1999  Gregory McLean <gregm@comstar.net>

	* picman.spec: Slightly more upto date spec file. Work in progress.

Mon Dec 20 17:58:59 GMT 1999  Adam D. Moss <adam@picman.org>

	* app/edit_selection.c: Remove old movement code and unused
	variables.

1999-12-20  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/print/print.c (get_printers): os2 patch.
	use v.output_to ,,

1999-12-20  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* plug-ins/common/blinds.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/deinterlace.c
	* plug-ins/common/despeckle.c
	* po-plug-ins/POTFILES.in: Added gettext support

Sun Dec 19 23:59:33 CET 1999  Sven Neumann <sven@picman.org>

	* app/Makefile.am
	* app/picmanhelp.h
	* app/picmanhelp_cmds.c
	* app/internal_procs.c
	* tools/pdbgen/Makefile.am
	* tools/pdbgen/groups.pl 
	* tools/pdbgen/pdb/picmanhelp.pdb: made picman_help accessible through 
	the PDB.

1999-12-19  Michael Natterer  <mitch@picman.org>

	* app/about_dialog.c: connect the "F1" help accelerator.

1999-12-19  Asbjorn Pettersen  <asbjornP@dualog.no>

	* plug-ins/print/print-ps.c: use g_strcasecmp().

	* plug-ins/print/print.h add <sys/types.h> ,<sys/stat.h> for
	off_t type. OS/2 version.

1999-12-19  Michael Natterer  <mitch@picman.org>

	* configure.in: create help/C/toolbox/help/Makefile.

1999-12-19  Michael Natterer  <mitch@picman.org>

	* app/menus.c: move <Image>/Dialogs after <Image>/Tools and add a
	separator after it.

Sun Dec 19 17:42:32 CET 1999  Sven Neumann <sven@picman.org>

	* app/menus.c
	* plug-ins/script-fu/scripts/3dTruchet.scm
	* plug-ins/script-fu/scripts/addborder.scm
	* plug-ins/script-fu/scripts/chip-away.scm
	* plug-ins/script-fu/scripts/circuit.scm
	* plug-ins/script-fu/scripts/coffee.scm
	* plug-ins/script-fu/scripts/comic-logo.scm
	* plug-ins/script-fu/scripts/lava.scm
	* plug-ins/script-fu/scripts/predator.scm
	* plug-ins/script-fu/scripts/rendermap.scm
	* plug-ins/script-fu/scripts/ripply-anim.scm
	* plug-ins/script-fu/scripts/select_to_image.scm
	* plug-ins/script-fu/scripts/test-sphere.scm
	* plug-ins/script-fu/scripts/textured-logo.scm
	* plug-ins/script-fu/scripts/trochoid.scm
	* plug-ins/script-fu/scripts/truchet.scm
	* plug-ins/script-fu/scripts/xach-effect.scm
	
	Reordered the Script-Fu menus a bit. Feel free to come up with a 
	better menu structure!  Also made sure that all scripts do reset the 
	fg/bg colors and the active brush, pattern and gradient when they are 
	done.

1999-12-19  Michael Natterer  <mitch@picman.org>

	* picmanrc.in
	* app/picmanrc.[ch]
	* app/preferences_dialog.c: new picmanrc variable "help-browser"
	which can be either "picman", or "netscape".

	* app/picmanhelp.[ch]: depending on the value of help_browser, show
	the help page with the webbrowser plugin.

1999-12-19  Michael Natterer  <mitch@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c: immediately return from
	the wheel mouse callback if no vertical scrollbar is visible.

1999-12-19  Michael Natterer  <mitch@picman.org>

	* app/palette.c: Added a confirmation dialog for "delete palette".

	* app/gradient.c
	* app/palette.c: Attach help_data strings to the gradient/palette
	ops buttons (for context help).

Sun Dec 19 13:16:51 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/bmp/bmp.c
	* plug-ins/bmp/bmpread.c
	* plug-ins/bmp/bmpwrite.c: 
	Applied a patch from  muppet <scott@asofyet.org> that adds resolution
	support for the BMP plug-in. Did some code cleanup while I was on it.

Sat Dec 18 20:40:44 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/imagemap/imap_about.c
	* plug-ins/imagemap/imap_circle.c
	* plug-ins/imagemap/imap_default_dialog.c
	* plug-ins/imagemap/imap_default_dialog.h
	* plug-ins/imagemap/imap_main.c
	* plug-ins/imagemap/imap_menu.c
	* plug-ins/imagemap/imap_menu_funcs.c
	* plug-ins/imagemap/imap_popup.c
	* plug-ins/imagemap/imap_preview.c
	* plug-ins/imagemap/imap_rectangle.c
	* plug-ins/imagemap/imap_selection.c
	* plug-ins/imagemap/imap_table.c
	* po-plug-ins/POTFILES.in: applied a patch to the ImageMap plug-in 
	provided by its author Maurits Rijk <lpeek.mrijk@consunet.nl>.

	Contains some internationalization fixes, compliance to the standard 
	Picman dialog layout and some minor stuff (like the use of tear-off 
	menus).

1999-12-18  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: Added a special help function which
	shows the help for the active notebook page.

1999-12-18  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/gfig/gfig.c: Use g_get_home_dir(). Use
	G_DIR_SEPARATOR. Fix a bug I introduced (for Win32) a week ago.

1999-12-18  Michael Natterer  <mitch@picman.org>

	* app/colormap_dialog.i.c: My last change caused a warning. Fixed now.

1999-12-18  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c: reverted the splash back to it's previous state
	(with decoration).

1999-12-17  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c
	* app/gdisplay_ops.c: Set "allow_grow" to FALSE for "Really Quit?" and
	"Changes were made to ... Close Anyway?".

	* app/picmanui.c: fixed a compiler warning.

	* app/tips_dialog.c: Same as above and did some code cleanup.

	* app/colormap_dialog.i.c
	* app/colormap_dialog.p.h: Allow dragging a color with mouse2
	without changing the active color. Replaced the "index" entry with
	a spinbutton. Code & UI cleanup.

1999-12-18  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* app/transform_tool.c: Fixed typo.

	* plug-ins/common/CEL.c
	* plug-ins/common/aa.c
	* plug-ins/common/align_layers.c
	* po-plug-ins/POTFILES.in: Added gettext support.

Fri Dec 17 20:29:12 GMT 1999  Adam D. Moss <adam@picman.org>

	* app/edit_selection.c: Fixed a couple of bugs with translating
	the selection mask (move tool, alt-drag):
	
	- Selection mask was being clipped whilst moved around, not just
	  at its final resting place.
        - Selection mask translation was being performed 'live' like the
          opaque moves even though there's simply nothing exciting to see.
	  Now the process is much faster.

	Will remove the edit_selection.c dead-code later if this change
	does not cause new trouble.

1999-12-17  Michael Natterer  <mitch@picman.org>

	* app/picmanhelp.c
	* plug-ins/helpbrowser/helpbrowser.c

	- Pass the locale to use (currently always "C") to the help
	  browser procedures instead of hardcoding it in the help browser.
	- Wheel mouse support for the help browser.

1999-12-17  Michael Natterer  <mitch@picman.org>

	* app/menus.c
	* app/paths_dialog.c: Minor help system fixes.

	* app/app_procs.c: I thought we should have a real splash (without
	decoration). Like it???

	* app/about_dialog.c
	* app/flip_tool.c
	* app/gradient.c
	* app/levels.c
	* app/measure.c
	* app/text_tool.c
	* app/tools.c
	* app/transform_tool.c: Did some code browsing: I18N fixes,
	s/gtk_window_position/gtk_window_set_position/g, indentation
	paranoia, some s/<type>/g<type>/, various stuff (didn't change any
	logic).

1999-12-17  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* po/POTFILES.in: Added missing app/xinput_airbrush.c.

	* app/perspective_tool.c: Added _() tag.

Thu Dec 16 20:15:25 CET 1999  Olof S Kylander <olof@picman.org>

	Fix of KDE/Kwm  selection add/sub/inter problem  
	NOTE: This is a workaround, not a real fix. 
	Many Thanks to Matthias Ettrich 

	* app/disp_callbacks.c

	Updated unsharp-mask to version 0.10

	* plug-ins/unsharp/dialog_f.c
	* plug-ins/unsharp/dialog_f.h
	* plug-ins/unsharp/dialog_i.c
	* plug-ins/unsharp/dialog_i.h
	* plug-ins/unsharp/unsharp.c

	Updated print plug-in to version 3.0.1

	* plug-ins/print/README (new file)
	* plug-ins/print/print-escp2.c
	* plug-ins/print/print-pcl.c
	* plug-ins/print/print-ps.c
	* plug-ins/print/print-util.c
	* plug-ins/print/print.c
	* plug-ins/print/print.h

	Updated all files in the help/C/dialogs dir. This is
	a first alpha glimpse of the help system. Please give 
	me feedback of the content. However since it's in alpha
	stage it means that there is spell, grammatical, etc errors. 
	There is may also be pure errors which I hope "you" will
	report to either olof@picman.org or karin@picman.org. Please 
	don't report spell, grammatical, etc error at this stage in dev.

	If you have any plans to commit to the help system please write
	to olof@picman.org. (This is mandatory not a please ;-).

	* help/C/welcome.html
	* help/C/dialogs/about.html
	* help/C/dialogs/border_selection.html
	* help/C/dialogs/brush_editor.html
	* help/C/dialogs/brush_selection.html
	* help/C/dialogs/convert_to_indexed.html
	* help/C/dialogs/copy_named.html
	* help/C/dialogs/cut_named.html
	* help/C/dialogs/device_status.html
	* help/C/dialogs/document_index.html
	* help/C/dialogs/edit_qmask_attributes.html
	* help/C/dialogs/error_console.html
	* help/C/dialogs/feather_selection.html
	* help/C/dialogs/file_new.html
	* help/C/dialogs/file_open.html
	* help/C/dialogs/file_save.html
	* help/C/dialogs/gradient_selection.html
	* help/C/dialogs/grow_selection.html
	* help/C/dialogs/help.html
	* help/C/dialogs/indexed_palette.html
	* help/C/dialogs/info_window.html
	* help/C/dialogs/input_devices.html
	* help/C/dialogs/layers_and_channels.html
	* help/C/dialogs/module_browser.html
	* help/C/dialogs/navigation_window.html
	* help/C/dialogs/offset.html
	* help/C/dialogs/palette_selection.html
	* help/C/dialogs/paste_named.html
	* help/C/dialogs/pattern_selection.html
	* help/C/dialogs/really_close.html
	* help/C/dialogs/really_quit.html
	* help/C/dialogs/resize_image.html
	* help/C/dialogs/scale_image.html
	* help/C/dialogs/shrink_selection.html
	* help/C/dialogs/tip_of_the_day.html
	* help/C/dialogs/tool_options.html
	* help/C/dialogs/undo_history.html
	* help/C/dialogs/channels/channels.html
	* help/C/dialogs/channels/edit_channel_attributes.html
	* help/C/dialogs/channels/new_channel.html
	* help/C/dialogs/color_selectors/built_in.html
	* help/C/dialogs/color_selectors/gtk.html
	* help/C/dialogs/color_selectors/triangle.html
	* help/C/dialogs/color_selectors/watercolor.html
	* help/C/dialogs/display_filters/display_filters.html
	* help/C/dialogs/display_filters/gamma.html
	* help/C/dialogs/gradient_editor/copy_gradient.html
	* help/C/dialogs/gradient_editor/delete_gradient.html
	* help/C/dialogs/gradient_editor/gradient_editor.html
	* help/C/dialogs/gradient_editor/new_gradient.html
	* help/C/dialogs/gradient_editor/rename_gradient.html
	* help/C/dialogs/gradient_editor/replicate_segment.html
	* help/C/dialogs/gradient_editor/save_as_pov_ray.html
	* help/C/dialogs/gradient_editor/split_segments_uniformly.html
	* help/C/dialogs/layers/add_mask.html
	* help/C/dialogs/layers/apply_mask.html
	* help/C/dialogs/layers/edit_layer_attributes.html
	* help/C/dialogs/layers/layers.html
	* help/C/dialogs/layers/merge_visible_layers.html
	* help/C/dialogs/layers/new_layer.html
	* help/C/dialogs/layers/resize_layer.html
	* help/C/dialogs/layers/scale_layer.html
	* help/C/dialogs/palette_editor/import_palette.html
	* help/C/dialogs/palette_editor/merge_palette.html
	* help/C/dialogs/palette_editor/new_palette.html
	* help/C/dialogs/palette_editor/palette_editor.html
	* help/C/dialogs/paths/export_path.html
	* help/C/dialogs/paths/import_path.html
	* help/C/dialogs/paths/paths.html
	* help/C/dialogs/paths/rename_path.html
	* help/C/dialogs/preferences/directories.html
	* help/C/dialogs/preferences/display.html
	* help/C/dialogs/preferences/environment.html
	* help/C/dialogs/preferences/interface.html
	* help/C/dialogs/preferences/monitor.html
	* help/C/dialogs/preferences/new_file.html
	* help/C/dialogs/preferences/preferences.html
	* help/C/dialogs/preferences/session.html

Thu Dec 16 12:42:13 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.14 release

Wed Dec 15 00:10:54 CET 1999  Sven Neumann <sven@picman.org>

	* app/channel_ops.c
	* app/info_window.c
	* app/nav_window.c
	* app/tips_dialog.c
	* app/undo_history.c
	* plug-ins/common/colortoalpha.c
	* plug-ins/common/smooth_palette.c
	* plug-ins/common/spheredesigner.c
	* plug-ins/fp/fp_gtk.c: more cosmetic changes

Tue Dec 14 11:56:15 PST 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdbgen.pl
	* tools/pdbgen/pdb/fileops.pdb: allow for array size params to
	be optional

	* app/nav_window.c
	* app/tools.c: a bit of cleanup

Tue Dec 14 20:37:44 CET 1999  Sven Neumann <sven@picman.org>

	* app/Makefile.am
	* app/fileops.c
	* app/fileops.h
	* app/fileopsP.h: new file
	* app/fileops_cmds.c
	* app/internal_procs.c: 
	* tools/pdbgen/pdb/fileops.pdb
	Added new PDB interfaces file_[load|save]_thumbnail. Wolfgang will
	need this for the new GAP interface, so better implement them now.

	* plug-ins/common/screenshot.c: try to be more sane when xwd fails
	to load the temporary file

Tue Dec 14 15:10:16 CET 1999  Sven Neumann <sven@picman.org>

	* app/blend.c
	* app/channels_dialog.c
	* app/crop.c
	* app/eraser.c
	* app/fileops.c
	* app/gdisplay.c
	* app/global_edit.c
	* app/layers_dialog.c
	* app/menus.c
	* app/plug_in.c
	* app/preferences_dialog.c
	* app/tool_options.c
	* app/transform_tool.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/gap/gap_frontends_main.c: 
	Cosmetic stuff: first try to make the use of capital letters in menus 
	and dialogs consistent. Please watch out for warnings about menus
	that don't exist and report them to me.
	
	* plug-ins/gap/sel-to-anim-img.scm
	* plug-ins/script-fu/scripts/*.scm: same fix as above and add 
	dots where appropriate

Mon Dec 13 19:25:39 GMT 1999  Adam D. Moss <adam@picman.org

	* app/tile.c 
	* app/tile.h
	* app/tile_manager.c
	* app/tile_swap.c:

	Allocate Tile's array of TileRowHints dynamically.  Make type
	of TileRowHint explicit since it's fairly space-critical.
	Can save several hundred K of memory with this and struct
	changes.

	Added warnings for old basically-untested-or-insane
	paths through the tile referencing code.

	* app/tile_pvt.h: Shrink down and rearrange fields of Tile
	struct to save some space with gcc's padding for most people.

	* app/paint_funcs.c: Use tile_sanitize_rowhints() to ensure
          that rowhints have been allocated before use.

	* app/channel_ops.c
	* app/gdisplay.c
	* app/pixel_region.c: Cosmetic, sanity or unfinished debug
          changes (the latter commented out) for fun and reference.

1999-12-13  Shirasaki Yasuhiro  <yasuhiro@gnome.gr.jp>

	* po/POTFILES.in: Added missing app/path_tool.c.

	* plug-ins/common/displace.c
	* plug-ins/flame/flame.c
	* plug-ins/flame/Makefile.am
	* plug-ins/common/spheredesigner.c
	* po-plug-ins/POTFILES.in: Added gettext support.

	* plug-ins/Lighting/lighting_main.c
	* plug-ins/Lighting/lighting_ui.c: More _() tagging.

	* plug-ins/common/sample_colorize.c: Added missing INIT_I18N*().

Fri Dec 10 23:55:10 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/iscissors.c: fix problem with layers with non-zero offset.

	* app/undo.c: Garry, you missed one "0 -> UNDO_NULL" cleanup :)

1999-12-10  Garry R. Osgood  <gosgood@idt.net>

	* app/undo.c : An inadvertent substitution of UndoTypes LAYER_ADD_UNDO
 	and LAYER_REMOVE_UNDO in undo_pop_layer_mask() and undo_free_layer_mask()
	sanity checks prevented the proper disposal of PicmanLayerMasks and 
	associated tile managers and tiles. Changed to LAYER_MASK_ADD_UNDO 
	and LAYER_MASK_REMOVE_UNDO to be consistent with the undo_push_layer_mask()
	function and to invoke proper cleanup and release of retiring alpha layer masks.
	* docs/undo.txt: New file, an overview of undo logic written by 
	Austin Donnelly so that I could write this change log entry with 
	panache and flair. ;)
	* app/undo.c
	* app/undo_types.h
	* app/picmanimage.c : Introduced a new UndoType, UNDO_NULL, which maps
	to zero, introducing that value into the enumerated type and preventing
	strict ANSI compilers from complaining about mixing enumerated and
	unenumerated types. Use the type to signal type unknown/error/untyped
	conditions.
 	Full patch documentation at http://idt.net/~gosgood/picman-patch/patch02.html
	
1999-12-08  Michael Natterer  <mitch@picman.org>

	* plug-ins/common/jpeg.c: The plugin allocated memory chunks of
	constant size to store strings which are longer when translated,
	causing buffer overflows. Fixes bug #3897.
	Replaced some malloc() and free() with g_*() functions and use
	g_snprintf instead of sprintf.

1999-12-08  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/winprint.c: Fix the handling of stored
	state. Actually use the margins from the Page Setup dialog (just
	the left and top margins currently).

	* plug-ins/common/animationplay.c: Weird include hackery to be
	compilable with current CVS GTk+ (on Win32).

	* plug-ins/gfig/gfig.c: With current CVS GTk+, use gdk_parent_root
	instead of gdk_root_parent (Win32).

	* app/makefile.cygwin
	* libpicman/makefile.cygwin
	* plug-ins/makefile.cygwin: Get GDK library from new place.
	
1999-12-07  Michael Natterer  <mitch@picman.org>

	* pixmaps/yes.xpm: Resize it to the same size as "no.xpm" because
	the fileselection switches between them and it looks ugly if the
	widget's padding changes.

1999-12-07  Michael Natterer  <mitch@picman.org>

	* app/main.c
	* app/menus.c: Wrapped the 'plugin_domains' definition and
	initialization and menu_translate() with '#ifdef ENABLE_NLS'.

	* app/palette.c: Removed another trailing comma from an enum.

	* app/tile_cache.c (tile_idle_thread): Changed tile->swap to
	tile->swap_offset because tile->swap doesn't exist. Note that I
	don't understand at all what's going on there. I commited this
	because (1) this way it compiles and (2) it at least _looks_ like
	the right thing to do. Garry, could you check this please?

Tue Dec  7 15:04:11 CET 1999  Stanislav Brabec  <utx@penguin.cz>

        * tips/picman_tips.cs.txt: Added translation.

Mon Dec  6 23:39:34 MET 1999  Sven Neumann <sven@picman.org>

	* app/channel.c
	* app/channel.h
	* app/picmanbrushpipe.c
	* app/gradient.c
	* app/nav_window.c
	* app/paint_funcs.c
	* app/palette.c
	* app/paths_dialog.c
	* app/patterns.c
	* app/tools.c
	* app/tools.h
	* libpicman/picman.c
	* libpicman/picmancolorbutton.c
	* libpicman/picmandrawable.c
	* libpicman/picmanfileselection.c
	* libpicman/picmanimage.c
	* libpicman/picmanpatheditor.c
	* libpicman/picmansizeentry.c
	* libpicman/picmanunitmenu.c
	* libpicman/picmanwire.c
	* libpicman/parasiteio.c
	* plug-ins/script-fu/script-fu-server.c: fixed lots of wrongly typed
	variables that made picky compilers complain (still some left...)

1999-12-06  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/anchor.xpm: The Smaller Anchor Icon. Still a bit unpolished,
	but a lot smaller than my previous one.. Sven, like it?

Mon Dec  6 10:38:38 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_*_dialog.c: applied a patch from Wolfgang Hofer
	that changes the GAP dialogs to follow the PICMAN standard more 
	closely. 

Sun Dec  5 19:21:33 CET 1999  Marc Lehmann <marc@picman.org>

        * plug-ins/script-fu/script-fu-scripts.c: Install function names
        with underscores instead of minus signs. Should improve the life
        of almost all other languages.

1999-12-05 Garry R. Osgood <gosgood@idt.net>

	Inaugural checkin: Tile accounting
	* app/tile_cache.c
	* app/tile.c
	
	cur_cache_dirty in tile_cache.c was not being fully updated. Fewer
	dirty bytes were being added to this global than what were being 
	placed on the dirty tile queue. Deductions, however, were correct
	sometimes causing cur_cache_dirty to wrap around zero and become
	large positive. This skewed the number of tiles to be swapped to disk, 
	usually downward, but sometimes dramatically upward.
        active_tile_count, (tile.c) currently a diagnostic counter, was 
	not being decremented when tiles were actually destroyed.  

	Full patch documentation at 
	http://idt.net/~gosgood/picman-patch/patch01.html#991205-0

1999-12-04  Michael Natterer  <mitch@picman.org>

	* app/main.c
	* app/menus.c: Define the "plugin_domains" array of strings in
	main.c and use it as external variable from menus.c

	What's missing now is a proper way to let picman know which
	additional catalogs (perl, python, ...) are actually installed.

1999-12-04  Michael Natterer  <mitch@picman.org>

	* app/menus.c: Reorder all menu items under <Image>/Filters which
	were created by plugins, so they appear after <Image>/Filters/Web.
	(this way <Image>/Filters/Toys is always the last submenu)

	* app/palette.c: My last change caused both the normal _and_ the
	small menu to pop up on right mouse click on an already existing
	color. Thanks to Nick for pointing this out.

	Now there is only one menu with "Edit" and "Delete" greyed out if
	the click was outside a valid color square.
	I also moved "New" to the top of the menu because that's how other
	picman menus look like.

Sat Dec  4 05:30:38 GMT 1999 Nick Lamb <njl195@zepler.org.uk>

	* libpicman/picmanunitmenu.c: Move mitch's change so now it
	actually Works For Me (TM)

1999-12-03  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanunitmenu.c: Set the clist columns to their
	optimal size.

1999-12-03  Michael Natterer  <mitch@picman.org>

	* app/dialog_handler.c
	* app/ops_buttons.h: Removed trailing comma from enums to avoid
	compiler warnings with Irix CC. Fixes bugs #3994 and #3995.

Thu Dec  2 23:49:17 GMT 1999 Andy Thomas <alt@picman.org>

	* app/bezier_select.c

	Fixed bug number #3904. - [picman-bug] no undo for path strokes.
	Undo menu item is now enabled correctly after the path has been
	stroked.

1999-12-02  Michael Natterer  <mitch@picman.org>

	* app/palette.c: Enable the popup menu containing only "New" in
	the whole area inside the palette's scrolled window.
	This way you don't have to correctly hit the small line a newly
	created palette consists of.

	* app/gradient.c
	* app/gradient_select.c: Set the "Gradient" clist column to it's
	optimal size but ensure a minimal size, so the column title is
	fully visible with all languages and font sizes.

1999-12-02  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c: Default to "Cancel" in the "Really Quit?" dialog.

	* app/app_procs.c
	* app/brush_select.c
	* app/picmanbrushlist.c: Call brush_select_[freeze|thaw]_all() from
	brushes_init() and brushes_free(), so refreshing the brushes from
	plugins/scripts is faster.

	* app/brightness_contrast.c
	* app/color_balance.c
	* app/curves.c
	* app/file_new_dialog.c
	* app/hue_saturation.c
	* app/levels.c
	* app/posterize.c
	* app/threshold.c:
	Reorder the action area buttons: [ "OK" "Reset" "Cancel" ]

	* app/menus.c: Some more cleanups in the menu code. Reorder
	<Image>/Filters/Misc only if it exists. Generalized
	menu_translate() in preparation for correctly supporting catalogs
	which only exist sometimes (like picman-perl).

	* app/gradient.c
	* app/gradient_select.c: Save some lines of code by using
	gtk_clist_new_with_titles() instead of gtk_clist_new().

	* libpicman/picmanunitmenu.c: Code cleanup and made the clist titles
	of the unit selection un-clickable.

Thu Dec  2 01:18:33 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/grid.c: more chainbuttons and nicer dialog layout 

Tue Nov 30 21:23:39 GMT 1999 Andy Thomas <alt@picman.org>

	* app/info_window.c

	Fix crash where display closed & info dialog had not been used.
	Yasuhiro SHIRASAKI pointed this problem out. Thanks.

Mon Nov 29 18:17:34 PST 1999 Manish Singh <yosh@picman.org>

	* configure.in: support for optional gap_decode_mpeg plugin

	* plug-ins/gap/Makefile.am
	* plug-ins/gap/README
	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_decode_mpeg_main.c
	* plug-ins/gap/gap_decode_xanim.c
	* plug-ins/gap/gap_decode_xanim.h
	* plug-ins/gap/gap_frontends_main.c
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_mpege.c: patches from Wolfgang Hofer

Tue Nov 30 01:55:43 MET 1999  Sven Neumann <sven@picman.org>

	* app/menus.c: make it compile with strict ANSI C compilers
	* app/xinput_airbrush.c: move return_type out of #ifdef

	Closes bugs #3910 and #3911

Tue Nov 30 01:17:12 MET 1999  Sven Neumann <sven@picman.org>
	
	* app/picmanimage.c: correctly save the layer mode to the undo_stack
	on layer_merge (fixes bug #2168)

Mon Nov 29 23:51:26 GMT 1999 Andy Thomas <alt@picman.org>

	* app/commands.c
	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/picmanrc.c
	* app/picmanrc.h
	* app/info_window.c
	* app/info_window.h
	* app/preferences_dialog.c
	* app/undo_history.c

	Info dialog now has option to follow the mouse movements or
	the old behaviour of one dialog per display.
	This dialog still needs some work.

	Undo dialog now obeys the "tab" key in the display.

Mon Nov 29 23:43:15 MET 1999  Sven Neumann <sven@picman.org>
	
	* app/layers_dialog.c: 
	get rid of the "gdisplays_flush() called recursively." warning

1999-11-27  Michael Natterer  <mitch@picman.org>

	* app/preferances_dialog.c: oops, all frames said "General" after
	my last change.

Sat Nov 27 14:49:20 MET 1999  Sven Neuman <sven@picman.org>

	* app/commands.c
	* app/commands.h
	* app/layer.c
	* app/layer.h
	* app/layers_dialog.c
	* app/layers_dialog.h
	* app/menus.c: implemented "Resize Layer to Imagesize" in C

	* app/apptypes.h: indentation

	* app/bezier_select.c
	* app/nav_window.h: get rid of compiler warnings 

1999-11-27  Michael Natterer  <mitch@picman.org>

	* app/main.c: bind the "picman-perl" textdomain.

	* app/menus.c: try to find a plugin's name in the "picman-perl"
	domain if searching in "picman-std-plugins" fails.

	* app/preferences_dialog.c: factored out a small frame+vbox
	creation function from the huge dialog constructor and did some
	small changes. Didn't change the logic.

Sat Nov 27 04:08:32 MET 1999  Sven Neuman <sven@picman.org>

	* app/fileops.c: I might break it again, but creating a single
	preview seemed to be broken after Adam fixed my last change.
	IMHO it works as it should now... 

Sat Nov 27 03:51:41 MET 1999  Sven Neuman <sven@picman.org>

	* plug-ins/sgi/sgi.c: bail out nicely instead of aborting when
	saving fails.

Sat Nov 27 03:07:20 CET 1999  Marc Lehmann <pcg@goof.com>

	* configure.in: Fix *the* perl configuration bug. tststs...

Wed Nov 24 21:10:07 CET 1999  Marc Lehmann <pcg@goof.com>

        * app/picmanimage.h, app/picmanimage.c,
        tools/pdbgen/pdb/gimage.pdb: Implement picman_image_undo_is_enabled,
        patch by Raphael Quinet.

Fri Nov 26 21:55:07 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/aa.c
	* plug-ins/common/gbr.c
	* plug-ins/common/gicon.c
	* plug-ins/common/gpb.c
	* plug-ins/common/gtm.c
	* plug-ins/common/hrz.c
	* plug-ins/common/pat.c
	* plug-ins/common/pnm.c
	* plug-ins/common/sunras.c
	* plug-ins/common/tga.c
	* plug-ins/common/tiff.c
	* plug-ins/fits/fits.c
	* plug-ins/fp/fp_gtk.c
	* plug-ins/maze/maze_face.c
	* plug-ins/rcm/rcm_dialog.c
	* plug-ins/sgi/sgi.c
	* plug-ins/xjt/xjt.c: more action_area beautification

Fri Nov 26 19:03:07 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/mail.c: modified the dialog layout a bit

Fri Nov 26 12:25:42 CET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/gif.c: fixed a (harmless) cut'n'paste error 
	I introduced during the "Change all plug-ins" commit

1999-11-26  Michael Natterer  <mitch@picman.org>

	* app/blend.c: accidentially replaced "Gradient:" with "Blend:" in
	my last checkin to this file. Put the right string back.

	* app/menus.c: fixed the plugin translation problem (YES!!! :-)
	Mysteriously, using g_strdup() et al. instead of composing the
	string to translate in a statically allocated array fixed the
	problem.

	* plug-ins/gap/gap_main.c: fixed a menu path.

Fri Nov 26 01:33:04 MET 1999  Sven Neumann <sven@picman.org>

	* app/histogram_tool.c: purely cosmetic change

1999-11-26  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.h (MAIN) (Win32): Improve WinMain prototype to
	avoid compiler warnings.

	* libpicman/picmanui.def: Add one entry point.

Thu Nov 25 12:54:10 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.13 release

Thu Nov 25 12:21:27 PST 1999 Manish Singh <yosh@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: augh, fix stupid braino
	from my last change

1999-11-25  Michael Natterer  <mitch@picman.org>

	* app/menus.c: Removed the definitions of the tearoff menu items
	and build them on the fly. Added N_()-marked submenus instead so
	they get properly translated. Removed N_() from all separators.

	Hacked menu_translate(): Don't try to translate separators,
	tearoffs and the /File/MRUxx entries. Avoid multiple lookups in
	the "picman-std-plugins" domain. Translating plug-in menu entries is
	still broken.

	Defined all filter categories for proper translation and a first
	try to order them and to add separators (please comment...).

	New Category /Filters/Web.

	(Did 'make update-po' in the po* directories and updated the
	german translations.)

	* app/about_dialog.c
	* app/brush_select.c
	* app/drawable.c
	* app/errors.c
	* app/free_select.c
	* app/gradient.c
	* app/info_dialog.c
	* app/plug_in.c
	* app/tool_options.c: minor i18n updates like removing _() from
	some error messages.

	* app/context_manager.c: a private context for the Xinput Airbrush.

	* plug-ins/common/video.c: Register under /Filters/Distorts

	* plug-ins/imagemap/imap_main.c: Register under /Filters/Web
	(Marc, what about putting "prepare for gif" and "webify" there?)

	* plug-ins/perl/po/de.po: s/Xtn/Xtns/g

Thu Nov 25 02:56:01 MET 1999  Sven Neumann <sven@picman.org>

	* app/blend.c
	* app/paint_core.c: Ctrl now restrict to 15 degrees (on a circle)

Wed Nov 24 17:38:45 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.12 release

Wed Nov 24 15:26:21 PST 1999 Manish Singh <yosh@picman.org>

	* configure.in: version number bump; add check for standalone
	gtkxmhtml from Sesse

	* app/picmanpreviewcache.c: applied picman-yasuhiro-19991122-1, prevents
	div by zero error

	* plug-ins/script-fu/script-fu-scripts.c: INIT_I18N_UI before
	gtk_init, reported by yasuhiro

	* plug-ins/common/mapcolor.c
	* plug-ins/common/sunras.c
	* plug-ins/fits/fits.c: applied picmankirchgessner-991121-[0-2],
	i18n and sundry bug fixes

1999-11-24  Tuomas Kuosmanen  <tigert@picman.org>

	* plug-ins/perl/examples/perlotine: Fixed some changed stuff, 
	mostly picman_image_get_guide_orientation()'s types (from 
	GUIDE_HORIZONTAL to HORIZONTAL (and vertical respectively). Also
	changed the image->convert_indexed() call and parameters that were 
	wrong.

Wed Nov 24 01:23:34 MET 1999  Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: be more instructive about the
	speed tradeoff of the interpolation type.

	* plug-ins/common/jpeg.c: reorder the menu for DCT setting, so
	the order matches the speed/quality

Wed Nov 24 00:45:27 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/MapObject/mapobject_main.c
	* plug-ins/common/blinds.c
	* plug-ins/common/curve_bend.c
	* plug-ins/common/deinterlace.c
	* plug-ins/common/despeckle.c
	* plug-ins/common/diffraction.c
	* plug-ins/common/displace.c
	* plug-ins/common/edge.c
	* plug-ins/common/emboss.c
	* plug-ins/common/engrave.c
	* plug-ins/common/exchange.c
	* plug-ins/common/flarefx.c
	* plug-ins/common/fractaltrace.c
	* plug-ins/common/gauss_iir.c
	* plug-ins/common/gauss_rle.c
	* plug-ins/common/gee.c
	* plug-ins/common/glasstile.c
	* plug-ins/common/gqbist.c
	* plug-ins/common/hot.c
	* plug-ins/common/illusion.c
	* plug-ins/common/iwarp.c
	* plug-ins/common/jigsaw.c
	* plug-ins/common/max_rgb.c
	* plug-ins/common/mblur.c
	* plug-ins/common/newsprint.c
	* plug-ins/common/nlfilt.c
	* plug-ins/common/noisify.c
	* plug-ins/common/pixelize.c
	* plug-ins/common/plasma.c
	* plug-ins/common/polar.c
	* plug-ins/common/randomize.c
	* plug-ins/common/ripple.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/sel_gauss.c
	* plug-ins/common/sharpen.c
	* plug-ins/common/shift.c
	* plug-ins/common/smooth_palette.c
	* plug-ins/common/snoise.c
	* plug-ins/common/sobel.c
	* plug-ins/common/sparkle.c
	* plug-ins/common/spheredesigner.c
	* plug-ins/common/spread.c
	* plug-ins/common/tile.c
	* plug-ins/common/tileit.c
	* plug-ins/common/video.c
	* plug-ins/common/vpropagate.c
	* plug-ins/common/warp.c
	* plug-ins/common/waves.c
	* plug-ins/common/whirlpinch.c
	* plug-ins/common/wind.c
	* plug-ins/flame/flame.c
	* plug-ins/gfig/gfig.c
	* plug-ins/gflare/gflare.c
	* plug-ins/maze/maze.c
	* plug-ins/pagecurl/pagecurl.c
	* plug-ins/unsharp/unsharp.c: added dots to all menu entries of 
	interactive plug-ins and did the usual action area fixes on lots 
	of them

Tue Nov 23 22:57:13 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/Lighting/lighting_main.c
	* plug-ins/common/rotate.c
	* plug-ins/common/warp.c
	* plug-ins/common/winprint.c: the ones I missed last times...

Tue Nov 23 22:00:12 MET 1999  Sven Neumann <sven@picman.org>

	* app/menus.c: Looks like I managed to accidentially revert my
	change from Mon Nov 22. Put it back in.

Tue Nov 23 21:22:01 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/animationplay.c
	* plug-ins/common/animoptimize.c
	* plug-ins/common/apply_lens.c
	* plug-ins/common/autocrop.c
	* plug-ins/common/autostretch_hsv.c
	* plug-ins/common/blur.c
	* plug-ins/common/bumpmap.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/colorify.c
	* plug-ins/common/colortoalpha.c
	* plug-ins/common/compose.c
	* plug-ins/common/convmatrix.c
	* plug-ins/common/cubism.c
	* plug-ins/common/decompose.c
	* plug-ins/common/depthmerge.c
	* plug-ins/common/destripe.c
	* plug-ins/common/film.c
	* plug-ins/common/gif.c
	* plug-ins/common/grid.c
	* plug-ins/common/guillotine.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/lic.c
	* plug-ins/common/mail.c
	* plug-ins/common/mapcolor.c
	* plug-ins/common/nova.c
	* plug-ins/common/oilify.c
	* plug-ins/common/papertile.c
	* plug-ins/common/png.c
	* plug-ins/common/ps.c
	* plug-ins/common/psp.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/threshold_alpha.c
	* plug-ins/common/xbm.c
	* plug-ins/common/xpm.c
	* plug-ins/gap/gap_filter_main.c
	* plug-ins/gap/gap_main.c
	* plug-ins/gdyntext/gdyntext.c
	* plug-ins/gdyntext/gdyntext.h
	* plug-ins/picmanressionist/picman.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/imagemap/imap_main.c
	* plug-ins/mosaic/mosaic.c
	* plug-ins/print/print.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/sinus/sinus.c
	* plug-ins/struc/struc.c
	* po-plug-ins/POTFILES.in: use N_() instead of _() when registering
	the menu path. Added dots in the menu path where appropriate and 
	changed the dialog layout in most of these plug-ins to conform better
	to the PICMAN standard.

1999-11-23  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c
	* app/channels_dialog.c
	* app/fileops.c
	* app/gdisplay.c
	* app/gdisplay_ops.c
	* app/layers_dialog.c
	* app/menus.[ch]
	* app/paths_dialog.c
	* app/plug_in.c: removed
	menus_set_[sensitive|state]_glue(). Removed the N_()'s from all
	menu paths which are not eventually passed to
	gtk_item_factory_create_item().

	* app/tool_options.c: minor updates.

	* app/file_new_dialog.c: reordered the action_area buttons.

Tue Nov 23 02:02:30 MET 1999  Sven Neumann <sven@picman.org>

	* app/menus.c: fixed a possible buffer overflow

Mon Nov 22 22:43:59 GMT 1999 Andy Thomas <alt@picman.org>

        * app/bezier_select.c

        Stroking bezier paths made up of multiple segments 
        now all get put in a single undo group.

Mon Nov 22 23:29:16 MET 1999  Sven Neumann <sven@picman.org>
	
	* app/airbrush.c
	* app/devices.c
	* app/menus.c
	* app/module_db.c
	* app/paint_core.c
	* app/preferences_dialog.c
	* app/tools.c
	* po-plug-ins/POTFILES.in
	* plug-ins/helpbrowser/helpbrowser.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/common/rotate.c
	* plug-ins/common/screenshot.c
	* libpicman/picmanenv.c
	* libpicman/picmanunitmenu.c: internationalization stuff:
	Fixed a few typos, internationalized some plug-ins, removed the
	_() from a few strings that are only debugging messages. 
	And the rotate plug-ins are now put into a sane order in the menus.

Mon Nov 22 13:18:40 GMT 1999  Adam D. Moss <adam@picman.org>

	* app/channel_ops.c: Disabled the copy-on-write for gimage
	projection.  Duplicate op will now take as much time and
	memory as PICMAN 1.0 in this respect.  That sucks, but I'm
	damned if I can follow the twisted paths which PICMAN treads
	in making this bahave badly.  Can you?

1999-11-22  Michael Natterer  <mitch@picman.org>

	* app/menus.c: move all sub-sub-menus of <Image>/Filters to the
	top of their menu shells and add a separator after them.

Mon Nov 22 11:19:05 GMT 1999  Adam D. Moss <adam@picman.org>

	* app/convert.c: Removed erroneous spin-button limit, bumped
	up RGB->INDEXED precision a little.

1999-11-22  Michael Natterer  <mitch@picman.org>

	* app/brightness_contrast.[ch]
	* app/by_color_select.[ch]
	* app/color_balance.[ch]
	* app/curves.[ch]
	* app/histogram_tool.[ch]
	* app/hue_saturation.[ch]
	* app/levels.[ch]
	* app/posterize.[ch]
	* app/threshold.[ch]: spinbuttons and cleaned up ui for all
	dialog-tools. Added a "Reset" button to all dialogs.

	* app/color_notebook.c: fixed a compiler warning.

	* app/picmanui.[ch]: made picman_radio_group_new() more general.

	* app/menus.c: removed the <Toolbox>/File/Help submenu.

	* app/tools.c: restored the old behaviour of "tools_initialize()"
	(force the emission of the "tool_changed" signal)

Sun Nov 21 22:13:59 CET 1999  Marc Lehmann <pcg@goof.com>

	* app/plug_in.c: image_type=="*" enables all (known)
        image types.

Sun Nov 21 02:14:28 CET 1999  Marc Lehmann <pcg@goof.com>

	* app/convert.c: Removed unused debugging output.

Sat Nov 20 23:31:19 GMT 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c

	Forgot to clear the timer_id flag after the timer
	has fired.

Sat Nov 20 22:10:15 GMT 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c

	Removed timer when windows are deleted. Removes
	potential race conditions when closing images.

Sat Nov 20 19:47:24 CET 1999  Marc Lehmann <pcg@goof.com>

        * app/picmanui.c: Try some more intelligent behaviour in
        picman_message_box by not opening too many dialog boxes at once.
        This does not really solve the bugs (buggy plug-ins will just
        try to open message boxes indefinitely, but it at least makes it
        possible to kill the picman without loosing the screen).

Sat Nov 20 19:33:01 GMT 1999  Adam D. Moss <adam@picman.org>

	* plug-ins/common/gifload.c: Fixed a couple of possible infinite
	loops where an error condition was not being checked.  Also
	changed some g_message()s back to g_warning()s as they should be
	(don't get carried away with the user feedback fellahs, no-one
	wants to be told of every single corrupt byte and block in its own
	little window.  :-( ).

Sat Nov 20 19:52:30 CET 1999 Olof S Kylander <olof@picman.org>

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap2/AlienMap2.c
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/diffraction.c
	* plug-ins/common/exchange.c
	* plug-ins/common/gqbist.c
	* plug-ins/common/gradmap.c
	* plug-ins/common/grid.c
	* plug-ins/common/lic.c
	* plug-ins/common/mapcolor.c
	* plug-ins/common/newsprint.c
	* plug-ins/common/plasma.c
	* plug-ins/common/randomize.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/scatter_hsv.c
	* plug-ins/common/snoise.c
	* plug-ins/common/warp.c
	* plug-ins/flame/flame.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/maze/maze.c

	Updated menu location as suggested in the proposal from me
	with comments form others. (Mitch what about fixing the sub
	menu location so submenus allways is in top of a menu. Exception
	of Repeat last, Re-show last and Filter all Layers, which should
	be in top of the Filters menu.)


1999-11-20  Michael Natterer  <mitch@picman.org>

	* app/devices.c: s/sprintf/g_snprintf

	* app/color_balance.[ch]: spinbuttons instead of text entries.

1999-11-20  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanexport.c: changed the packing spacings to match the
	core dialogs' standards.

1999-11-20  Michael Natterer  <mitch@picman.org>

	* app/menus.c
	* plug-ins/gap/gap_filter_main.c: moved "Filter all Layers.." to
	the main "Filters" menu.

1999-11-20  Michael Natterer  <mitch@picman.org>

	* app/preferences_dialog.c: new prefs. page "Help System" because
	there will soon be more widgets there (browser selection etc.)
	Cleaned up the "Display" and "Interface" pages a bit.

	* app/menus.c
	* plug-ins/common/plugindetails.c: add "...".

	* libpicman/picmanfileselection.c
	* libpicman/picmanpatheditor.c: a widget shouldn't connect to it's own
	"realize" signal. Set widget_class->realize = <widget>_realize
	instead.

1999-11-20  Michael Natterer  <mitch@picman.org>

	Reorganized the core menu items (everything except
	<Image>/Filters). Everything is of course trivial to change again,
	so please comment on the new "menu feeling" ;-)

	* app/menus.[ch]:

	- Applied the suggestions collected by Olof.
	- Added "..." to all items which open a dialog.
	- Introduced some additional separators (e.g. in "Dialogs").
	- Reorder some plugins and the color correct tools after
	  initialisation.
	- A menu entry to invoke the tooltips inspector.
	- A debugging menu entry which dumps the menu paths and their help
	  pages (will of course go away when the help sys is consistent).

	There are currently two identical "Help" menus because
	<Toolbox>/Help trashes the menu bar if the toolbox is too narrow
	(gtk doesn't seem to support multi-line menubars, any idea?)

	* app/app_procs.c: call menus_reorder_plugins() after loading the
	plugins to beautify the "Xtns" menu.

	* app/commands.[ch]: reordered some functions to match the new
	menu structure (for easier source navigation) and renamed some to
	be consistent (e.g. all help functions are now called help_*).

	Show/Hide the rulers with ordinary gtk_widget_[show|hide]()
	commands. I've tested it several times and it looks exactly the
	same as the old code which used internal gtk knowledge.

	* app/gdisplay.c: applied the menu changes to
	gdisplay_set_menu_sensitivity().

	* app/picmanhelp.[ch]: new public function picman_context_help() which
	invokes the tooltips inspector. Code cleanup.

	* app/resize.c: changed the dialogs' titles to match the menu entries.

	* app/session.c: renamed the gradient selection cmd callback to be
	consistent with brushes/patterns.

	* app/tools.c: added "..." to the menu paths of the tools which
	have dialogs.

	* app/fileops.c
	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/paths_dialog.c: added some "...".

	* plug-ins/common/align_layers.c
	* plug-ins/common/autostretch_hsv.c
	* plug-ins/common/c_astretch.c
	* plug-ins/common/color_enhance.c
	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c
	* plug-ins/common/mail.c
	* plug-ins/common/normalize.c
	* plug-ins/common/threshold_alpha.c
	* plug-ins/dbbrowser/dbbrowser.c
	* plug-ins/fp/fp.c
	* plug-ins/print/print.c
	* plug-ins/rcm/rcm.c: changed the menu paths and added "...".

Fri Nov 19 18:47:30 PST 1999 Manish Singh <yosh@picman.org>

	* po and po-plug-ins dirs: moved the libpicman translations to
	po-plugins (do they really need to be separate anyway?)

	* tips/picman_tips.pl.txt: new file

	* libpicman/color_display.h 
	* modules/cdisplay_gamma.c: configure cancel callback

Sat Nov 20 03:15:42 CET 1999  Marc Lehmann <pcg@goof.com>

        * plug-ins/common/gif.c: Removed rather superflous "comment block
        not written" message that most people wouldn't see. Left in the
        "comment block too long" message in, though. Corrected some
        typoes.

Sat Nov 20 02:46:12 MET 1999  Sven Neumann <sven@picman.org>

	* common/colortoalpha.c
	* common/film.c
	* common/grid.c
	* common/mapcolor.c
	* common/nova.c
	* common/papertile.c
	* common/rotate.c
	* ifscompose/ifscompose.c
	* sinus/sinus.c: internationalization fixes 
	(hopefully got it right now)
 
Sat Nov 20 01:59:10 MET 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmancolorbutton.c: include config.h to enable NLS

Sat Nov 20 00:27:26 GMT 1999 Andy Thomas <alt@picman.org>

	* app/commands.c
	* app/gdisplay.c
	* app/picmanrc.c
	* app/picmanrc.h
	* app/nav_window.c
	* app/nav_window.h
	* app/preferences_dialog.c
	* app/scale.c
	* app/scroll.c

	Nav dialog now follows auto. There is an option in the
	preferences dialog (interface) that allow you to switch
	between this behaviour and the "original" way of having
	one nav dialog per display.

Sat Nov 20 01:27:12 MET 1999  Sven Neumann <sven@picman.org>

	* convolve.c
	* dodgeburn.c
	* eraser.c: pressing Shift now disables (and resets) the tool toggle 
	and switches to line mode so the Ctrl key is free for constraints.

Thu Nov 18 18:52:38 MET 1999  Sven Neumann <sven@picman.org>

	* app/blend.c: implemented another way to restrict the angle
	to multiples of 15 degrees (bound to <Ctrl>). This commit is 
	done only so that you can give feedback, which way you prefer.
	Please read my mail to the picman-developers list.

Thu Nov 18 12:31:08 MET 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmanimage.c: use PARAM_IMAGE instead of PARAM_DRAWABLE in
	picman_image_get_thumbnail_data. Thanks to Shuji Narazaki for pointing 
	this out.

Wed Nov 17 22:45:35 GMT 1999  Adam D. Moss <adam@picman.org>

	* app/xcf.c: When greeted with a cheerfully corrupt poli^M^M^M^MXCF
	file, PICMAN will 1) live a long and fruitful life rather than crash
	and burn, and 2) read as much as is reasonable and issue a
	warning about only being able to partially load the file.

Wed Nov 17 17:48:50 CET 1999  Marc Lehmann <pcg@goof.com>

        * libpicman/*: Updated header comment from LGPL2.0 to LGPL2.1, where
        applicable.

Wed Nov 17 20:07:08 GMT 1999  Adam D. Moss <adam@picman.org>

	* app/fileops.c: Fix multi-thumbnail code oversight
	causing double load-and-thumbnailing of first/only image.

Wed Nov 17 17:29:35 1999  ape@spacetec.no  (Asbjorn Pettersen)

	* modules/colorsel_triangle.c (module_init):  Removed most of the
	OS/2 code. 	Include  modregister.h.

Wed Nov 17 15:37:06 MET 1999  Sven Neumann <sven@picman.org>
	
	* app/color_balance.c
	* plug-ins/common/colortoalpha.c
	* plug-ins/common/grid.c
	* plug-ins/common/mapcolor.c
	* plug-ins/common/nova.c
	* plug-ins/common/papertile.c
	* plug-ins/ifscompose/ifscompose.c
	* plug-ins/sinus/sinus.c
	* po-plug-ins/POTFILES.in: more internationalization 

Wed Nov 17 00:14:11 MET 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmancolorbutton.c: hide the colorselection dialog when
	the button is set insensitive
	
	* plug-ins/common/Makefile.am
	* plug-ins/common/nova.c
	* plug-ins/common/papertile.c
	* plug-ins/common/plugin-defs.pl
	* plug-ins/sinus/Makefile.am
	* plug-ins/sinus/sinus.c
	* plug-ins/sinus/sinus_logo.h
	* plug-ins/gap/iter_ALT/mod/plug_in_sinus_iter_ALT.inc
	* po-plug-ins/POTFILES.in: made supernova, papertile and sinus use
	the picmancolorbutton, internationalized the plug-ins while I was on it

1999-11-16  Michael Natterer  <mitch@picman.org>

	* libpicman/picmanchainbutton.c: the chainbutton's parent_class is a
	GtkTable, not a GtkWidget. Code formating paranoia.

Tue Nov 16 11:16:41 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gap/README
	* plug-ins/gap/gap_filter_iterators.c
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/iter_ALT/mod/plug_in_nova_iter_ALT.inc
	* plug-ins/gap/iter_ALT/old/plug_in_warp_iter_ALT.inc: applied a patch
	from Wolfgang Hofer <hof@hotbot.com> with updates to the GAP

1999-11-15  Tor Lillqvist  <tml@iki.fi>

	* app/picmancontext.c (picman_context_copy_background): Fix copy&paste
	error.

Mon Nov 15 21:18:19 CET 1999  Marc Lehmann <pcg@goof.com>

        * libpicman/COPYING: Update to COPYING.LIB-2.1. If you feel this
        restricts your rights please contact me ;)

Mon Nov 15 20:43:09 MET 1999  Sven Neumann <sven.picman.org>

	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am
	* plug-ins/common/film.c
	* plug-ins/common/mapcolor.c: more plug-ins that use the color_button.
	Whoever feels bored, feel free to continue this mission ...

Mon Nov 15 19:31:13 MET 1999  Sven Neumann <sven.picman.org>

	* libpicman/picmancolorbutton.c
	* libpicman/picmancolorbutton.h
	* po/POTFILES.in: added dnd and a popup window on right-click that 
	allows to load the current fg and bg colors.
	
	* po-plug-ins/POTFILES.in
	* plug-ins/common/Makefile.am
	* plug-ins/common/colortoalpha.c
	* plug-ins/common/plugin-defs.pl
	* plug-ins/script-fu/script-fu-scripts.c: made script-fu and the new
	colortoalpha plug-in use picman_color_button

	* plug-ins/common/rotate.c: add " degrees" to the menu entries

Mon Nov 15 11:48:59 1999  ape@spacetec.no  (Asbjorn Pettersen)

	* modules/colorsel_gtk.c (module_init): Removed most of the
	OS/2 code and fixed a OS/2 bug.
 	Include  modregister.h.

Mon Nov 15 11:30:42 CET 1999 Olof S Kylander <olof@picman.org>
	
	* app/xinput_airbrush.c

	A bit better std values for people w/o patch_xinput_airbrush

Mon Nov 15 02:09:30 CET 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/plugin-defs.pl, plug-ins/common/Makefile.am,
        plug-ins/common/colortoalpha.c: add Color To Alpha plug-in by Seth
        that is on my disk since ages....

        * app/fileops.c: preset the filename on "Save as".

Sun Nov 14 23:47:10 MET 1999  Sven Neumann <sven.picman.org>

	* app/ink.c: plugged a memleak

	* app/xinput_airbrush.c: make it compile w/o patch_xinput_airbrush

Sun Nov 14 22:50:32 MET 1999  Sven Neumann <sven.picman.org>
	
	* libpicman/picmanui.h: include all header files that belong to 
	libpicmanui
	
	* plug-ins/common/compose.c
	* plug-ins/common/grid.c
	* plug-ins/common/tiff.c
	* plug-ins/flame/flame.c
	* plug-ins/flame/libifs.c
	* plug-ins/gdyntext/charmap.c
	* plug-ins/gdyntext/charmap_window.c
	* plug-ins/gdyntext/font_selection.c
	* plug-ins/gdyntext/message_window.c
	* plug-ins/imagemap/imap_preferences.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/sel2path/math.c: out of libpicman only include picman.h, 
	picmanui.h and stdplugins-intl.h 

Sun Nov 14 21:37:51 CET 1999 Olof S Kylander <olof@picman.org>
	
	Update of the Xinput airbrush, fixed some bugs.
	It's a bit closer to a real tool now ;-).

	Test it out but be aware that you have to have at least
	a tablet with tilt support. Preferibly you should have 
	a Wacom Airbrush and a patched version of GTK.

	Well it still has preformance problems with big brushes 
	i.e big  virtual height and big tilt.

	All sensitives are not yet implemented, but it starts
	to work like a real airbrush. It's as hard to 
	master as the real thing (beside that your ink will
	not streem).

	PS: There is a lot of printf and experimental code 
	in the tool at the moment please don't remove it.

 	* app/airbrush_blob.c
 	* app/airbrush_blob.h
 	* app/xinput_airbrush.c


Sun Nov 14 16:38:21 GMT 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/common/psd.c: Patch from Andy Hefner
	<vector7@crosswinds.net> to load mono bitmap files.

1999-11-14  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.c: special handling of a dropped "Standard"
	brush/pattern/gradient because they are not part of their lists.

	* app/pattern.c: fill the standard_pattern with a b/w grid.

1999-11-14  Michael Natterer  <mitch@picman.org>

	* app/airbrush.c
	* app/apptypes.h
	* app/brushes_cmds.c
	* tools/pdbgen/pdb/brushes.pdb
	* app/bucket_fill.c
	* app/clone.c
	* app/picmanbrushpipe.c
	* app/paint_core.c
	* app/patterns.h
	* app/patterns_cmds.c
	* tools/pdbgen/pdb/patterns.pdb: removed the PicmanBrushP and
	GPatternP types and use ordinary pointers instead.

	The following stuff makes the "no_data" behaviour consistent. As a
	side-effect it should make the picman work when there are _really_ no
	brushes/patterns/gradients.

	* app/brush_select.c
	* app/pattern_select.c: set the initial brush/pattern name to "No
	Brushes/Patterns available" instead of "Active".

	* app/devices.c: set the device contexts' brush/pattern/gradient
	names if we started with no_data, so we find them on refresh.

	* app/picmanbrushlist.c: set the name of the standard_brush to
	"Standard".

	* app/picmancontext.c: don't replace the current
	brush/pattern/gradient's name if the new one to be set is the
	standard one. Together with the change in devices.c, this ensures
	that we get what is set in devicerc. Minor fixes.

	* app/gradient.c: changed gradients_init() to work like the other
	data init functions. Only insert a default gradient in the
	gradients list when the editor is opened (this means that the
	gradients now behave like brushes/patterns when we start with
	"no_data").
	New function gradient_update() avoids tons of useless redraws of
	all clist gradient previews whenever the gradient editor wants to
	update it's large preview.

	* app/gradient_select.c: don't segfault when the user tries to
	drag from an empty gradient list.

	* app/patterns.c: set the index of the standard_pattern to -1 to
	indicate that it's not part of the pattern list.

Sat Nov 13 18:07:51 PST 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/rotate.c: we don't use gtk, so we don't need
	INIT_I18N_UI

1999-11-14  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picmanexport.c: Include config.h for ENABLE_NLS.

	* libpicman/makefile.{cygwin,msc}: Add picmanselection.
	* libpicman/picman.def: Add its entry points.

	* plug-ins/makefile.{cygwin,msc}: Remove rotators.

Sat Nov 13 22:13:01 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/rotators.c: removed
	* plug-ins/common/rotate.c: merged rotators and rotate plug-in.
	The dialog has gone and the menus are installed under 
	Image->Image->Transform and Image-->Layers. You will want to remove
	the rotators binary out of your plug-in path.

Sat Nov 13 20:14:49 MET 1999  Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picman.h
	* libpicman/picmanselection.c: new file. Implements PDB wrappers for a 
	few selection functions.
	
	* app/gimage_mask_cmds.c
	* tools/pdbgen/pdb/gimage_mask.pdb: corrected a typo

	* plug-ins/common/rotate.c: code cleanup
	
Sat Nov 13 19:43:11 1999  ape@spacetec.no  (Asbjorn Pettersen)

	* modules/modregister.h: 
	* modules/modregister.c: Place all OS/2 functions here.
 	mod_color_selector_register()
	mod_color_selector_unregister() new OS/2 functions for register
	and unregister. Shall replace OS/2 code in modules. 

Sat Nov 13 01:58:31 MET 1999  Sven Neumann <sven@picman.org>

	* app/airbrush.c
	* app/convolve.c
	* app/dodgeburn.c
	* app/paint_options.h
	* app/paintbrush.c
	* app/pencil.c
	* app/smudge.c
	* app/tool_options.c: cleaned up pressure sensitivity for paint
	tools. I had to rename Pressure to Rate in a few tools to avoid
	confusion with the Pressure option that applies to the brush.

	* app/picmanlut.c: indentation, no changes

Fri Nov 12 17:23:05 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/picmanmodule.c : Unit test program for module_db.c and
	modules.

	* app/module_db.c (module_db_write_modulerc): open file with "wt" so
	it's works on OS/2 and WIN. 
	module_db_write_modulerc() now return TRUE if it succeed.
	Global variable "need_to_rewrite_modulerc" is moved out of the function.
	Logic is still the same and it's tested with unittest/picmanmodule prog..

Fri Nov 12 01:52:49 CET 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/nlfilt.c: rename ROUND => SROUND to avoid clash.

Thu Nov 11 21:19:39 GMT 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/common/gifload.c: Fixed the oldest inherited
	bug in the long long ancestry of this plugin.  =)

Wed Nov 10 23:03:33 GMT 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c 

	Nav preview now really does work with !sqr pixels & dot_for_dot
	off...
	Nav preview for small images fixed.

Wed Nov 10 11:16:54 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/scripts/fade-outline.scm: updated version
	from Wolfgag Hofer

	* tools/pdbgen/pdb/drawable.pdb
	* app/drawable_cmds.c: use TILE_HEIGHT for y coordinate

1999-11-09  Tor Lillqvist  <tml@iki.fi>

	* app/module_db.c (browser_destroy_callback): Must call
	picman_set_remove_handler() to remove the browser_info_update
	handler from the PicmanSet 'modules'.

	Otherwise if we bring up the module browser, then close it, this
	will call browser_destroy_callback(), which will free the
	'browser_st' struct. Later when we exit the PICMAN, the modules will
	be unloaded, which will cause browser_info_update() to be called,
	and passed the pointer to the already freed 'browser_st'. Whoopee.
	Thanks to Electric Fence for pointing this out.

	* app/makefile.{cygwin,msc}: Remove actionarea.

	* libpicman/picman.h: Change declaration of nonexistent function
	picman_layer_attach_new_parasite() to declaration of
	picman_drawable_attach_new_parasite(), which was missing.

	* libpicman/picmanui.def
	* libpicman/makefile.{cygwin,msc}: Add picmancolorbutton.

	* plug-ins/makefile.{cygwin,msc}: Add gap_filter and gap_plugins.

	* plug-ins/common/gz.c: Fix renamed variable in Win32 part.

	* plug-ins/gap/gap_lib.c: Use G_DIR_SEPARATOR_S.

	* plug-ins/gdyntext/font_selection.c: When compiling with current
	CVS GTk+ (i.e., on Win32 most likely) use the gdk_font_list_*
	functions instead of Xlib's XListFonts() and XFreeFontNames().
	
	* plug-ins/gdyntext/gdyntext.c: Use G_PI.

	* plug-ins/gdyntext/gdyntext_ui.c: Guard inclusion of
	unistd.h. Don't unnecessarily include gdkx.h and Xlib.h

	* plug-ins/winsnap/winsnap.c: Fix rectangle orientation.
	
Tue Nov  9 22:57:13 MET 1999  Sven Neumann <sven@picman.org>
	
	* app/brush_select.c: take margin into account when deciding if 
	popping up a preview is necessary

Tue Nov  9 21:15:26 GMT 1999 Andy Thomas <alt@picman.org>

	* app/lc_dialog.c
	* app/nav_window.c 
	* app/undo_history.c

	Fixed some rounding errors in the preview images.

Tue Nov  9 11:33:03 PST 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/drawable.pdb: fix {get,set}_pixel typo reported
	by Tamito KAJIYAMA <kajiyama@grad.sccs.chukyo-u.ac.jp>

Tue Nov  9 15:08:13 MET 1999  Sven Neumann <sven@picman.org>
	
	* app/fileops.c:
	applied a (modified) patch from Rene Rebe <rene.rebe@okay.net>
	that allows to generate previews for multiple files. Plugged
	some small memleaks while I was on it.

	* tools/pdbgen/pdb/gimage.pdb
	* app/gimage_cmds.c
	* app/xcf.c: plugged memleaks that occured on xcf and indexed load

	* po/fr.po: applied a patch from Daniel Eggert that fixes a merging
	problem in the french translation

Tue Nov  9 05:14:41 GMT 1999 Nick Lamb <njl195@zepler.org>

	* plug-ins/common/png.c: Option to reduce file size further
	and GUI clean-up

Mon Nov  8 16:20:02 PST 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb.pl
	* tools/pdbgen/pdb/brushes.pdb
	* tools/pdbgen/pdb/drawable.pdb
	* tools/pdbgen/pdb/gimage.pdb
	* tools/pdbgen/pdb/patterns.pdb
	* tools/pdbgen/pdb/procedural_db.pdb: treat INT8s are guint8
	internally, as a bandaid to address bug #2208 and friends.

Mon Nov  8 23:06:06 GMT 1999 Andy Thomas <alt@picman.org>

	* app/picmanrc.c

	Fixed problem (crash/corruption) when saving preferences.
	Seems like the mem-leaks fixing in this area was a little 
	over zealous.

Sun Nov  7 18:59:22 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/picmancontextpreview.c: delay the showing of the full-size
	    pattern, brush or gradient by 150ms as the brush and pattern
	    selector dialogs currently do.  Also, only generate a "click"
	    event if the user has clicked quickly, ie, the mouse up event
	    came before the timeout caused the popup to be displayed).

	* app/picmanrc.c: default image size now 983x857, in an attempt to
	    flush out problems to do with large images, images with
	    incomplete tiles around the edges, and images with
	    width != height.  Non-square pixels and other resolution stuff
	    will come in at a later stage when we've got the first round
	    of problems fixed.

	* app/gradient.c: don't allow two gradients with the same name -
	    replace the first.  Mainly this stops us having two "Default"
	    gradients if you start up with --no-data.

	* app/interface.c: can now create an indicator panel in the
	    toolbox even if we have --no-data, since we have built-in
	    defaults now.

Sun Nov  7 15:41:07 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/module_db.c: fix button resize behaviour.  Closes Bug#3350.
	    Also, i18n stuff for state names, and make them a little
	    prettier.

Sat Nov  6 19:16:57 *ET 1999  Sven Neumann <sven@picman.org>

	* app/about_dialog.c
	* app/picmanobject.c
	* app/picmanrc.c
	* app/layer.c
	* app/preferences_dialog.c
	* libpicman/picmanfileselection.c: plugged more mem-leaks	

Sat Nov  6 15:28:11 MET 1999  Sven Neumann <sven@picman.org>

	* app/gdisplay.h: Reverted my latest change. It disturbed image 
	rendering. 	

Sat Nov  6 14:13:12 MET 1999  Sven Neumann <sven@picman.org>

	* app/drawable_cmds.c
	* tools/pdbgen/pdb/drawable.pdb: some PDB names weren't changed here
	but in all plug-ins and scripts.

	Whoever created the PDB interface for drawable_thumbnail(), could
	you please change this sentence from the description:
	   "The alpha channel also returned if the drawable has one."
	I don't get what it wants me to tell...

Sat Nov  6 03:57:20 MET 1999  Sven Neumann <sven@picman.org>

	* app/gdisplay_color_ui.c: fixed a crash on Cancel that occured 
	due to bad list handling

	* app/module_db.c: indentation madness, no changes

	* app/nav_window.c: set the zoom label and slider first, then 
	update the preview. Gives better user feedback. This is now what 
	bugreport #3354 suggest, but it comes close.

	* plug-ins/common/plugindetails.c: tried to fix the strange resizing
	of the dialog. Should fix bug #3352.

Fri Nov  5 15:32:15 MET 1999  Sven Neumann <sven@picman.org>

	* app/edit_selection.c: when moving layers/masks freeze the undo
	after the first move to avoid that each and every small movements
	puts an undo on the stack. Significantly speeds up layer moves 
	and especially the undo of a layer move.

	* app/gdisplay.h: correct rounding errors

	* app/picmanimage.c: correctly display floating selections in the
	composite_preview instead of ignoring them

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/lc_dialog.c: s/gtk_widget_draw/gtk_widget_queue_draw/

Thu Nov  4 22:06:24 GMT 1999 Andy Thomas <alt@picman.org>

	* app/gradient_select_cmds.c
	* tools/pdbgen/pdb/gradient_select.pdb

	Fixed crash when main gradient dialog is opened and 
	one lauched via the PDB interface (ie scriptfu) is also open.

Thu Nov  4 20:46:25 MET 1999  Sven Neumann <sven.picman.org>
	
	* app/channel.c: get rid of compiler warnings

	* app/histogram_tool.c
	* app/histogram_tool.h: added a gradient below the histogram so 
	it looks more like the curves and levels tool

	* app/picmanbrushpipe.c
	* libpicman/parasiteio.c
	* libpicman/parasiteio.h: plugged another mem-leak. At least 
	The PICMAN now starts without leaking memory...

Thu Nov  4 00:59:01 MET 1999  Sven Neumann <sven.picman.org>

	* app/file_new_dialog.c
	* app/picmanbrush.c
	* app/picmanbrushpipe.c
	* app/picmanrc.c
	* app/patterns.c
	* app/patterns.h: plugged mem-leaks

Wed Nov  3 22:36:21 GMT 1999 Austin Donnelly  <austin@picman.org>

	* app/text_tool.c: tag text undo group with TEXT_UNDO rather than
	    silly EDIT_PASTE_UNDO.
	* app/undo.c: TEXT_UNDO name
	* undo_types.h: new type: TEXT_UNDO, plus fix numbering to make it
	    consistent (overlapping enums are bad).

Wed Nov  3 18:44:50 GMT 1999 Nick Lamb <njl195@zepler.org>

	* plug-ins/bmp/bmp.c
	* plug-ins/bmp/bmpread.c
	* plug-ins/bmp/bmpwrite.c: Update from Alexander Schulz (THANKS!)

1999-11-03  Michael Natterer  <mitch@picman.org>

	* app/paths_dialog.c: connect to the "realize" signal of the
	dialog's top-level eventbox, not the vbox.

1999-11-03  Michael Natterer  <mitch@picman.org>

	* app/brush_select.[ch]
	* app/gradient.c
	* app/gradient_select.[ch]
	* app/interface.[ch]
	* app/palette.c
	* app/pattern_select.[ch]: allow dragging a brush/pattern/... from
	the selections with mouse2 without changing the active element in
	the dialog.

	* app/channels_dialog.c
	* app/color_area.c
	* app/color_panel.c
	* app/color_select.c
	* app/colormap_dialog.i.c
	* app/devices.c
	* app/picmancontextpreview.[ch]
	* app/picmanhelp.[ch]
	* app/picmanui.[ch]
	* app/indicator_area.c
	* app/interface.[ch]
	* app/layers_dialog.c
	* app/lc_dialog.c
	* app/ops_buttons.[ch]
	* app/paths_dialog.c
	* app/preferences_dialog.c
	* app/tools.[ch]: wrapped gtk_tooltips_set_tip() with
	picman_help_set_help_data() and moved it to picmanhelp.[ch].

	This should (hopefully) be the final state of the help system. The
	New function allows a "private tip" to be set without a visible
	tooltip. This way the tooltips inspector (shift+F1) can search for
	help data in the parent containers of the clicked widget. E.g. the
	ops buttons in the layers dialog have private tips like
	"#new_layer" which gets composed with the help data of the layers
	dialog notebook page resulting in a complete help path.

	Allow mouse2 for all dnd operations. Mouse1 still works like before.

Tue Nov  2 17:36:21 PST 1999 Manish Singh <yosh@picman.org>

	* pixmaps/question.xpm: fake one from alt's screenshot since he
	forgot to cvs add

Tue Nov  2 22:50:31 GMT 1999 Andy Thomas <alt@picman.org>

	* app/undo.h
	* app/undo.c
	* app/undo_history.c
	* pixmaps/question.xpm

	Fixed undo history so it shows a dummy image if the preview
	image has not already been generated. The actual image
	could probably do with an artists hand ;-)
	Also mask operations are shown as such in the previews.

	* app/lc_dialog.c

	Fixed rounding error in preview when width << height.

	* plug-ins/common/jpeg.c

	Always freeze the undo stack for any of the image export types.
	Anyone know why this was not the case to start with? 

Tue Nov  2 22:40:31 MET 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: Fonts aren't free'd after
	a gdk_font_load but unref'd of course. I just wonder why this has
	ever worked before...
	This should fix bugs #2554, #2774, #2798, #2963 and #3209. Whee!

Mon Nov  1 09:28:46 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.11 release

Mon Nov  1 13:27:14 MET 1999  Sven Neumann <sven@picman.org>

	* app/drawable_cmds.c
	* tools/pdbgen/pdb/drawable.pdb: applied (a modified version of) a 
	patch from Garry R. Osgood <gosgood@idt.net> that should fix bug #2202 
	and problems with the Warp plug-in.

	* app/main.c
	* po-plug-ins/POTFILES.in
	* plug-ins/common/mail.c: applied a patch from 
	SHIRASAKI Yasuhiro <yasuhiro@awa.tohoku.ac.jp> that handles i18n issues 
	and fixes a problem in the mail plug-in.
	( Could someone please check if the change to app/main.c is the right 
	  thing to do ?! )

	* po-plug-ins/POTFILES.in
	* plug-ins/common/grid.c
	* plug-ins/gap/iter_ALT/gen/plug_in_grid_iter_ALT.inc: 
	checked in a new version of the Grid plug_in developed by 
	Tom Rathborne <tomr@aceldama.com> and me.

Sun Oct 31 21:51:10 MET 1999  Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picmancolorbutton.[ch]: new widget which provides a simple
	button with a color preview together with a completely wired 
	gtk_color_select_dialog. Color dnd will be added next.

	* libpicman/picmanchainbutton.c
	* libpicman/picmanchainbutton.h: cleaned up the code a bit and provided
	a destroy function which takes care of freeing the memory allocated
	for the pixmaps/bitmaps (well at least I hope it does).

	* libpicman/picmanunit.c: some cases were handled wrong in 
	picman_unit_get_digits().

	* plug-ins/megawidget/megawidget.c: follow the GUI conventions when 
	building the action_area and internationalized the code.

	* plug-ins/common/CML_explorer.c: fixed a typo

1999-10-31  Tor Lillqvist  <tml@iki.fi>

	* app/about_dialog.c (scroll_text): Add a couple of missing commas
	between names. Add UTF-8 versions of non-ASCII names for the new
	UTF-8 based Win32 GDK.

1999-10-30  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.c
	* app/undo_history.c: remove the remaining defines of
	GRAD_CHECK_SIZE and include libpicman/picmanlimits.h instead.

	* app/undo_history.c: connect to the image's "rename" signal to
	update the window title.

	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/info_window.[ch]: did the same for the info dialog.
	The info window has to remember the gdisplay to disconnect from
	the image's "rename" signal, so I removed the gdisplay parameter
	from the update functions. 

1999-10-30  Michael Natterer  <mitch@picman.org>

	* app/picmandnd.c: forgot to set "connected" flag after connecting
	to the dnd signals of a specific widget, so the dnd stuff
	connected to these signals for every dnd data type (resulting ie
	in multiple bucket fills when dropping a color/pattern to the
	canvas).

1999-10-30  Michael Natterer  <mitch@picman.org>

	* app/lc_dialog.c: removed the PicmanImage "destroy" callback
	because we already get notified of this event by connecting to the
	image context's "remove" signal.

1999-10-30  Michael Natterer  <mitch@picman.org>

	* app/ops_buttons.[ch]: added a private tooltip to the
	ops_buttons structure. Removed ops_buttons_set_insensitive().

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/paths_dialog.c
	* app/lc_dialog.c: let the ops button's private tips point at the
	already existing help pages. Minor fixes.

1999-10-30  Michael Natterer  <mitch@picman.org>

	* app/app_procs.c
	* app/commands.[ch]
	* app/interface.c
	* app/menus.c
	* app/session.c
	* app/tools.[ch]: namespace cleanups: changed the
	"tools_options_*" functions to "tool_options_*" and prefixed all
	dialog menu callbacks with "dialogs_*".
	Allow dropping a tool to the tool options dialog.

	* app/bezier_select.c: change the active tool using context
	functions.

	* app/dialog_handler.[ch]: replaced the uppercase datatype names
	by standard mixed upper/lowercase ones. Provide a function to
	register the fileload dialog instead of accessing it as global
	variable.

	* app/disp_callbacks.c: switch to the move tool using context
	functions. Fixed the drop color/pattern functions to convert the
	dropped thing to the dest. image's color space.

	* app/fileops.c: don't export the fileload dialog as global
	variable but register it with the dialog handler instead.

	* app/paths_dialog.[ch]: replaced all the uppercase struct names
	defined here by mixed upper/lowercase. Introduced a
	"set_menu_sensitivity" function like in layers/channels instead of
	calling single button on/off functions from various places.
	Added a menu entry for "Selection to Path".

1999-10-30  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/wmf.c: Fix a couple of bugs: Must call
	make_canvas if necessary when handling CreateFontIndirect. Must
	call gdk_gc_set_foreground with the pen colour when handling
	LineTo (strange that this hasn't showed up before). Added lots of
	debugging printouts (behind #ifdef DEBUG).

Sat Oct 30 10:14:35 BST 1999 Nick Lamb <njl195@zepler.org>

	* app/fileops.c: Fix #3179 (Revert uses wrong filename)

1999-10-29  Michael Natterer  <mitch@picman.org>

	* app/brush_select.c
	* app/gradient_select.c
	* app/pattern_select.c: call the PDB callback from the context
	callback because it gets called on every change.

	* app/interface.c: the tool buttons had the wrong private tooltips
	attached.

	* app/picmanhelp.c: call the help browser with plug_in_run() instead
	of procedural_db_execute() to make it really ansynchronous.
	Added a GtkTipsQuery tooltips inspector which gets invoked by
	<Shift>+F1. Did some illegal juggling with the tips_query's
	"parent" pointer which may cause problems, so I made the stuff
	disable-able with #ifdef's.
	Is there a proper way to create a tips_query widget without having
	to show it somewhere??

Thu Oct 28 23:22:34 BST 1999 Andy Thomas <alt@picman.org>

	* app/picmanimage.c

	Fixed memory leak with image is deleted.

	* plug-ins/common/jpeg.c

	Fixed the way the plugin added layers. Preview stuff does not now
	get corrupted.

1999-10-28  Michael Natterer  <mitch@picman.org>

	* app/Makefile.am
	* app/gradient_select.h
	* app/gradientP.h: new files. Put the function prototypes from
	gradient_header.h there and renamed them to match the naming
	scheme used elsewhere.

	* app/gradient.[ch]
	* app/gradient_cmds.c
	* app/gradient_header.h
	* app/gradient_select.c
	* app/gradient_select_cmds.c
	* tools/pdbgen/pdb/gradient.pdb
	* tools/pdbgen/pdb/gradient_select.pdb: separated the gradient
	editor and the selections (no more common variables used).
	Allocate own contexts for each gradient selection. Tweaked the
	code and function names to match the brush and pattern selection.
	Enabled dropping gradients to the editor and the selections.
	Renamed all public functions of the gradient editor (see above).

	* app/app_procs.c
	* app/commands.[ch]
	* app/menus.c
	* app/plug_in.c
	* app/session.c: changed according to the new gradient function
	names and includes.

	* app/brush_select.[ch]
	* app/pattern_select.[ch]: scroll to active brush/pattern if it's
	outside the preview area. Minor fixes/cleanups. Allow dropping a
	brush/pattern.

	* app/color_select.c: prefixed all enum constants with
	COLOR_SELECT_* due to a name clash with the new gradient header
	structure (HUE_SATURATION was defined in both places).

	* app/convert.[ch]
	* app/convert_cmds.c
	* tools/pdbgen/pdb/convert.pdb
	* app/palette.c
	* app/palette_entries.h
	* app/palette_select.[ch]: removed the special
	Palette[Entries|Entry]P pointer type.

	* app/devices.c: added gradients to the device status dialog.

	* app/disp_callbacks.[ch]
	* app/picmancontext.c
	* app/picmancontextpreview.[ch]
	* app/picmandnd.[ch]
	* app/indicator_area.c
	* app/interface.c: moved the whole tool/brush/pattern/gradient dnd
	stuff to picmandnd.[ch] and provide simple functions to connect dnd
	callbacks. All those types are passed as real (cross-application)
	GtkSelections now, so the app-side of picman<->plugin dnd is done.
	Added dnd for tools.

	* app/tools.[ch]: added a tooltip for all non-toolbox tools
	because the device status dialog displays tooltips for all tools.
	Use the ToolType enum instead of int in the ToolInfo structure.

	* libpicman/picmanlimits.h: put the size and color of the transparency
	checks here (rename the file to picmanconstants.h ??)

Thu Oct 28 11:45:29 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/datafiles.h: include <time.h>  for time_t.

Thu Oct 28 00:52:57 MEST 1999  Sven Neumann <sven@picman.org>

	* app/transform_core.c: remember the drawable we were working on
	instead of relying to picman_active_drawable ().
	This should fix bug #2381.

Thu Oct 28 00:13:56 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/bz2.c
	* plug-ins/common/gz.c
	* plug-ins/common/mail.c
	* plug-ins/common/screenshot.c
	* plug-ins/common/url.c: free the string returned by 
	picman_temp_name() 

Wed Oct 27 22:39:56 MEST 1999  Sven Neumann <sven@picman.org>

	* app/drawable_cmds.c
	* tools/pdbgen/pdb/drawable.pdb: The PDB procedures 
	picman_drawable_is_[layer|channel|channel_mask] were not renamed,
	but changed all over the place. This made the rotate plug-ins
	fail.

	* app/procedural_db.c: Spit out a warning if a procedure wasn't 
	found in the PDB. Actually free the hash_table entries on
	procedural_db_free().

Wed Oct 27 13:37:54 CEST 1999  Marc Lehmann <pcg@goof.com>

        * picman_parasite_find users where not updated to the new syntax
        everywhere.

Wed Oct 27 20:51:10 BST 1999 Andy Thomas <alt@picman.org>

	* app/lc_dialog.c
	* app/selection.c
	* app/color_area.c
	* app/paths_dialog.c
	* tools/pdbgen/pdb/gimage.pdb
	* app/gimage_cmds.c

	General memory leaks cleanups/fixes.

Wed Oct 27 13:05:09 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_range_ops.h: applied a patch from Wolfgang Hofer
	that adapts the GAP to the new picman_convert_indexed interface

Tue Oct 26 18:58:44 PDT 1999 Manish Singh <yosh@picman.org>

	* app/xcf.c: add "(PICMAN)" to the menu entry for XCF, in an attempt
	to make it clear that it is the native file format.

	* app/picmancontext.c: correct doubled arg name on arg type addition,
	which was messing up the internal gtkarg hashtable

Wed Oct 27 02:03:47 MEST 1999  Sven Neumann <sven@picman.org>

	* app/info_window.c
	* app/ops_buttons.c: cosmetic changes

	* pixmaps/*.xpm: cropped most of the icons to their minimum size,
	changed the dropper icon to be the same as the toolbox icon

1999-10-26  Michael Natterer  <mitch@picman.org>

	Put the active tool, brush, pattern and gradient to the context
	and use contexts in most places which have references to one of
	those. This is not _really_ a bugfix-only checkin but solves many
	inconsistencies esp. with the "refresh" functionality and fixes
	some SEGVs e.g. in the device status dialog.
	The UI view should now always be in sync with the internal data
	structures.
	Introduced a hardcoded brush, pattern and gradient, so "no_data"
	should actually work, too.

	New Files:
	* app/Makefile.am
	* app/paletteP.h: used by palette_select.c

	Removed Files:
	* app/actionarea.[ch]: now done by picmanui.[ch].

	Modified Files:
	* picmanrc.in: use brush and pattern name, not filename for the
	default settings.

	* app/picmancontext.[ch]: connect to brush and brushlist signals to
	keep the context up-to-date. Remember the name of the
	active brush/pattern/gradient to find them again after a
	refresh. Provide functions to refresh the pointers of all contexts
	after refreshing or deleting brushes/patterns/gradients.

	* app/context_manager.c: connect to the user context's
	"tool_changed" signal to call the tools_select() function. Update
	the colormap's fg/bg_pixel in "*_changed" callbacks, too.

	* app/tools.c: tool switching is now triggered by the user context.

	* app/app_procs.c: no need any more to call
	get_active_brush/... because the brush/pattern/... init functions
	refresh all contexts after loading the data. Slightly reordered the
	brush/pattern... init/free calls due to the new context stuff.

	* app/color_area.[ch]
	* app/indicator_area.[ch]: removed all update functions and
	connect to the user context instead.

	* app/picmanrc.c
	* app/devices.[ch]: allocate a private context for each device and
	removed the update function. Prepared for adding the BG color and
	a gradient to the device status.

	* app/picmanbrushgenerated.[ch]: new function
	picman_brush_generated_delete() to get rid of this in the brush
	selection dialog.

	* app/picmanbrushpipe.c
	* app/picmanbrushlist.[ch]: removed the "select", "get_active" and
	the brush select dialog functions, added a function to get the
	hardcoded standard brush, namespace cleanups.

	* app/brushes_cmds.c
	* tools/pdbgen/pdb/brushes.pdb: use the brush of the current context.

	* app/brush_select.[ch]
	* app/brush_select_cmds.c
	* tools/pdbgen/pdb/brush_select.pdb: allocate a context for brush
	selections which are not the main one. Append the main dialog to
	the list of dialogs. Factored out the preview redraw code to the
	scrollbar update callback. Enabled editing, deleting and
	refreshing brushes in all dialogs. Functions to freeze and thaw
	all dialogs on refresh. All dialogs are now always up-to-date by
	connecting to the brush list signals. Moved the create/free
	functions of the main brush selection to this files.

	* app/gradient.[ch]
	* app/gradient_cmds.c
	* tools/pdbgen/pdb/gradient.pdb: grad_get_color_at() now takes a
	gradient as parameter instead of using the current gradient of the
	gradient editor.

	* app/gradient_header.h
	* app/gradient_select.c
	* app/gradient_select_cmds.c
	* tools/pdbgen/pdb/gradient_select.pdb: updates like above.
	(The gradient stuff should really be split up into separate
	gradient, selection and editor files before 1.2)

	* app/palette.[ch]
	* app/palette_cmds.c
	* app/palette_entries.h
	* app/palette_select.[ch]
	* tools/pdbgen/pdb/palette.pdb: removed all the get/set fg/bg
	functions and the functions to update the import dialog. All
	changes in all dialogs are now immediately propagated to all the
	other dialogs on screen. Namespace cleanups. The active palette
	will soon go to the context as well.

	* app/pattern_select.[ch]
	* app/pattern_select_cmds.c
	* app/patterns.[ch]
	* app/patterns_cmds.c
	* tools/pdbgen/pdb/pattern_select.pdb
	* tools/pdbgen/pdb/patterns.pdb: exactly the same changes as for
	the brushlist and the brush selections (except the signal stuff).

	* app/[all files needing a brush/pattern/gradient or switching the
	       active tool]: use context functions.

	* app/convert.c: tweaked the ui to match the other dialogs.

	* app/picmanui.c
	* app/picmanui.h: new functions to create an action area without
	creating a dialog.

	* app/[all files using an info_dialog]: use the action_area
	constructor from picmanui.[ch].
	I also used some picmanui.c functions in various files which reduces
	code duplication and removes some gtk 1.0 artefacts.

	* app/[some files not related to the changes above]: While having
	all the stuff in my emacs I removed dozens of useless includes and
	did some indentation and cleanups (not changing any functionality).

Tue Oct 26 02:49:30 BST 1999 Nick Lamb <njl195@zepler.org>

	* plug-ins/common/pix.c: Doesn't actually have ALPHA, so
	change Export call appropriately.

Tue Oct 26 01:57:00 BST 1999 Nick Lamb <njl195@zepler.org>

        * plug-ins/common/xbm.c: Use gtk_initialized

Mon Oct 25 16:49:19 PDT 1999 Manish Singh <yosh@picman.org>

	* app/picmanimage.c: don't free the old filename pointer till we're
	all done, since we might be passed our own filename as a param
	and reference it after freeing. The code didn't heed it's own
	warning ;) (TigerT, this should fix that filename corruption bug)

1999-10-25  Tor Lillqvist  <tml@iki.fi>

	* app/cursorutil.h: Uncomment the inclusion of gdkcursor.h that
	should happen only with GTk+ 1.3, anyway? Why was it commented
	out?

	* app/tile_swap.c: Close before unlinking on Win32, too.

	* libpicman/picman.def: Updates, sorted.

	* plug-ins/makefile.{cygwin,msc}: Add the gap and imagemap
	plug-ins. Remove palette plug-in (what happened to it?).

	Portability fixes from Hans Breuer:
	
	* plug-ins/FractalExplorer/Dialogs.c
	* plug-ins/gap/*.c: 
	* plug-ins/picmanressionist/picmanressionist.c: 
	* plug-ins/common/spheredesigner.c: Ifdefify system-dependent includes.

	* plug-ins/common/psp.c: Remove an unused variable.

	* plug-ins/imagemap/{imap_csim.y,imap_csim_parse.c}: Use
	<string.h>, not <strings.h>.

	* plug-ins/imagemap/imap_rectangle.c (rectangle_near_sash): Use
	the & operator for function names to return pointers to them.

	* plug-ins/winsnap/winsnap.c (sendBMPToPicman):
	picman_drawable_flush() should be called before resizing the layer
	and image. Now the snapshot of a window is returned the correct
	size, it's not padded in width to a multiple of four pixels.

Mon Oct 25 18:31:30 CEST 1999  Sven Neumann <sven@picman.org>

        * pixmaps/raise.xpm
        * pixmaps/lower.xpm: Tigert, are you living upside down? 

Mon Oct 25 11:07:52 CEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/gif.c
	* plug-ins/common/tga.c: made the same stupid typo here too 

1999-10-25  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/raise.xpm
	* pixmaps/lower.xpm
	* pixmaps/new.xpm
	* pixmaps/duplicate.xpm: a bit of rework of the icons to 
	make them more consistent, I will also make a smaller and
	less eye-popping anchor icon soon.. (hi Sven) :)

Sun Oct 25 01:58:24 BST 1999 Nick Lamb <njl195@zepler.org>

	* plug-ins/common/tiff.c: Fix Sven's one-liner (Save now works!)

Sun Oct 24 14:58:25 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/picmancompat.h: added PICMAN_DISABLE_COMPAT_H test, and C++
	guards

	* tools/pdbgen/enumcode.pl
	* libpicman/picmanenums.h
	* libpicman/picmanexport.h: added C++ guards

Sun Oct 24 23:22:09 CEST 1999  Marc Lehmann <pcg@goof.com>

	* libpicman/picmancompat.h: New file.
        * libpicman/picman.h: Include it.
        * libpicman/Makefile.am: Add picmancompat.h.

Sun Oct 24 23:13:26 CEST 1999  Marc Lehmann <pcg@goof.com>

	* libpicman/picman.h: fixed indentation by special request of Sven.

Sun Oct 24 22:53:17 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/imagemap/* updated imagemap to version 1.3

Sun Oct 24 16:49:13 CEST 1999  Marc Lehmann <pcg@goof.com>

        * tools/pdbgen/pdb/drawable.pdb, all calls: fixed some improperly
        renamed pdb functions, most notably picman_drawable_color.

Sun Oct 24 22:10:16 MEST 1999  Sven Neumann <sven@picman.org>

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/lc_dialogP.h
	* app/paths_dialog.c: some cosmetic changes. The layers dialog now
	automatically scrolls to keep the active layer in view. This is 
	disabled in the channels dialog until I figure out why it doesn't
	work there.

Sun Oct 24 15:24:15 MEST 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmanexport.c: get rid of remaining (invisible) layers
	after merging visible layers

	* app/channel_ops.[ch]: applied a patch from Garry R. Osgood that seems
	to fix bugs #2261 and #2382 (crashes when using offset). 
	A few more changes made the dialog actually work...

	* app/ops_buttons.c: plugged a memleak I introduced yesterday

Sat Oct 23 22:26:59 MEST 1999  Sven Neumann <sven@picman.org>

	* app/channels_dialog.c
	* app/picmanui.c
	* app/layers_dialog.c
	* app/ops_buttons.c
	* app/paths_dialog.c: first approach at making the L&C-dialog smaller,
	nicer and more usable.

	* pixmaps/anchor.xpm: changed the anchor back to the old 1.0 one. This
	change is done only to test the new padding and to reflect the fact
	that we need to overwork the icons. I don't want this icon to stay!!

Fri Oct 22 18:29:14 PDT 1999 Manish Singh <yosh@picman.org>

	* app/procedural_db.c: db_lookup seems to be used pretty often as a
	sanity check, giving lots of spurious messages. Move the check to
	db_execute

Sat Oct 23 00:02:53 BST 1999 Andy Thomas <alt@picman.org>

	* app/procedural_db.c

	Error message output to error console if you atemp to call
	a PDB function that does not exists. Useful ito check if scripts/
	plugins fail for unknown reasons,

Fri Oct 22 15:56:15 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/parasite.pdb: sync the names with the last API
	patch

1999-10-23  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/wmf.c: Fix handling of ExtTextOut. We didn't
	handle the optional clipping rectangle, and got out of sync if
	there was a such. Ignore the inter-character spacing data as we
	don't have exactly same font metrics anyway. Some mostly cosmetic
	other changes.

Fri Oct 22 20:39:13 BST 1999 Andy Thomas <alt@picman.org>

	* app/text_tool.c

	Fixed the problem where the border values was been ignored.

Thu Oct 21 21:29:40 MEST 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmanexport.c: handle CAN_HANDLE_LAYERS_AS_ANIMATIONS 
	correctly
	
	* app/scan_convert.c: trivial optimizations

	* app/nav_window.c: applied the patch from Shuji Narazaki that makes
	the navigation window work with tablets. Fixed some rounding errors
	and stopped the flicker.

Thu Oct 21 14:35:05 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: cleaned up the widget 
	destruction and inserted a few sanity checks. Unfortunately this
	doesn't really solve our problems.

Thu Oct 21 02:08:36 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/xpm.c: fixed a stupid cut'n'paste error I've 
	introduced

Wed Oct 20 15:33:49 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/psp.c: make it compile

Wed Oct 20 23:08:31 BST 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c

	Now works correctly with non-square pixels. (dot-for-dot off
	and xres != yres).

Wed Oct 20 12:18:12 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/scripts/picman-headers.scm
	* plug-ins/script-fu/scripts/picman-labels.scm
	* plug-ins/script-fu/scripts/spinning_globe.scm: corrected these
	scripts (picman-convert-indexed and plug-in-map-object changed their 
	parameters). There's still something severly wrong with Script-Fu...

Wed Oct 20 03:42:08 MEST 1999  Sven Neumann <sven@picman.org>
	
	* plug-ins/common/Makefile.am
	* plug-ins/common/pix.c
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/png.c
	* plug-ins/common/psp.c
	* plug-ins/fits/Makefile.am
	* plug-ins/fits/fits.c
	* plug-ins/sgi/Makefile.am
	* plug-ins/sgi/sgi.c: made more save plug-ins export-aware.
	Hopefully I have converted them all now. If you find one that I 
	missed or experience any problems, please drop me a mail.

Tue Oct 19 17:56:29 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/bz2.c
	* plug-ins/common/gz.c: removed some spurious g_asserts, based on
	picman-narazaki-990928-0.patch

	* plug-ins/common/gpb.c: applied picman-narazaki-990925-0, so we
	don't refer to internal widget data

Tue Oct 19 16:47:40 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: add sk to ALL_LINGUAS, remove
	plug-ins/perl/config.status always at the start

	* tips/Makefile.am: add the ko tips file

Tue Oct 19 21:50:52 BST 1999 Andy Thomas <alt@picman.org>

	* app/layer.c

	Fixed rounding error in preview generating code that 
	produced dithering where no dithering should have been!

1999-10-19  Michael Natterer  <mitch@picman.org>

	* picmancontext.[ch]: changed the "parent context" implementation:

	- Automatically connect/disconnect the "*_changed" signals when
	  changing the parent and when setting the "defined" flag of the
	  attributes.
	- Store the former *_defined booleans in a single guint32.
	- Added generic functions to set the "defined" flags of the
	  attributes and to copy attributes between contexts.

	The contexts now correctly handle disappearing images and
	displays, so we don't have to explicitly reset them any more.

	* context_manager.[ch]: adopted to the changed context
	implementation, connect to the user context's "tool_changed"
	signal to switch the per-tool contexts, don't connect to the
	"removed" signal of the image context.

	* brush_select.c
	* tool_options.c: use LayerModeEffects instead of int when calling
	picman_context_set_paint_mode().

	* gdisplay.c: no need to reset the active display when deleting it
	because the context connects to the "destroy" signal of the shell
	now.

	* menus.c: a shortcut for the navigation window. Moved
	<Image>/Image/Colors/Desaturate before the separator.

	* tools.c: tools_select(): set the active tool of the user context
	instead of calling a special context manager function.

Thu Oct 19 05:57:10 BST 1999 Nick Lamb <njl195@zepler.org>

        * app/plug_in.h
        * app/plug_in.c
        * app/fileops.c

	Really fixed #2152 this time. Yosh asked me to rename *_OK as
	PLUG_IN_* so that's also changed this time.

Thu Oct 19 05:30:11 BST 1999 Nick Lamb <njl195@zepler.org>

	* app/plug_in.h
	* app/fileops.c
	* app/plug_in.c

	Fixed #2152 and as a side-effect discovered that RGB_IMAGE means
	something quite different for app vs plug-ins. The one in app is
	now called RGB_IMAGE_OK to differentiate them.

	* app/image_new.c: Still using RGB_IMAGE instead of GIMAGE (!)
	
Mon Oct 18 21:24:47 BST 1999 Andy Thomas <alt@picman.org>

	* app/bezier_select.c
	* app/edit_selection.c
	* app/flip_tool.c
	* app/gimage_mask.c
	* app/paths_dialog.c
	* app/paths_dialogP.h
	* app/undo.c
	* app/tools.h
	* app/tools.c

	1) Fixed some problems with the paths tool. Now the tool suboption
	"new point" is selected automatically when appropriate. Eg if you
	have the "add point" suboption selected and click  on a point
	not on the curve the "new point" option will become selected and the
	new point will be added.

	2) The "new point" option is defaulted to on when a new image is
	created	or a new image is selected from the image menu.

	3) Move and flip tool now effect the path if it is locked.

	4) Edit stroke now uses the currently selected tool as it should do 
	when stroking.

1999-10-17  Tomas Ogren  <stric@ing.umu.se>

	* plug-ins/common/compose.c
	* plug-ins/picmanressionist/picmanressionist.c
	* plug-ins/picmanressionist/preview.c
	* plug-ins/picmanressionist/presets.c
	* plug-ins/picmanressionist/repaint.c: i18n de-lamerism
	Using _(" OK ") etc gives the translators much extra work...

	* app/about_dialog.c: Fix my name

	* app/menus.c: Change order of resize and scale in L&C&P to match the
	normal image menu

	* po/sv.po: Update
	* po-plug-ins/sv.po: Update

Sun Oct 17 21:28:58 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/iscissors.c: long overdue fix for problem with overrunning
	    buffers in a couple of places.  Should now work with image
	    that are not an exact multiple of the tile size, and cope with
	    moving and adding control point before the curve is closed.
	    This may well fix a number of the bugs people have reported
	    on iscissors.  As of now, I know of no bugs in iscissors - if
	    you find one, I'm interested.

1999-10-17  Michael Natterer  <mitch@picman.org>

	* app/picmansignal.[ch]: new PicmanSignalType picman_sigtype_int_int_int.

	* app/picmancontext.[ch]: set/get colors as separate r/g/b values
	instead of a guchar[3] array.
	The "[foreground|background]_changed" signal handlers must have
	the following signature now:
	color_changed_callback (PicmanContext *, gint, gint, gint, gpointer).

1999-10-17  Michael Natterer  <mitch@picman.org>

	* app/picmancontext.[ch]: added the possibility to store the current
	tool, FG/BG color, brush, pattern and gradient, but don't use
	these attributes yet.

	Before replacing the get/set color/brush/... functions with
	context functions, I'll have to change the "parent context"
	implementation to something where the children catch the parent's
	color/brush/..._changed signals.
	Finally, updating the indicator_area, device_status, tool_options
	etc. will be done by connecting to their own context's "*_changed"
	signals, which will be much cleaner than calling the update
	functions from various places.

	(I think this is a "consistency fix", please let me know if you
	consider it a new feature).

Sun Oct 17 00:55:38 CEST 1999  Marc Lehmann <marc@picman.org>

        * (221 files): Corrected ~20 pdb function names by choosing the
        class/selector syntax over the various other syntaxes floating
        around. Maybe more to come before 1.2.

1999-10-16  Michael Natterer  <mitch@picman.org>

	* app/picmanrc.c: preview_size_to_str() uses the new set of preview
	sizes now.

1999-10-16  Michael Natterer  <mitch@picman.org>

	* app/menus.c: made the "Dialogs" sub-menus of <Toolbox>/File and
	<Image> consistent.

	* app/nav_window.c: wheelmouse support as in the gdisplay shell.

1999-10-16  Michael Natterer  <mitch@picman.org>

	* app/pattern_select.c: fixed a SEGV: The "refresh" callback
	should call select_pattern(), not pattern_select_select().

1999-10-16  Michael Natterer  <mitch@picman.org>

	* app/channels_dialog.c: applied picman-gosgood-991011-0.patch, so
	double-clicking on the channel widget pops up the attributes
	dialog again. Thanks for the very detailled documentation of the
	bug (which I tried to fix at totally different places before ;-)

Sat Oct 16 05:48:44 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c: use picman_message where appropriate

Thu Oct 14 13:31:59 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/sunras.c	
	* plug-ins/common/xwd.c: changed a few changes I made yesterday...

Thu Oct 14 04:59:11 BST 1999 Nick Lamb <njl195@zepler.org>

	* app/preferences_dialog.c: Recalculate size of ctree in the
	preferences dialog after adding all the categories.
	This is the real fix for #2508.

Thu Oct 14 04:08:31 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/pnm.c
	* plug-ins/common/sunras.c
	* plug-ins/common/xbm.c
	* plug-ins/common/xwd.c: a step further down on the road to make
	all save plug-ins export-aware

Thu Oct 14 01:00:03 MEST 1999  Sven Neumann <sven@picman.org>

	* app/gdisplay.c
	* app/gimage.c
	* app/picmanimage.c
	* app/guides_cmds.c
	* app/move.c
	* app/undo.c
	* app/undo_types.h
	* app/xcf.c
	* tools/pdbgen/pdb/guides.pdb: a whole lotta guide fixes:
	Guides are now freed on image close; undo should work in all
	cases; resize and scale use undo_groups so all operations are
	undoable in one step; some display probs fixed.

	* plug-ins/common/rotate.c: when rotating an image, rotate 
	the guides too.

	This should fix bug #2608. 

Wed Oct 13 21:37:51 BST 1999 Andy Thomas <alt@picman.org>

	* app/crop.c
	* app/scan_convert.c

	Fixes to memory problems (use of freed memory references) found
	by running with dmalloc. 

	* app/paths_dialog.c 

	Locking of multiple paths are now displayed correctly in the
	transform tool.
	
Mon Oct 11 02:45:06 BST 1999 Nick Lamb <njl195@zepler.org>

	* plug-ins/common/psp.c: Saving is not implemented, so never add
	PSP to the list of available Save formats

Mon Oct 11 23:50:50 PDT 1999 Manish Singh <yosh@picman.org>

	[both these are from patches by SHIRASAKI Yasuhiro]

	* app/menus.c: tearoff i18n patch

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap/Makefile.am
	* plug-ins/AlienMap2/AlienMap.c
	* plug-ins/AlienMap2/Makefile.am: misc i18n fixes
	
1999-10-12  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/winsnap/winsnap.c: Don't resize layer, it causes image
	corrruption! (bug in layer_resize?) Slight cosmetic changes.

1999-10-11  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/unsharp/dialog_i.c (dialog_ientry_update): removed a
	debugging fprintf

Mon Oct 11 02:45:06 BST 1999 Nick Lamb <njl195@zepler.org>

	* app/preferences_dialog.c:
	There are scrollable widgets in this dialog
	=> GUI 101 - it should be resizable (grow only)

Sat Oct  9 22:23:52 MEST 1999  Sven Neumann <sven@picman.org>

	* app/by_color_select.c:
	applied a patch from Sam Phillips <sam@usaworks.com> that enables
	color dnd to the by_color_select dialog

	* app/devices.c
	* app/disp_callbacks.c
	* app/picmancontextpreview.c
	* app/indicator_area.c
	* app/interface.c: changed the dnd of the context_preview to follow
	the more generic style of the other dnd types. Now widgets that are
	not themselves context_previews can accept dragged brushes, patterns
	and gradients. The image displays now accepts pattern drags.

Sat Oct  9 14:58:08 EDT 1999 Adrian Likins <adrian@picman.org>

        * app/about_dialog.c: added some more folks
        * picman.1: updated the list of contributors, and
        a few other misc updates.

Sat Oct  9 21:03:08 *EST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/gicon.c
	* plug-ins/common/header.c
	* plug-ins/common/hrz.c
	* plug-ins/common/pat.c
	* plug-ins/common/pcx.c
	* plug-ins/common/plugin-defs.pl: more file plug-ins that make use 
	of the export functionality

Sat Oct  9 15:34:12 MEST 1999  Sven Neumann <sven@picman.org>

	* picmanrc.5.in
	* picmanrc.in
	* app/picmanrc.c
	* app/preferences_dialog.c: changed the preview_size settings to be
	a bit more finegrained.

Fri Oct  8 18:29:56 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/film.c: applied picman-kirchgessner-991009-0, allow
	image ids == 0 and i18n

	* app/picman.gh
	* app/colormap_dialog.gc: sync with changes

Sat Oct  9 02:59:04 MEST 1999  Sven Neumann <sven@picman.org>

	* app/undo_history.c: use the preview_size set for the layers dialog
	in preferences -- the size is set at dialog creation time and will
	not be changed

Sat Oct  9 02:04:49 MEST 1999  Sven Neumann <sven@picman.org>

	* app/undo_history.c: catch another case where a new preview should
	be drawn

	* libpicman/picmanexport.[ch]: add NEED_ALPHA since gpb and gih need it

	* plug-ins/common/aa.c: fixed my last change
	
	* plug-ins/common/gpb.c: use the new NEED_ALPHA so picman_export_image 
	prepares the images correctly

Fri Oct  8 15:04:45 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/picmanintl.h
	* libpicman/stdplugins-intl.h: use G_STMT_START and G_STMT_END for
	multiline #defines

	* plug-ins/AlienMap/AlienMap.c
	* plug-ins/AlienMap/AlienMap2.c
	* tips/picman_conseils.fr.txt: i18n stuff from David Monniaux

Fri Oct  8 22:00:00 MEST 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmanfeatures.h.in: #define PICMAN_HAVE_EXPORT so that authors
	of save plug-ins can check if picman_export_image is available

	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am
	* plug-ins/common/aa.c
	* plug-ins/common/csource.c
	* plug-ins/common/gbr.c
	* plug-ins/common/gpb.c: more file plug-ins that make use of the export
	functionality

	* plug-ins/common/jpeg.c: set the filename of the export preview so
	the user has a chance to realize what happens

Fri Oct  8 18:46:43 MEST 1999  Sven Neumann <sven@picman.org>

	* app/undo_history.c: fixed scrolling to currently selected row
	and added preview images. 

Fri Oct  8 12:16:05 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/vpropagate.c: don't redefine RGB and GRAY here.
	Cleaned up the code a little while I was on it.

1999-10-6  Simon Budig  <Simon.Budig@unix-ag.org>
	
	* app/path_tool.h
	* app/path_tool.c
	* app/path_toolP.h
	* app/path_curves.h
	* app/path_curves.c
	* app/path_bezier.h
	* app/path_bezer.c
	
	The Path Tool now implements real bezier curves. Some of the tool
	is still a little buggy, but the basic functionality is there.
	Special features: Click on the curve to modify the curve directly
	without adding anchors. 
	Clicking on the canvas with more than one anchors active or one
	anchor in the middle of the curve active, deactivates all anchors, 
	clicking on the canvas with one anchor at an endpoint of an curve
	active continues the curve, clicking on the Canvas without active
	anchors start a new curve.
	Shiftclick on an anchor toggles the activity of this anchor.
	Shift-Doubleclick on an anchor makes the whole curve active or
	inactive.
	
	API for other curve-types still not stable - sorry, but there are 
	some points I have to sort out.

1999-10-07  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/common/autocrop.c (colors_equal): little hack so that
  	  all colors with alpha == 0 compare equal

1999-10-3  Simon Budig  <Simon.Budig@unix-ag.org>  

	* app/path_tool.h     
        * app/path_tool.c
        * app/path_toolP.h
        * app/path_curves.h
        * app/path_curves.c
        * app/path_bezier.h
        * app/path_bezer.c 
 
        Minor cleanup in the Api (adding init/cleanup functions for the
        curve-type-specific data, extending the on_handler function to
        return a handler ID, so the tool-core can tell path_curve_drag_handle
        which handle gets dragged around)  

        Indentation madness - This must be some kind of infective: Too long
        together with Sven and Mitch :-)                


Wed Oct  6 23:29:53 BST 1999 Andy Thomas <alt@picman.org>

	* app/palette.c

	Another attemp at fixing the palette dialog.
	The number of columns are now fixed at sixteen (which 
	means the nicely layed out palettes will be OK).
	Expanding the dialog causes the width of the cells to change
	where as the +/- buttons cause the height of the cells to change.	

Wed Oct  6 15:02:45 PDT 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.10 release

Wed Oct  6 14:24:46 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/picman.c
	* app/module_db.c
	* app/plug_in.c: s/G_HAVE_CYGWIN/G_WITH_CYGWIN/

1999-10-06  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/gpb.c: Fix the file_gih_save RUN_WITH_LAST_VALS
	case, initialise pixpipe parameters from the parasite (Hi, Adrian!).

	* plug-ins/script-fu/interp_slib.c: Fix preprocessor syntax error.

	* app/makefile.{cygwin,msc} libpicman/makefile.{cygwin,msc}: Add new
	object files.

	* libpicman/picman.def libpicman/picmanui.def: Add new entry points.

	* modules/makefile.{cygwin,msc}: Add -I path to the common gdk
	directory.

Tue Oct  5 14:02:07 EDT 1999  Austin Donnelly  <austin@picman.org>

	* app/iscissors.c: all-singing, all-dancing iscissors.  Now
	    scan converts so you can actually select stuff.  Doesn't leak
	    tiles either.  Still have a problem with occasional segfault
	    and CRITICAL assertion failing on addition of anchor when
	    curve not closed.
	* app/scan_convert.c: add connecting link between blocks of points
	    so we actually have a closed polygon.
	* app/tool_options.c: iscissors has just the standard feather and
	    antialias options now.

Mon Oct  4 19:13:39 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/color_display.h
	* app/gdisplay.c: add bpl param for convert func

	* gdisplay_color.c: guard against head and tail cases in reorders

	* app/gdisplay_color_ui.c: expose_full on all actions, so there is
	immediate feedback. Check for no selection and do nothing on actions

	* app/path_tool.c: #warning is not portable; change to /* XXX: */

	* modules/cdisplay_gamma.c: make it so it actually works properly

Mon Oct  4 21:09:20 1999  Tim Janik  <timj@gtk.org>

	* plug-ins/common/csource.c: minor cleanups. fixed up alpha channel
	elimination for RGBA_IMAGE && !config->alpha configuration.
	added option to save data with 1Byte Run Length Encoding, in this
	case the outputted source contains a macro (15 lines), implementing
	an RLE decoder for RGB or RGBA buffers.
	RLE gains us a size decrease of ca. 50% for average images, while
	decoding speed amounts to a few invokations of memcpy().

Mon Oct  4 12:16:44 PDT 1999 Manish Singh <yosh@picman.org>

	* app/app_procs.c
	* app/appenv.h
	* app/batch.c
	* app/datafiles.c
	* app/errorconsole.c
	* app/errors.c
	* app/fileops.[ch]
	* app/general.c
	* app/picmanrc.c
	* app/install.c
	* app/main.c
	* app/module_db.c
	* app/plug_in.[ch]
	* app/temp_buf.c
	* app/tile_swap.c
	* libpicman/picman.[ch]
	* libpicman/picmanenv.c
	* libpicman/picmanfileselection.c
	* libpicman/picmanwire.c
	* libpicman/parasite.c
	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/common/gbr.c
	* plug-ins/common/gz.c
	* plug-ins/common/hrz.c
	* plug-ins/common/pat.c
	* plug-ins/common/pnm.c
	* plug-ins/common/ps.c
	* plug-ins/faxg3/faxg3.c
	* plug-ins/gap/gap_lib.h
	* plug-ins/gfig/gfig.c
	* plug-ins/picmanressionist/picmanressionist.c
	* plug-ins/script-fu/interp_slib.c
	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c
	* tools/gcg/gcg.c: use G_OS_WIN32 and G_HAVE_CYGWIN #defines

	* app/app_procs.c
	* app/gdisplay_color.[ch]
	* app/gdisplay_color_ui.c: make the ui usable

	* app/gdisplay.c: enable cdisplay support

	* modules/Makefile.am
	* modules/cdisplay_gamma.c: moved gamma functionality to separate lib

Mon Oct  4 19:02:08 CEST 1999 Olof S Kylander <olof@picman.org>

	* Makefile.am fix of a typo

1999-10-04  Michael Natterer  <mitch@picman.org>

	* app/undo_history.c: made it a bit bigger and sprinkled some
	pixmaps.

Mon Oct  4 17:46:50 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/parse_picmanrc.c (show_picmanrc_funcs_tab): Display
	ParseFunc table.

1999-10-04  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* app/tile_swap.c (tile_swap_default_out): don't update a tile's
	swap file position until the tile's actually been successfully
	written out

	* app/tile_cache.c (tile_cache_zorch_next): add test to make sure
	tile was successfully swapped out before dropping it from the
	cache

1999-10-04  Sven Neumann <sven@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c: set the title when the
	current page is changed from outside

	* libpicman/picmanexport.c: if there aren't any changes needed,
	the fall through should be to ignore the export and continue

1999-10-04  Michael Natterer  <mitch@picman.org>

	* app/brush_edit.c: name fix.

1999-10-04  Michael Natterer  <mitch@picman.org>

	* app/channels_dialog.c
	* app/docindexif.c
	* app/fileops.c
	* app/gdisplay_color_ui.c
	* app/picmanhelp.c
	* app/gradient.c
	* app/interface.c
	* app/lc_dialog.c
	* app/menus.c
	* app/palette.c
	* app/paths_dialog.c
	* app/preferences_dialog.c
	* app/resize.c
	* app/tips_dialog.c
	* app/undo_history.c: many small help system fixes.

	* help/*
	* configure.in: _LOTS_ of new files + Makefiles. Enjoy ;-)

	* help/ChangeLog: new file. Please read it.

Mon Oct  4 09:00:51 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/common/gz.c (load_image): BUG loading gz files
	for the OS/2 version fixed.

Sun Oct  3 23:47:15 PDT 1999 Manish Singh <yosh@picman.org>

	* app/Makefile.am: add scan_convert.[ch]

Mon Oct  4 01:46:46 EDT 1999  Austin Donnelly  <austin@picman.org>
   
	NEW FILES:
	* app/scan_convert.c
	* app/scan_convert.h: common code from free_select.c and
	bezier_select.c

	MODIFIED FILES:
	* app/disp_callbacks.c: Fix for bug #2517 - dragging colour swatch
	to image with no layers causes segfault.  Something is
	repainting empty images as white rather than chequerboard as
	well, which still needs fixing.

	* app/free_select.c: move code out to scan_convert.c
	* app/free_select.h: use ScanConvertPoint not FreeSelectPoint
	* tools/pdbgen/pdb/tools.pdb: ScanConvertPoint again
	* app/tools_cmds.c: generated version of above.

Sun Oct  3 23:35:20 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/picmanexport.c: if there aren't any changes needed,
	the fall through should succeed

Sun Oct  3 19:21:00 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/helpbrowser/Makefile.am: auto* stuff for helpbrowser

1999-10-04 Olof S Kylander <olof@picman.org>

	* app/color_cmds.c
	
	removed the bug fix for 2306 and 2208
	It is autogen code so ...

1999-10-04  Sven Neumann <sven@picman.org>

	* app/tool_options.c: fixed bug #2511

1999-10-04 Olof S Kylander <olof@picman.org>

	* app/color_cmds.c

	fixed bug report 2306 and 2208

1999-10-04  Sven Neumann <sven@picman.org>

	* app/tool_options.c: backed out a change from last weekend that was
	never supposed to get into CVS

	* libpicman/picmanexport.[ch]: added a third button.
	Now "Export" performs the conversion, "Ignore" skips it and continues 
	and "Cancel" cancels the save.

	* plug-ins/bmp/bmp.c
	* plug-ins/common/gif.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/png.c
	* plug-ins/common/ps.c
	* plug-ins/common/tiff.c 
	* plug-ins/print/print.c: sync with the new interface.

	* plug-ins/common/Makefile.am 
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/tga.c
	* plug-ins/common/xpm.c: two more save plug-ins that know about export.

	* plug-ins/script-fu/script-fu.c: include script-fu-constants.h

1999-10-03 Olof S Kylander <olof@frozenriver.com>
	
	* app/airbrush_blob.c
	* app/xinput_airbrush.c

	A bit better airbrush. It is still ugly but it now
	looks like airbrush. This is a tool for Wacom 
	tables it is no use to use it with a mouse.

1999-10-03  Sven Neumann <sven@picman.org>

	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am: 
	the Makefile.am is autogenerated of course...

1999-10-3  Simon Budig  <Simon.Budig@unix-ag.org>

	* app/path_tool.h
	* app/path_tool.c
	* app/path_toolP.h
	* app/path_curves.h
	* app/path_curves.c
	* app/path_bezier.h
	* app/path_bezer.c

	Lots of stuff for the bezier-tool which will be also used for the
	interface for the intelligent scissors. I started to factor out the
	formulas for the actual curve type, so it is some kind of independent.
	To try this out simply change the "#if 0" in app/path_curve.c to
	a "#if 1" to handle straight lines instead of strange beziers with
	fixed handles :-)
	The functions in app/path_curves.c implement some kind of
	default-action, where useful. To implement a new curve-type it
	should be sufficient to overload the path_curve_get_point()
   	function. Of course, then the speed is not as performant... :-)

	The API for other types is not yet completely fixed, esp. I'm not
	clear about when to give a Tool* or PathTool* as a parameter.
	But it shows the way I want to implement this. In the next step
	I'll fill the stubs in app/path_bezier.c.

	New handling functions: The Tool detects, when you are over an curve
	and lets you split it there by shift clicking.

1999-10-03  Sven Neumann <sven@picman.org>

	* app/channel_ops.c: copy resolution and unit information when 
	duplicating an image

	* libpicman/picmanimage.c
	* libpicman/picman.h: some wrappers for PDB functions

	* libpicman/picmanexport.[ch]: new files
	This fixes a longstanding bug and the MostFAQ: When saving a file,
	the file-save plug-ins can use picman_export_image() to get the file
	converted to a format they can handle. The conversion is performed
	on a duplicate of the image; the original image stays as is.

	* libpicman/Makefile.am
	* libpicman/picmanui.h
	* po/POTFILES.in: integrate the new files

	* plug-ins/bmp/Makefile.am
	* plug-ins/bmp/bmp.c
	* plug-ins/bmp/bmpwrite.c
	* plug-ins/common/Makefile.am
	* plug-ins/common/gif.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/png.c
	* plug-ins/common/ps.c
	* plug-ins/common/tiff.c
	* plug-ins/print/Makefile.am
	* plug-ins/print/print.c: Use the new export functionality. The other 
	save plug-ins will follow...

1999-10-03  Michael Natterer  <mitch@picman.org>

	* app/fileops.c
	* app/menus.[ch]
	* app/plug_in.c: show a help page for all menu entries registered
	by plugins.
	Changed menus_create() to menus_create_item_from_full_path() which
	takes a single PicmanItemFactoryEntry instead of an array as
	parameter.

1999-10-03  Michael Natterer  <mitch@picman.org>

	The PICMAN Help System part II: press "F1" while browsing a menu
	to show the help page for the menu entry you're currently over
	with the mouse.

	* app/color_notebook.c: all color selectors have to register with
	a help page now.

	* app/color_select.[ch]: register with a help string. Removed
	the dialog part of the files because it's use was deprecated
	anyway (use color notebooks instead).

	* app/colormap_dialog.i.c
	* app/colormap_dialog.p.h
	* app/palette.c
	* app/palette_select.c: use a color notebook instead of a color
	selector.

	* app/picmanhelp.c
	* app/picmanui.c: minor changes.

	* app/picmanrc.c: "use help" defaults to TRUE now.

	* app/lc_dialog.c
	* app/lc_dialogP.h: a special help function which shows the help
	for the currently selected notebook page.

	* app/menus.c: some weird code which catches "key_press_event"
	in all menu shells and pops up the corresp. help page for the
	selected item. Embedded the GtkItemFactoryEntry in a new
	PicmanItemFactoryEntry to allow a help path to be stored.
	Will be partially exported and moved to picmanhelp.[ch] later to
	catch key_press for plug-in menu items (don't try this now ;-)
	Renamed "Channel Ops" under <Image>/Image to "Channels" and moved
	some entries to more useful places.

	* app/app_procs.c
	* app/brush_edit.c
	* app/brush_select.c
	* app/channel_ops.c
	* app/channels_dialog.c
	* app/commands.c
	* app/convert.c
	* app/devices.c
	* app/file_new_dialog.c
	* app/fileops.c
	* app/gdisplay.c
	* app/gdisplay_color.c
	* app/gdisplay_color_ui.c
	* app/gdisplay_ops.c
	* app/global_edit.c
	* app/gradient.c
	* app/gradient_select.c
	* app/interface.c
	* app/layers_dialog.c
	* app/module_db.c
	* app/paths_dialog.c
	* app/pattern_select.c
	* app/preferences_dialog.c
	* app/qmask.c
	* app/resize.c
	* app/undo_history.c: changed all dialog constructors to point
	to the right place in the new help file structure.

	* configure.in
	* help/*: the basic new help file structure.

	* libpicman/color_selector.h: reqire a help page in the register
	function prototype.
	
	* modules/colorsel_gtk.c
	* modules/colorsel_triangle.c
	* modules/colorsel_water.c: register a help page.

	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c: changed the menu path.

	* plug-ins/helpbrowser/helpbrowser.c: load the help files
	according to the new help file structure.

1999-10-03  Tor Lillqvist  <tml@iki.fi>

	* app/cursorutil.h app/session.c app/text_tool.c: Change the
	GDK_WINDOWING_* stuff to be buildable with current CVS gtk+ (not
	recommended for X11, but necessary for Win32).

	* libpicman/picman.c: Undef RGB from <windows.h> on Win32.

	* app/makefile.{cygwin,msc} libpicman/makefile.{cygwin,msc} *
	plug-ins/makefile.{cygwin,msc}: Add new files. Small changes for
	current gtk+.

	* plug-ins/common/animationplay.c: Win32 kludges.

Mon Sep 20 18:58:38 BST 1999 Nick Lamb <njl195@zepler.org>

	* plug-ins/common/png.c: Now PNGs with colormaps and tRNS
	(ie transparency info) load properly. Still convert to RGB for
	the best results. Save support is TODO

Sat Oct  2 14:36:21 1999  Tim Janik  <timj@gtk.org>

	* plug-ins/common/csource.c: removed cruft (old test code)
	(run): commented config structure initialization.
	(save_image): put only the file's basename into the C comment.
	feature saving of macros instead of a plain structure, so the
	data can be used for third party structure initialization.

1999-10-01  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* po/it.po po-plug-ins/it.po plug-ins/perl/po/it.po
	tips/picman_tips.it.txt: Update for the it locale from Daniele Medri 
	<madrid@linux.it>

Fri Oct  1 19:05:04 EDT 1999  Austin Donnelly  <austin@picman.org>

	* app/picmanimage.c: Factored out common code from 
	    picman_image_{raise,lower}_layer and
	    picman_image_{raise_layer_to_top,lower_layer_to_bottom}.  They
	    now call picman_image_position_layer() to do the real work.
	* app/picmanimage.h: picman_image_position_layer() takes extra arg to
	    tell whether an undo should be pushed.
	* app/layers_dialog.c: reposition layer with undo.
	* app/undo.c: new undo type for layer reposition.  Layer rename
	    shouldn't dirty and clean the image twice!
	* app/undo.h: prototype for undo_push_layer_reposition().
	* app/undo_types.h: LAYER_REPOSITION_UNDO type.

Fri Oct  1 15:18:34 EDT 1999  Austin Donnelly  <austin@picman.org>

	* app/channel.h: don't want sub-undo type
	* app/picmanimage.c: undo_push_channel() takes ADD or REMOVE type
	* app/undo.c: undo_push_channel() takes type.  More specific
	    CHANNEL_{ADD,REMOVE}_UNDO types.
	* app/undo.h: undo_push_channel() prototype.
	* app/undo_types.h: More specific CHANNEL_{ADD,REMOVE}_UNDO types.

Fri Oct  1 12:46:12 EDT 1999  Austin Donnelly  <austin@picman.org>

	* picmanrc.in: comment typo fix, plus add %D* to default
	    image-title-format string, so people get a '*' in the titlebar
	    if their image is dirty.
	* app/fileops.c: initialise filename before using it.
	* app/gdisplay.c: empty parameter list () is K&R - should be
	    stronger (void) in ANSI C.
	* app/picmandrawable.c: picman_drawable_{dirty,clean} functions
	    removed - no one uses them anyway.  Parasite undo type is
	    proper parasite undo type, not MISC_UNDO.
	* app/picmandrawableP.h: drawable dirty bit removed.
	* app/picmanimage.c: don't change the resolution if there's no
	    difference from the old one.  Call gdisplay_shrink_wrap() to
	    re-calculate scale factors and refresh the display on
	    resolution change.  Layer undo doesn't have sub-types
	    anymore, uses main UndoType instead.
	* app/layer.h: Remove LayerUndoType
	* app/qmask.c: fix qmask undo so it actually works.
	* app/undo.h: new types for undo_push_layer{,_mask} and
	    undo_push_qmask.
	* app/undo.c: change way group boundaries are represented:
	    each Undo has a group_boundary boolean set to TRUE if this is
	    the start or the end of a group, and the type of the Undo is
	    the group's type.  Within a group, each Undo keeps its own
	    type.  This allows pop funcs and free funcs to do
	    type-specific things (eg needed by layer and channel stuff).
	    Don't maintain per-drawable dirty flags anymore.   Floating
	    sel to layer and layer rename now uses meaningful undo types.
	* app/undo_types.h: more specific undo types:
	    LAYER_{ADD,REMOVE}_UNDO, LAYER_MASK_{ADD,REMOVE}_UNDO,
	    LAYER_RENAME_UNDO, and PARASITE_{ATTACH,DETACH}_UNDO.
	* app/undo_history.c: oops - undo stack was being placed into gtk
	    list in wrong order.
	* app/edit_selection.c: push more descriptive LAYER_DISPLACE_UNDO
	    rather than MISC_UNDO.
	* app/layers_dialog.c: better tagging of undo types

Fri Oct  1 17:14:51 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/parse_picmanrc.c: Add parameters options.

1999-09-30  Zach Beane  <xach@mint.net>

	* plug-ins/script-fu/scripts/coolmetal-logo.scm: Reverted the
	picman-flip change I made that managed to be exactly wrong.

Thu Sep 30 23:06:47 BST 1999 Andy Thomas <alt@picman.org>

	* app/paintbrush.c

	Fixed problem with stroking with the paintbrush tool.
	Stroking paths with fade/gradients now works again.
	
1999-09-30  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/wmf.c (load_image): Better workaround for GDK
	bug (gdk_image_get() sets the bpp field to bits-per-pixel instead
	of bytes-per-pixel).

1999-09-30  Michael Natterer  <mitch@picman.org>

	* app/colormap_dialog.i.c: "F1" for the indexed palette dialog.

1999-09-30  Michael Natterer  <mitch@picman.org>

	* app/gradient.c: made the indentation consistent.

Wed Sep 29 22:48:01 BST 1999 Adam D. Moss <adam@picman.org>

	* app/picmanbrushpipe.c: very minor fix.

Wed Sep 29 21:56:52 BST 1999 Andy Thomas <alt@picman.org>

	* app/colourmap_dialog.i.c
	* app/gdisplay_ops.c
	* app/palette.c

	1) Index palette dialog now registered so it gets hidden/shown when
	the "TAB key" is pressed in the canvas window.

	2) When the index palette is modified the changes are now shown
	immediately in all views.

	3) DND now works in the index palette.

	4) OK button when modifying a colour in the index palette 
	dismisses the dialog correctly.
	
	5) DND in the colour palette viewer does not crash when no colours
	are selected.

	6) Corrected a problem with "New View". If your canvas is zoomed in
	and the image is offset in the display and a new view is requested
	the Canvas in the new view is corrupted. This bug is also in
	picman 1.0.x 
	
1999-09-29  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/iwarp.c: Back out my change of 1999-09-14. It
	changed the semantics of the code, the deform_area_vectors array,
	and the two sequential loops in iwarp_deform() are really needed.
	Sorry. Thanks to Garry R. Osgood for analysing this.

Wed Sep 29 18:40:17 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmanimage.c
	* app/undo.[ch]
	* app/undo_types.h: undo for resolution and unit changes. 
	Fixes bug #2434

Wed Sep 29 16:31:04 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/helpbrowser/helpbrowser.c: you can now drag the pages
	from the helpbrowser to Netscape, error messages are more verbose 
	and a history bug was fixed

	* help/contents.html
	* help/index.html: explain that these pages are bogus

Wed Sep 29 13:34:26 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gap: updated iterator procedure for paper_tile

Tue Sep 28 20:54:45 CDT 1999 James Mitchell <mitchell@picman.org>

	* plug-ins/perl/po/it.po: Added from Daniele Medri <madrid@linux.it>
	240 translated messages, 10 untranslated messages.

Tue Sep 28 16:53:43 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/picmanrc.c (parse_absolute_picmanrc_file): Move the good code
	from parse_picmanrc_file() into the new function called
	parse_absolute_picmanrc_file(). 
	This new function is tested with parse_picmanrc.
	* app/unittest/parse_picmanrc.c : remove unused code.	
	* app/unittest/Makefile.am: Add ../picmanui.o ../picmanhelp.o

Mon Sep 27 15:07:03 PDT 1999 Manish Singh <yosh@picman.org>

	* app/main.c: revert that last set_locale change, it was bogus

	* app/gdisplay.c: don't update menu sensitivities when flushing
	immediately, so that painting isn't slowed by it

1999-09-27  Michael Natterer  <mitch@picman.org>

	* app/Makefile.am
	* app/picmanhelp.[ch]
	* app/picmanui.[ch]: new files

	* app/interface.[ch]
	* app/preferences_dialog.[ch]

	The PICMAN Help System part 1: Press "F1" in any dialog to pop up
	the help page for this dialog.

	Moved the widget constructors from preferences_dialog.[ch] and the
	query boxes from interface.[ch] to picmanui.[ch].

	The dialog constructors take a help_func and a help_data
	parameter and install the "F1" accelerator which emits the new
	"help" signal.

	The "help" signal callback calls help_func(help_data) which finally
	has to call picman_help() which in turn invokes the help browser.

	Still have to find a proper way to (1) prevent "F1" being assigned
	to some menu item and (2) to catch "F1" while browsing the menu
	trees in order to pop up the help for the selected item.

	* app/menus.c: a <Toolbox>/File/Help... menu item.
	* app/commands.[ch]: a command callback for the "Help..." menu item.

	* app/picmanrc.[ch]: new boolean picmanrc variable "use_help".

	* app/info_dialog.[ch]: pass a help function and data to the info
	dialog constructor.

	* app/tools.[ch]: store the tools help page names in the tool info
	structure. Export a special tools_help_func() which shows the help
	page for the active tool.

	* app/[all files calling a dialog constructor]: pass the dialog's
	help page to the constructor.

	Most dialogs are now created by picman_dialog_new() which also sets
	up the action_area and the WM delete event callback, so I removed
	the resp. code from these files.

	Fixed some minor bugs and did some other stuff but didn't change
	any logic except dialog creation.

	* plug-ins/helpbrowser/helpbrowser.c: don't try to call a running
	help browser and don't install any menu path (all done in
	app/picmanhelp.[ch] now).

Mon Sep 27 17:13:48 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/picmanparse.c (global_parse_init): 
	Use parse_add_directory_tokens().

	* app/unittest/parse_picmanrc.c: comment out 
	parse_add_directory_tokens(). Test  parse_picmanrc() with argc != 1.

	* app/picmanrc.c (parse_add_directory_tokens): Add this init function
	to add directoy tokens. Code taken from parse_picmanrc ().
	No logic changed, but parse_picmanrc () is cleaner.
 	Changes tested by unittest program parse_picmanrc.

1999-09-26  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/common/mblur.c (mblur): fixed a stupid typo

Sun Sep 26 23:12:45 MEST 1999  Sven Neumann <sven@picman.org>

	* app/brush_select.[ch]: Introduced a small margin around the
	brushes, so the rectangle that shows which brush is selected isn't
	drawn over the brush.
	Animate brushpipes in the popup.

	* picmancontextpreview.c: fixed some off-by-one errors.

Sun Sep 26 13:31:21 MEST 1999  Jens Lautenbacher <jens@tellux.de>
                               Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.c: only queue the widget_draw in the pipe 
	popup

Sun Sep 26 10:56:26 BST 1999 Adam D. Moss <adam@picman.org>

	* app/plug-in.c: Fix bizarre typo and clean up a switch.

Sat Sep 25 22:09:30 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: version number bump

	* app/unittest/Makefile.am: commented out unused var targets to
	
	quell warnings

	* libpicman/stdplugins-intl.h: fix include guard

	* plug-ins/common/animoptimize.c
	* plug-ins/common/lic.c
	* plug-ins/common/warp.c
	* plug-ins/gap/Makefile.am
	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_dbbrowser_utils.c
	* plug-ins/gap/gap_filter_foreach.c
	* plug-ins/gap/gap_filter_main.c
	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_mod_layer.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_mov_exec.c
	* plug-ins/gap/gap_mpege.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_resi_dialog.c
	* plug-ins/gap/gap_split.c
	* plug-ins/gap/resize.c
	* plug-ins/picmanressionist/Makefile.am
	* plug-ins/picmanressionist/brush.c
	* plug-ins/picmanressionist/color.c
	* plug-ins/picmanressionist/general.c
	* plug-ins/picmanressionist/picman.c
	* plug-ins/picmanressionist/picmanressionist.c
	* plug-ins/picmanressionist/orientation.c
	* plug-ins/picmanressionist/orientmap.c
	* plug-ins/picmanressionist/paper.c
	* plug-ins/picmanressionist/placement.c
	* plug-ins/picmanressionist/ppmtool.c
	* plug-ins/picmanressionist/presets.c
	* plug-ins/picmanressionist/preview.c
	* plug-ins/picmanressionist/repaint.c
	* plug-ins/picmanressionist/size.c
	* plug-ins/picmanressionist/sizemap.c
	* plug-ins/mosaic/Makefile.am
	* plug-ins/mosaic/mosaic.c
	* plug-ins/struc/Makefile.am
	* plug-ins/struc/struc.c: applied picman-yasuhiro-990917-0, plugin
	i18n patch

Sun Sep 26 06:45:09 MEST 1999  Jens Lautenbacher <jens@tellux.de>
                               Sven Neumann <sven@picman.org>

	* app/cursorutil.c: fixed typo reported on bugs@picman.org

	* app/smudge.c: applied patch from Garry R. Osgood (he receives 
	extra points for the very good documentation of his patch!)

Sun Sep 26 05:33:56 MEST 1999  Jens Lautenbacher <jens@tellux.de>
                               Sven Neumann <sven@picman.org>

	* app/picmanbrushpipe.h: introduced a macro to test for a 
	picman_brush_pipe that actually returns FALSE when it hits only a 
	picman_brush_pixmap that is no pipe
	
	* app/picmancontextpreview.c: use the new macro

	* app/paintbrush.c: make the compiler happy

Sun Sep 26 04:18:48 MEST 1999  Jens Lautenbacher <jens@tellux.de>
                               Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.[ch]: animate brush_pipes in the popup 

Sat Sep 25 23:40:25 MEST 1999  Jens Lautenbacher <jens@tellux.de>
                               Sven Neumann <sven@picman.org>

	* app/rect_selectP.h 			       
	* app/selection_options.h
	* app/tool_options.c: Changed width and height in the rect/ellipse 
	tools to be of type double. This makes fixed_size work with real-life
	units.
	
Sat Sep 25 21:43:35 MEST 1999  Jens Lautenbacher <jens@tellux.de>
                               Sven Neumann <sven@picman.org>

	* app/blend.c: enable offset for linear gradients

	* paint_core.[ch]: paint_core now knows about the distance in pixels
	too (needed for what follows). 
	Rewrote paint_core_get_color_from_gradient ().

	* app/paintbrush.c: you can now set gradient_length and fade_out in 
	units that make sense

	* plug-ins/common/blur.c: set reasonable defaults

Sat Sep 25 19:14:27 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/Makefile.am: add parse_picmanrc program.
	* app/unittest/parse_picmanrc.c : First unit test for parsing of
 	picmanrc files. Planning to move it's parse_* functions into picmanrc.c

Fri Sep 24 18:36:14 PDT 1999 Manish Singh <yosh@picman.org>

	* app/main.c: moved the gtk_set_locale call to after it's
	been inited

	* app/paint_core.h: set skip for ToolFlags

	* app/procedural_db.h: don't skip PDB_TEMPORARY in PDBProcType

	* libpicman/Makefile.am: don't install stdplugins-intl.h, that's
	only for disted plugins

	* libpicman/picmanenums.h: is now autogenned

	* libpicman/picmanfeatures.h.in: #define for new enums

	* libpicman/picmanintl.h: #include <locale.h>

	* libpicman/stdplugins-intl.h: add include guards

	* plug-ins/AlienMap2/Makefile.am: add INTLLIBS

	* plug-ins/gflare/Makefile.am: removed unused libpicmanui

	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu-server.c: use stdplugins-intl.h

	* plug-ins/sel2path/Makefile.am: removed unused libgck.la

	* tools/pdbgen/Makefile.am: removed script-fu.pl, added enumcode.pl

	* tools/pdbgen/lib.pl
	* tools/pdbgen/enumcode.pl: enumcode.pl now autogenned picmanenums.h
	as well as the script-fu stuff

Sat Sep 25 01:21:03 MEST 1999  Sven Neumann <sven@picman.org>

	* app/eraser.c: reenabled the line-preview for the eraser tool

Fri Sep 24 23:54:26 BST 1999 Andy Thomas <alt@picman.org>

	* app/paths_dialog.c

	Applied patch from Garry R. Osgood. Fixes bug #2253.
	Thank for the patch!

Fri Sep 24 22:22:43 BST 1999 Andy Thomas <alt@picman.org>

	* app/fileops.c

	Fix for the preview/thumbnail interactions causing 
	corruptions.

Fri Sep 24 20:25:14 MEST 1999  Sven Neumann <sven@picman.org>

	* picmanrc.in
	* user_install
	* user_install.bat
	* app/picmanrc.c
	* app/install.c
	* app/preferences_dialog.c: Updated the installed picmanrc to reflect
	most (still not all) of the new options. Create a directory for
	the generated brushes in the users picmandir. Appearantly, the brushes
	still aren't loaded ?!?

Fri Sep 24 17:09:30 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/common/jpeg.c: 
	* plug-ins/gflare/gflare.c: 
	* plug-ins/imagemap/imap_menu.c: Add <sys/types.h> before <sys/stat>
	to remove compiler warnings in OS/2. 

Thu Sep 23 18:04:25 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/script-fu/po: remove separate dir for po files

Fri Sep 24 02:19:05 MEST 1999  Sven Neumann <sven@picman.org>

	* configure.in
	* plug-ins/script-fu/Makefile.am
	* plug-ins/script-fu/script-fu-console.c
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu-server.c: i18n for script-fu
	* plug-ins/script-fu/script-fu/po/*: new directory with new files

	A patch from Daniel Egger giving a start on i18n for script-fu.

Thu Sep 23 16:29:09 PDT 1999 Manish Singh <yosh@picman.org>

	* app/channel.h
	* app/picmanimage.h
	* app/picmanimageP.h 
	* app/layer.h
	* app/undo.[ch]
	* app/undo_types.h: use proper naming convention for undo enums,
	and hide them from the pdbgen stuff 

	* app/procedural_db.h: don't skip PDB_END

	* app/undo_history.c: remove gccism from undo_history_append_special

	* libpicman/picmanintl.h: INIT_LOCALE should be defined in all cases

	* plug-ins/script-fu/Makefile.am: add script-fu-constants.[ch]

	* plug-ins/script-fu/script-fu.c: use init_generated_constants

	* plug-ins/script-fu/siod.h: #include <stdio.h> for FILE *

	* tools/pdbgen/script-fu.pl: new file

	* tools/pdbgen/Makefile.am: add rule for constant script-fu gen

	* tools/pdbgen/enumgen.pl: add enum skip feature

	* tools/pdbgen/lib.pl: use nicks for picmanenums.h

	* tools/pdbgen/pdb/procedural_db.pdb: ignore PDB_END

1999-09-23  Zach Beane  <xach@mint.net>

	* app/fileops.c: Check trust_dirty_flag preference; if we don't
	trust it, save no matter what.

	* app/preferences_dialog.c, app/picmanrc.c, app/picmanrc.h:
	Added trust_dirty_flag preference option, defaults to off.

Thu Sep 23 13:31:41 MEST 1999  Sven Neumann <sven@picman.org>

	applied internationalization patch from Daniel Egger

	* app/about_dialog.c
	* app/app_procs.c
	* app/batch.c
	* app/bezier_select.c
	* app/blend.c
	* app/boundary.c
	* app/brush_select.c
	* app/channels_dialog.c
	* app/fileops.c
	* app/gdisplay_ops.c
	* app/gdisplay.c
	* app/picmanimage.c
	* app/install.c
	* app/layers_dialog.c
	* app/main.c
	* app/menus.c
	* app/menus.h
	* app/paths_dialog.c
	* app/plug_in.c: 
	Debugging messages shouldn't be marked for translation. 
	picman_menu_set_sensitivity_locale () renamed to 
	picman_menu_set_sensitivity_glue ()
	
	* libpicman/picmanintl.h
	* libpicman/stdplugins-intl.h: moved the internationalization stuff
	into a macro similar to that the gnome folks use.
	
	* po/POTFILES.in: undo_history.c was missing here.

Wed Sep 22 23:51:24 CDT 1999 James Mitchell <mitchell@picman.org>

	* tips/picman_tips.it.txt: Translations from Daniele Medri
	  <madrid@linux.it>

Wed Sep 22 17:44:41 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/.cvsignore: I need this.
	* app/unittest/TODO: What todo with unit test programs.
	* app/unittest/picmanparse.c (parse_picmanrc_file2): OS/2 patch.

1999-09-21  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* data/brushes/Makefile.am (install-data-local): added an
	install-data-local target to forcibly remove the round1.vbr from
	the installed brushes directory if it's still there for some silly 
	reason...

Tue Sep 21 21:31:23 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gflare/gflare.c: gtk_timeout and gtk_idle are gunit, so
	make them guints; fixed a warning while I was on it

1999-09-21  Zach Beane <xach@mint.net>

	* app/color_cmds.c:
	Reverted the patch I applied to fix the SOTA-Chrome bug. Yosh says he
	will add a new GUINT8ARRAY type to the PDB to fix this the right way.

Tue Sep 21 15:05:50 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/papertile.c: Updated papertile plug-in to the 
	new version from the registry. The old one was broken anyway.

Tue Sep 21 13:00:12 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/unittest/picmanpath.c: Show picman_system_rc_file() result.
	* app/unittest/Makefile.am : plugdir. 
	* app/unittest/plugdir.c : Display EXECUTABLE files(plug-ins) 
	in a directory. 
	* app/unittest/README: add plugdir test program.	

Tue Sep 21 11:12:22 MEST 1999  Sven Neuman <sven@picman.org>

	* plug-ins/gap/gap_lib.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_split.c: applied patches from Wolfgang Hofer.

Tue Sep 21 11:07:23 MEST 1999  Sven Neuman <sven@picman.org>

	* blend.c
	* measure.c
	* paint_core.c: Changed the behaviour of the 45-degrees constraints
	again. Now it mimics the selection tools. Using the <Shift> key
	with the blend tool restricts it to 15 degrees.

Mon Sep 20 23:06:36 MEST 1999  Sven Neuman <sven@picman.org>

	* app/measure.c: made the creation of guides undoable.

Mon Sep 20 18:58:38 BST 1999 Nick Lamb <njl195@zepler.org>

        * plug-ins/common/tiff.c: Mac and PC can be friends :)

Mon Sep 20 12:51:30 EDT 1999  Austin Donnelly  <austin@picman.org>

	Honest, guv, it's not a feature - it's a tightly integrated
	package of undo system cleanups and fixes.

	NEW FILES:
	* app/undo_history.c: window showing recent undo (and redo) steps
	    available.
	* app/undo_types.h: broken out of undo.h to fix circular includes.

	MODIFIED FILES:
	* app/Makefile.am: compile undo_history.c
	* app/channel.h: use enum for channel undo type, not just magic
	    numbers.
	* app/layer.h: same for layer undos.
	* app/commands.c: edit_show_undo_history_cmd_callback() function to
	    pull up undo history window.
	* app/commands.h: prototype for above.
	* app/gdisplay.c: make undo / redo menu items sensitive according
	    to whether they would do anything.  Would be easy to change
	    the text to say what would be undone/redone, but I don't know
	    the GTK.
	* app/picmanimage.c: new signal emitted by gimage:
	    UNDO_EVENT. picman_image_undo_event() function to emit it.
	* app/picmanimage.h: prototype for above.
	* app/picmanimageP.h: pushing_undo_group member is now an undo_type,
	    not an int.  Keep undo history widget here too (if created).
	* app/menus.c: add "Edit/Undo history..." to image menu.
	* app/undo.c: new types: enums undo_type and undo_state rather than
	    ints and magic numbers.  All undo_pop_* and undo_free_*
	    functions made static.  New static function
	    undo_type_to_name().  Issue undo event signals on various
	    important events (eg undo pushed, undo popped etc).
	    undo_push() now takes a "dirties_image" arg to say whether
	    image should be dirtied.  Layer moves now dirty the image.  A
	    couple of g_return_if_fails () on undo_pop and undo_redo to
	    assert we're not in the middle of an undo group.
	    undo_get_{undo,redo}_name() to peek at names of top items on
	    undo and redo stacks resp.   undo_map_over_{undo,redo}_stack()
	    to run a function for each item or group on stack.  Layer and
	    channel undos use symbolic names rather than 0 or 1.  Array
	    mapping undo types to names.
	* app/undo.h: split out undo types to undo_types.h.  Prototypes
	    for functions described above.  undo_event_t enum.
	    undo_history_new() prototype lives here too.

	Random other fixes:
	* app/picmandrawable.c
	* app/image_render.c: default labels in switches to keep egcs happy.

	* app/nav_window.c: some fixes to (sort of) cope with image res !=
	    screen res.  Still needs work to handle non-square pixels
	    properly.

	* app/paths_dialog.c: bad idea to call picman_image_dirty()
	    directly.  Even though it's currently commented out.

Mon Sep 20 18:23:18 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* configure.in: Add app/unittest/Makefile

	* app/unittest/unittest.h: Common include file for unit tests.
	* app/unittest/globals.c: Global data for unit test programs.
	* app/unittest/README: 
	* app/unittest/picmanparse.c: Parse test program 
	* app/unittest/picmanpath.c: Show PICMAN paths.
	First unit test programs for PICMAN. Useful for porting and testing.

Mon Sep 20 10:11:18 MEST 1999  Sven Neumann <sven@picman.org>

	* README.i18n: Daniel Egger sent me some corrections for this one

Sun Sep 19 13:24:30 CDT 1999 James Mitchell <mitchell@picman.org>

	* tips/picman_tips.it.txt: Translations from Daniele Medri
	  <madrid@linux.it>

1999-09-18  Zach Beane  <xach@mint.net>

	* plug-ins/webbrowser/web-browser.scm: Corrected PICMAN News URL.

1999-09-18  Tomas Ogren  <stric@ing.umu.se>

	* plug-ins/common/tiff.c: "u_long" isn't portable at all..

Fri Sep 17 23:26:40 BST 1999 Nick Lamb <njl195@zepler.org>

        * plug-ins/common/tiff.c: Update to version supporting 16-bit
        (truncated of course) and Tiled TIFF familes.

Wed Sep 15 11:11:08 PDT 1999 Manish Singh <yosh@picman.org>

	* app/path_tool.c: use a temp var for xoring the pointers

1999-09-15 Zachary Beane <xach@mint.net>

	* app/color_cmds.c: Applied patch from _tom_@sf.airnet.ne.jp in
	bug #2208, this fixes #2208 and #2157.

	* plug-ins/script-fu/scripts/truchet.scm,coolmetal-logo.scm:
	Changed picman-flip parameters to match new OrientationType enum
	values. Fixes bug #2156.

Wed Sep 15 12:43:39 MEST 1999 Simon Budig <Simon.Budig@unix-ag.org>

	* app/tools.c
	* app/pixmaps2.h
	* app/path_tool.c
	* app/path_toolP.h

	Own pixmap for the Path Tool. It is now possible to connect
	open ends of curves. Simply activate one end and shift click
	on the other. Control-Click deletes points.

	Still no bezier/painting functions...

1999-09-14  Tor Lillqvist  <tml@iki.fi>

	* app/brush_select.c: Include config.h, guard inclusion of
	<unistd.h>.

	* app/picmancontextpreview.c: Include config.h, <string.h> and
	appenv.h.

	* app/xinput_airbrush.c: Include config.h, <stdio.h>, appenv.h and
	libpicman/picmanmath.h. Use G_PI.	

	* app/makefile.{cygwin,msc}: Updates.

	* plug-ins/makefile.{cygwin,msc}: Add the unofficial sel_gauss
	plug-in. Add new object files for FractalExplorer and
	picmanressionist.

	* plug-ins/common/iwarp.c (iwarp_deform): Combine two loops over
	the same xi, yi area into one. Remove the then actually unused
	deform_area_vectors array. Only one element of the array was used
	for each x,yi loop.

	* plug-ins/common/sparkle.c: Don't include <math.h>,
	libpicman/picmanmath.h includes it. Use G_PI.

Tue Sep 14 13:51:45 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/gfli/fli.[ch]
	* plug-ins/gfli/gfli.c: applied picman-narazaki-990914-0, fixes bogus
	magic settings and noninteractive pdb

	* plug-ins/common/ps.c: resolution info patch

Tue Sep 14 13:15:34 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/ps.c: don't use wacky binary modifiers to popen
	when !__EMX__

Tue Sep 14 12:52:11 PDT 1999 Manish Singh <yosh@picman.org>

	* app/convert.c: use break; instead of compiler barfing goto and
	label: } construct

Tue Sep 14 12:40:47 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/sel2path/global.h
	* plug-ins/sel2path/math.c
	* plug-ins/sel2path/vector.c: s/acosd/my_acosd/ since some platforms
	seem to have this function in the native libm

	* plug-ins/script-fu/scripts/xach-effect.scm: remove stale debugging
	line

	* app/guides_cmds.c
	* app/tools_cmds.c: changes from below

Tue Sep 14 04:02:06 CEST 1999  Marc Lehmann <pcg@goof.com>

        * tools/pdbgen/stddefs.pdb, tools/pdbgen/pdb/tools.pdb: shear and
        flip used the wrong orientationtype.

Mon Sep 13 15:29:46 PDT 1999 Manish Singh <yosh@picman.org>

	* app/Makefile.am: -export-symbols only works with -export-dynamic,
	so add it.

	* plug-ins/picmanressionist/preview.c: dictch naughty // comment

Mon Sep 13 16:45:30 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/helpbrowser/helpbrowser.c (load_page): BUG in helpbrowser.
	Trying to open file like "file.html#1111" should be "file.html".
	Added g_strdelimit() to remove '#' char before file opening.
	
	g_strdelimit (new_base,"#",'\0'); 
        afile = fopen (new_base, "rt");

Mon Sep 13 12:58:56 MEST 1999  Sven Neumann <sven@picman.org>

	* app/brush_select.c: corrected scrolling in the Brushes Dialog. 
	Fixes bug #2146.

	* plug-ins/common/curve_bend.c: applied a path from Wolfgang Hofer that
        fixes wrong parameters in PDB calls.

Mon Sep 13 01:50:29 BST 1999 Nick Lamb <njl195@zepler.org>

        * plug-ins/common/png.c: Update info structure after applying
        transformations. No longer apply sBIT. Report errors nicely.

Sun Sep 12 19:37:12 CEST 1999  Marc Lehmann <pcg@goof.com>

        * configure.in: Changes for perl i18n, some file moves, new po
        subdir.

Sat Sep 11 16:44:15 PDT 1999 Manish Singh <yosh@picman.org>

	* app/fileops.c
	* plug-ins/common/url.c: another XachPatch (TM) to fix revert and
	urls

Sat Sep 11 22:45:12 BST 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c
	* app/floating_sel.c

	Hopefully fix for nav_popup when using tablets.
	Also applied the patch supplied by Garry R. Osgood. Thanks.

Sat Sep 11 21:54:10 CEST 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/common/spheredesigner.c: Added load/save +
	better alpha support + minor dialog layout changes

Sat Sep 11 12:20:26 PDT 1999 Manish Singh <yosh@picman.org>

	* Makefile.am: add cursors/badmsk and pixmaps/navbutton.xpm

	* app/Makefile.am: add apptypes.h, picmanbrushpipeP.h, and
	colormap_dialog.i.c

	* libpicman/parasiteio.c: #include <stdlib.h>

	* plug-ins/imagemap/Makefile.am: add *.h

1999-09-11  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* app/menus.c (menus_last_opened_cmd_callback): Applied patch
	provided by Zach Beane to close bug #2145.

Sat Sep 11 17:46:37 BST 1999 Andy Thomas <alt@picman.org>

	* app/palette.c

	When resizing the dialog it now fills with colours (as expected).

Sat Sep 11 17:02:06 CEST 1999  Olof S Kylander <olof@frozenriver.com>

	* plug-ins/pypicman/picmanenums.py: Fix of enum error
	  XX_IMAGE_FILL in two locations and didn't include
	  all fill "modes".

Fri Sep 10 18:36:34 EDT 1999  Austin Donnelly  <austin@picman.org>

	* plug-ins/common/png.c: cheesy fix for INDEXEDA core dump: popup
	    a window saying we can't handle it.  We should really handle
	    it though.

Thu Sep  9 21:29:16 PDT 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.9 release

Fri Sep 10 00:18:17 EDT 1999 Adrian Likins <adrian@picman.org>

	* app/paintbrush.c:  Make gradient brushes work again.

1999-09-09  Kelly Lynn Martin  <kelly@poverty.bloomington.in.us>

	* plug-ins/FractalExplorer/Callbacks.[ch]
	* plug-ins/FractalExplorer/Dialogs.[ch]
	* plug-ins/FractalExplorer/FractalExplorer.[ch]
	* plug-ins/FractalExplorer/Globals.c
	* plug-ins/FractalExplorer/Languages.[ch]: added support for
	variable-size colormap (up to 8192 colors) and "log log" smoothing 
	(see http://linas.org/art-gallery/escape/smooth.html).

Thu Sep  9 18:52:28 CDT 1999 James Mitchell <mitchell@picman.org>

	* tips/picman_tips.it.txt
	* tips/Makefile.am: Added tips translations from Daniele Medri
			    <madrid@linux.it>

Thu Sep  9 15:45:20 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/rotate.c: i18n buglet fix

Fri Sep 10 00:28:34 CEST 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/picmanressionist/*.[ch]: switched to G_PIs and RAND_FUNC()s

Thu Sep  9 15:12:36 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/imagemap/imap_polygon.c: fix gccism

Thu Sep  9 22:23:06 CET 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/common/spheredesigner.c: Various fixes/enhancements

	* plug-ins/picmanressionist/ChangeLog
	* plug-ins/picmanressionist/Makefile.am
	* plug-ins/picmanressionist/*.[ch]: Added Color options (new file color.c)

1999-09-09  Tomas Ogren  <stric@ing.umu.se>

	* app/Makefile.am: Add the path_tool* here, makes picman compile

Thu Sep  9 21:02:46 MEST 1999  Sven Neumann <sven@picman.org>

	* app/airbrush.c
	* app/picmanbrushpipe.[ch]
	* app/paint_core.[ch]
	* app/paintbrush.c
	* app/pencil.c: scaling of brush pipes should now work correctly.
	Needs a little bit of optimization though...

Thu Sep  9 19:16:25 MEST 1999  Simon Budig <Simon.Budig@unix-ag.org>
                               (checked in by Sven Neumann <sven@picman.org>)

        * app/tools.c
        * app/toolsF.h
        * app/path_tool.c
        * app/path_tool.h
        * app/path_toolP.h

        New tool, should become a replacement for the bezier_select tool.
        This is the start for a more general Path-tool. It will provide
        (sometime :-) functions to manipulate a path, constructed from
        curves (open or closed), which in turn are constructed from segments.

        These segments could be lots of differen types, as a start 
	bezier-curves are planned and Austin Donelly is probably
	interested in using it for intelligent scissors. It will be
	possible to mix bezier- and intelligent-scissors-segments in a
	path - but currently I'm missing for a good UI-Idea.

        This tool is far from complete, currently it is only possible to
        create a single open curve. It is possible to manipulate an anchor 
	by clicking on it and dragging it around. Multiple anchors can be 
	selected by shift-clicking on an anchor. You can drag multiple 
	anchors around.

        The path_tool* files are under heavy construction currently. This 
	is a preliminary checkin to get this in before the
	feature-freeze... ;-)

	NOTE: Simon sent me this patch on Tuesday, I just didn't manage to
	check it in until now... (Sven)
	
Wed Sep  8 23:58:14 PDT 1999 Manish Singh <yosh@picman.org>

	(from picman-narazaki-990909-0)

	* app/layers_dialog.c: check for layer validity in
	layer_widget_preview_events

	* app/lc_dialog.c: remove PICMAN_IMAGE() cast from the
	menu_preview_update callback like the comment says to
	
	(from picman-yasuhiro-990907-0)

	* app/menus.c
	* plug-ins/common/autocrop.c
	* plug-ins/common/c_astretch.c
	* plug-ins/common/color_enhance.c
	* plug-ins/common/guillotine.c
	* plug-ins/common/normalize.c
	* plug-ins/common/rotate.c
	* plug-ins/common/rotators.c
	* plug-ins/common/spheredesigner.c
	* plug-ins/common/threshold_alpha.c
	* plug-ins/common/zealouscrop.c: i18n markings

1999-09-08  Kelly Lynn Martin  <kelly@picman.org>

	* plug-ins/FractalExplorer/FractalExplorer.[ch]
	  plug-ins/FractalExplorer/Globals.c
	  plug-ins/FractalExplorer/Languages.[ch]
	  plug-ins/FractalExplorer/Events.[ch]
	  plug-ins/FractalExplorer/Callbacks.[ch]
	  plug-ins/FractalExplorer/Dialogs.[ch]
	  plug-ins/FractalExplorer/Makefile.am: fixed so that the code
	wasn't one giant .c file with several included .h files
	containing function definitions (eek!).  Done in preparation for 
	modifying to allow a colormap larger than 256 colors.

Thu Sep  9 03:45:39 MEST 1999  Sven Neumann <sven@picman.org>

 	* app/airbrush.c
 	* app/clone.c
 	* app/convolve.c
 	* app/dodgeburn.c
 	* app/eraser.c
 	* app/gimage_mask.c
 	* app/paint_core.c
 	* app/paint_core.h
 	* app/paint_options.h
 	* app/paintbrush.c
 	* app/pencil.c
 	* app/smudge.c
 	* app/tool_options.c: Enhanced pressure sensitivity for all paint 
	tools. I could have checked this in yesterday, but you wouldn't have 
	liked it...
	Users without a tablet shouldn't notice a different behaviour (despite
	the options, that I'm planning to hide for non-xinput devices).
	This still needs some work, especially the brush spacing sucks for
	scaled brushes ...

Thu Sep  9 00:56:42 CEST 1999  Marc Lehmann <pcg@goof.com>

	* configure.in: Fixed typoe (fasle => false).

Tue Sep  7 22:57:32 CEST 1999  Marc Lehmann <pcg@goof.com>

	* app/palette.c: Applied picman-ruth-990907-0.patch.gz (import palette).
        * plug-ins/common/palette.c: Removed.
        * plug-ins/common/plugin-defs.pl: (&c) Changed.

Tue Sep  7 13:11:20 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/imagemap/imap_csim_parse.c: use g_strcasecmp() instead of
	strcasecmp().

	* plug-ins/imagemap/imap_file.c: Add <sys/types.h>.

Tue Sep  7 12:59:18 MEST 1999  Sven Neumann <sven@picman.org>

	* app/commands.c: correct the bug that Garry R. Osgood reported.

Tue Sep  7 03:15:20 CEST 1999 Olof S Kylander <olof@frozenriver.com>

	* app/airbrush_blob.[ch] new file
	* app/xinput_airbrush.[ch] new file
	* picman/app/Makefile.am
	* picman/app/pixmaps2.h
	* picman/app/tool_options.c
	* picman/app/tools.c
	* picman/app/toolsF.h

	Added my far from finished xinput airbrush tool please read 
	my dev-mail about it.

Tue Sep  7 03:16:56 MEST 1999  Sven Neumann <sven@picman.org>

	* configure.in: build the Makefile in plug-ins/gflare/gflares.

Tue Sep  7 02:17:02 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.c: return FALSE in event_handlers.
	* app/tools: Shame on me! Of course a tool should have a unique
	ID number -- bad copy&paste bug!

Tue Sep  7 02:03:18 MEST 1999  Sven Neumann <sven@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/imagemap/*: new files
	Added the ImageMap plug-in by Maurits Rijk <lpeek.mrijk@consunet.nl>.

Tue Sep  7 00:35:19 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/gflare: new directory, lotsa files!
	* configure.in, plug-ins/Makefile.am, re-added gflare plug-in.

Mon Sep  6 23:35:18 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/sel_gauss.c: new plug-in.

Mon Sep  6 21:00:57 MEST 1999  Sven Neumann <sven@picman.org>

	* app/about_dialog.c: added a few more contributors and changed
	the algorithm slightly. Sorry, Lauri, this isn't against you, but 
	other people should have a chance to appear first too ;-)

1999-09-06  James Henstridge  <james@daa.com.au>

	* plug-ins/Makefile.am: conditionally compile pypicman.

	* configure.in: added in macros for pypicman.  You must pass
	--enable-python to configure for it to even consider checking for
	python at the moment.

	* acinclude.m4: added python detection macros.

Mon Sep  6 03:19:27 CEST 1999 Olof S Kylander <olof@frozenriver.com>
	
	* app/blob.c Fixed a cut&paste error

1999-09-06  Tomas Ogren  <stric@ing.umu.se>

	* app/disp_callbacks.c app/gdisplay_color.c app/image_new.c
	* app/info_dialog.c app/nav_window.c app/qmask.c app/undo.c:
	i18n fixes.

Sun Sep  5 22:55:52 MEST 1999  Sven Neumann <sven@picman.org>

	* modules/colorsel_triangle.c: color dnd for the triangle selector.

1999-09-05  James Henstridge  <james@daa.com.au>

	* plug-ins/pypicman/*: added pypicman to tree, as organised with Marc
	Lehmann.  I have not hooked it into the main makefile yet.  That
	should not be difficult though.

Sun Sep  5 14:48:30 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.c: small cosmetic change
	* modules/colorsel_water.c: color dnd for the watercolor selector.

Sun Sep  5 12:44:21 MEST 1999  Sven Neumann <sven@picman.org>

	* app/devices.c
	* app/picmancontextpreview.c
	* app/indicator_area.c: made dnd work for brushes and patterns.

Sat Sep  5 03:46:11 CET 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/common/spheredesigner.c: Added configurable
	light-sources + reset to default settings.

Sat Sep  4 23:21:10 BST 1999 Andy Thomas <alt@picman.org>

	* app/gdisplay.c
	* app/gdisplay.h
	* app/picmanrc.h
	* app/picmanrc.c
	* app/nav_window.c
	* app/nav_window.h
	* app/preferences_dialog.c

	The nav preview size can now be configured. The size applies
	to both the "popup" and dialog window.

Sat Sep  4 20:45:02 CEST 1999 Olof S Kylander <olof@frozenriver.com>

	* app/paint_core.c: Fix of cut&paste error.

Sat Sep  4 19:56:55 CEST 1999 Olof S Kylander <olof@frozenriver.com>
	
	* app/paint_core.c: Fixed a missing "ifdef" reported by 
	SHIRASAKI Yasuhiro.

Sat Sep  4 16:58:36 MEST 1999  Sven Neumann <sven@picman.org>

	* app/devices.c
	* app/picmancontextpreview.[ch]
	* app/picmandnd.[ch]
	* app/inidicatorarea.c: dnd for brushes and patterns. Does not work
	yet...

Sat Sep  4 16:31:50 CEST 1999 Olof S Kylander <olof@frozenriver.com>
	
	* patch_xinput_airbrush (newfile)
	* README.patch_xinput_airbrush (newfile)
	* app/devices.c
	* app/disp_callbacks.c
	* app/picmanrc.c
	* app/paint_core.[ch]
	* app/scroll.c

	- Added support for the sixth valuator in the xf86Wacom driver
	  please read the README file.

	- Support will only be enabled if the patch is applied
	  (i.e it is done with "ifdef")

Fri Sep  3 23:26:38 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gtkwrapbox.[ch]
	* app/gtk[hv]wrapbox.c: gle sync

Fri Sep  3 23:17:44 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/mkgen.pl: autogen .cvsignore too

Sat Sep  4 05:39:39 MEST 1999  Sven Neumann <sven@picman.org>

	* app/devices.c: dnd for colors, more dnd to follow soon ...

Sat Sep  4 04:36:11 CET 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/common/spheredesigner.c: Various fixes and
	enhancements, most notable "run-with-last-vals".

1999-09-04  Tomas Ogren  <stric@ing.umu.se>

	* app/main.c: setlocale (LC_NUMERIC, "C")  after gtk_init because
	  gtk_init zaps previous settings

Fri Sep  3 17:33:37 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: add plug-ins/AlienMap2/Makefile to AC_OUTPUT

	* libpicman/picman.c: setlocale (LC_NUMERIC, "C") in picman_main
	so floats are sane over the wire

	* libpicman/stdplugins-intl.h: same for INIT_I18N_UI()

	* plug-ins/common/color_enhance.c: no literal newlines in string for
	portability

	* plug-ins/sel2path/sel2path.c: i18n patch from SHIRASAKI Yasuhiro

Sat Sep  4 01:04:00 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/Makefile.am, plug-ins/AlienMap2: new plug-in.

Sat Sep  4 00:38:01 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/nova.c, plug-ins/common/Makefile.am,
        plug-ins/script-fu/scripts/starburst-logo.scm,
        plug-ins/script-fu/scripts/starscape-logo.scm: updated nova plug-in
        and two dependent scripts.

Sat Sep  4 00:32:18 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/color_enhance.c,
	plug-ins/common/plugin-defs.pl: added color_enhance plug-in.

Sat Sep  4 00:23:07 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/sparkle.c, plug-ins/common/Makefile.am,
        plug-ins/script-fu/scripts/frosty-logo.scm,
        plug-ins/script-fu/scripts/t-o-p-logo.scm: updated sparkle plug-in and
        two dependent scripts.

Sat Sep  4 00:16:04 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/warp.c,
	plug-ins/common/plugin-defs.pl: added warp plug-in.

Fri Sep  3 22:52:26 BST 1999 Andy Thomas <alt@picman.org>

	* app/curves.c
	* app/curves.h

	Added indicators (x,y of mouse & x for the line) to the curves 
	dialog.

Fri Sep  3 21:52:09 CEST 1999  Marc Lehmann <pcg@goof.com>

	* data/patterns/corkboard.pat: replaced by the version
        famrom@idecnet.com sent me.
	* app/tool_options.c: fix typoo.

1999-09-04  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/script-fu/interp_sliba.c (lreadstring): Fix own braino:
	Use max three octal digits, not four.

Thu Sep  2 23:26:36 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/Makefile.am: install parasiteio.h

Thu Sep  2 17:13:16 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gtkvwrapbox.[ch]: new vwrapbox stuff

	* app/Makefile.am: added new files

	* app/interface.c: place the indicator areas in a vwrapbox. Still
	kinda screwy tho.

Thu Sep  2 22:54:39 BST 1999 Adam D. Moss <adam@picman.org>

	* picman1_1_splash.ppm: Splash!  Aa-ahhh!  He saved every one of us!

Thu Sep  2 22:58:13 MEST 1999  Sven Neumann <sven@picman.org>

	* app/brush_select.c: fixed a stupid bug I introduced today.
	* app/picmancontextpreview.c: for consistency, do it the same way here.

1999-09-02  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/script-fu/interp_sliba.c (lreadstring): Accept what
	g_strescape throws at us (specifically, octal sequences that start
	with any octal digit, and are at most three octal digits long).

	* app/makefile.{cygwin,msc}: Update.

Thu Sep  2 22:31:11 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_lib.[ch]
	* plug-ins/gap/gap_main.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_mpege.c
	* plug-ins/gap/gap_range_ops.c
	* plug-ins/gap/gap_split.c: applied patches from the GAP author
	Wolfgang Hofer:

	- Simplified naming convention for AnimFrames: under_score isn't
  	  mandatory anymore.
	- picman_file_save is called INTERACTIVE on first call and 
       	  RUN_WITH_LAST_VALUES later.

Thu Sep  2 11:51:02 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gtkhwrapbox.[ch]
	* app/gtkwrapbox.[ch]: sync from gle

	* app/inteface.c: set allow_shrink on the toolbox window, use
	gtk_hwrap_box_new

	* app/blend.c: use shift to constrain to 45 deg: XachCode (tm)

Thu Sep  2 19:25:03 MEST 1999  Sven Neumann <sven@picman.org>

	* app/app_procs.c: call device_status_free before freeing brushes
	and patterns, so the devicerc can be written properly.

	* app/brush_scale.h: removed the scale_indicator_bits definition

	* app/brush_select.[ch]
	* tools/pdbgen/pdb/brush_select.pdb
	* app/brush_select_cmds.c
	* app/picmanbrushlist.c: display the pixmap brushes correctly and
	set the sensitivity of the edit/delete buttons properly when adding
	or deleting brushes.

Thu Sep  2 16:46:35 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.c: grab the pointer so that the popups don't
	get stuck and connect to the brush signals so the preview follows if
	the brush is edited or renamed.
	
	* app/gradient_select.c: update the gradient_preview in the toolbox
	when editing a gradient.

Thu Sep  2 02:12:20 1999  Jay Cox  (jaycox@picman.org)

	* app/app_procs.c: free the brush dialog before freeing the brushes.

	* app/blend.c, app/bucket_fill.c: don't include brush_select.h

	* app/brush_select.[ch]: add the ability to delete generated brushes.

	* app/picmanbrushgenerated.c: save the brush parameters on seperate lines.

	* app/picmanbrushlist.c: make sure we don't overwrite other brush
	files when saving newly created brushes.

Wed Sep  1 14:50:29 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/Makefile.am: add picmanmath.h

	* app/gtkwrapbox.[ch]
	* app/gtkhwrapbox.[ch]: wrapbox widget from gle

	* app/Makefile.am: added those files

	* app/interface.c: use an hwrapbox for the toolbar. Still not perfect
	yet, working on it.

	* app/picmandrawable.c
	* app/about_dialog.c
	* app/airbrush.c
	* app/blend.c: some minor code cleanup

1999-09-02  Tor Lillqvist  <tml@iki.fi>

	* app/paintbrush.c (paintbrush_non_gui_default,
	paintbrush_non_gui): Make also the non-gui paintbrush (called when
	stroking a path) handle changing brushes, i.e. pixmap brush pipes.

	* libpicman/parasiteio.[ch]: New files. Types and functions related
	to "standard" parasite types. Used for the
	picman-brush-pipe-parameters parasite that the gpb and psp plug-ins
	handle, and the value of which is stored in gih files, from
	which picmanbrushpipe.c parses it.

	* libpicman/{Makefile.am,makefile.{cygwin,msc}}: Add new files.

	* libpicman/picman.def: Add its entry points.

	* libpicman/picman.h: Fix cosmetic argument name error.

	* app/picmanbrushpipe.c: Remove code that previously was copied
	here, use functions from parasiteio.c.

	* plug-ins/common/gpb.c: Ditto. Add brush cell width and height
	fields to the gih save dialog. These are now the main entries the
	user should use to adjust how the image's layers are divided into
	brushes. Add some cleverness to update the rows and columns fields
	as cell size is changed. (Still too easy for the user to get
	confused, though.) Display corresponding guide grid on the
	image. Unfortunately, updating the guides doesn't seem to work.

	* plug-ins/common/psp.c: Use functions from parasiteio.c.

Wed Sep  1 23:18:21 BST 1999 Andy Thomas <alt@picman.org>

	* app/gdisplay.c
	* app/gdisplay.h
	* app/interface.c
	* app/nav_window.c
	* app/nav_window.h
	* pixmap/navbutton.xpm (new)

	New popup navigation window. press the icon that appears in  
	the bottom right-hand corner of the image display. A navigation
	window will appear that will allow you to scroll around the image if
	the area shown is smaller than the overall image size. Thanks to tml
	for the idea. 

Wed Sep  1 22:28:09 BST 1999 Adam D. Moss <adam@picman.org>

	* app/gradient.c
	* app/color_transfer.c
	* app/free_select.c
	* app/lut_funcs.c
	* app/blob.c: s/#include <math.h>/#include "libpicman/picmanmath.h"/

Wed Sep  1 21:27:27 BST 1999 Adam D. Moss <adam@picman.org>

	* app/convert.c app/convert.h:
	Optional low-bleed FS dithering

	* app/fsdither.h: Tables are const

	* app/convert_cmds.c app/internal_procs.c tools/pdbgen/enums.pl
	tools/pdbgen/pdb/convert.pdb:
	Clean up 'convert' PDB interface cruft.

1999-09-01  Tor Lillqvist  <tml@iki.fi>

	* app/appenv.h
	* libpicman/picmanmath.h: New file. Includes <math.h>. Move G_PI,
	RINT(), ROUND() etc from app/appenv.h here, so plug-ins can
	use them, too. Remove some commented-out old stuff in appenv.h.

	* libpicman/picman.h: Include picmanmath.h.

	* libpicman/picman.c (picman_main): Win32: Don't install signal
	handlers, we can't do anything useful in the handler ourselves
	anyway (it would be nice to print out a backtrace, but that seems
	pretty hard to do, even if not impossible). Let Windows inform the
	user about the crash. If the plug-in was compiled with MSVC, and
	the user also has it, she is offered a chance to start the
	debugger automatically anyway.

	* app/*several*.c: Include picmanmath.h for G_PI etc. Don't include
	<math.h>, as picmanmath.h includes it.

	* plug-ins/*/*many*.c: Include config.h. Don't include <math.h>.
	Remove all the duplicated definitions of G_PI and rint(). Use
	RINT() instead of rint().

	* app/app_procs.[ch]: app_exit() takes a gboolean.

	* app/batch.c
	* app/commands.c
	* app/interface.c: Call app_exit() with FALSE or TRUE.

	* app/main.c (on_error): Call picman_fatal_error. (main): Don't
	install any signal handler on Win32 here, either.

	* app/errors.c (picman_fatal_error, picman_terminate): Win32: Format
	the message and call MessageBox with it.  g_on_error_query doesn't
	do anything useful on Win32, and printf'ing a message to stdout or
	stderr doesn't do anything, either, in a windowing application.

Wed Sep  1 22:16:41 MEST 1999  Sven Neumann <sven@picman.org>

	* app/paint_core.c: Only set the defaults for non_gui operations
	if the paint_core is really used in non_gui mode. This fixes a bug 
	that showed up when drawing lines with a pressure-sensitive device.

Wed Sep  1 21:12:42 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/screenshot.c: a small bugfix

Wed Sep  1 20:45:56 MEST 1999  Sven Neumann <sven@picman.org>

	* tools/pdbgen/pdb/fileops.pdb
	* app/fileops_cmds.c: applied the patch from Wolfgang Hofer that
	should fix the problems saving jpeg with GAP.

	* app/paint_core.[ch]: preview length of brush-stroke in statusbar
	when drawing a line using <Shift>. Do we need the angle here too??

Wed Sep  1 14:12:17 CEST 1999  Pablo Saratxaga <pablo@mandrakesoft.com>

        * po/da.po, configure.in: added danish file from
        Henrik Hansen <hh@mailserver.dk>

Wed Sep  1 13:29:09 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmancontextpreview.[ch]: added gradient preview.

	* app/gradient_select.c
	* app/indicator_area.[ch]
	* app/interface.c: display the active gradient in the toolbox.
	
Tue Aug 31 23:13:51 PDT 1999 Manish Singh <yosh@picman.org>

	* app/tile_swap.c: no leading underscore for S_IFOO constants

Wed Sep  1 00:56:37 EDT 1999 Adrian Likins <adrian@picman.org>

	* app/picmanbrushpip.[ch]
	* app/airbrush.c
	* app/pencil.c
	* app/paintbrush.c: fix pencil tool for use with 
	   pixmaps again 

1999-09-01  Tor Lillqvist  <tml@iki.fi>

	* app/tile_swap.c (tile_swap_open): Use _O_TEMPORARY. Removed
	#ifdef, instead define the Win32-only _O_BINARY and _O_TEMPORARY
	as zero if not defined.

	* plug-ins/common/spheredesigner.c: Include config.h (#if
	HAVE_CONFIG_H). RAND_FUNC and SRAND_FUNC are defined in that.

Tue Aug 31 20:21:34 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/libgck/gck/Makefile.am: use libgck_la_LIBADD to get
	shared lib deps

Wed Sep  1 02:12:09 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmanbrushpreview.[ch]
	* app/picmanpatternprewiew.[ch]: removed

	* app/picmancontextpreview.[ch]: new files.
	Merged the preview_widgets into one more generic widget. I'm 
	calling this context_preview since I hope the widgets will
	become useful for the context_manager. I'll add a gradient
	preview soon.

	* app/Makefile.am
	* app/devices.c
	* app/inidicator_area.c: Use the new picman_context_preview.

Tue Sep 1  00:19:30 CEST 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/common/spheredesigner.c: Various fixes and enhancements.

Tue Aug 31 22:25:38 BST 1999 Adam D. Moss <adam@picman.org>

	* app/convert.[ch]
	* app/convert_cmds.c
	* app/internal_procs.c
	* tools/pdbgen/enums.pl
	* tools/pdbgen/pdb/convert.pdb: Added convert_indexed2
	procedure to expose new RGB/GREY->Indexed functionality.

Tue Aug 31 10:53:34 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/mkgen.pl: added note about autogeneration to
	the generated Makefile.am

	* plug-ins/common/plugin-defs.pl: added spheredesigner
	
1999-08-31  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/spheredesigner.c: Minor portability fixes.

	* plug-ins/makefile.{cygwin,msc}: Add spheredesigner.

	* app/makefile.{cygwin,msc}: Add gdisplay_color_ui.[ch].

Tue Aug 31 14:25:50 CET 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/common/Makefile.am
	* plug-ins/common/spheredesigner.c: Added the SphereDesigner
	plugin.

Tue Aug 31 11:16:52 MEST 1999  Sven Neumann <sven@picman.org>

	* app/picmanbrushpreview.c
	* app/picmanpatternpreview.c: check if brush/pattern is not NULL

Tue Aug 31 01:13:13 EDT 1999 Adrian Likins <alikins@redhat.com>

	* app/pencil.c: add a "Use Pressure" check button to the options
	so that pressure sensitivy can be disabled. Suggested by
	Tuomas Kuosmanen  <tigert@picman.org>.  

Mon Aug 30 18:56:19 PDT 1999 Manish Singh <yosh@picman.org>

	* app/apptypes.h
 	* app/pathsP.h: removed trailing enum commas
	
	* app/gdisplay_color.[ch]: added a foreach function to iterate
	over the display filter names

	* app/gdisplay_color_ui.[ch]: display filter ui stuff (doesn't do
	much yet ;)

	* app/commands.[ch]
	* app/menus.c: hooked the above into the menu system

	* app/Makefile.am: added new files

	* plug-ins/picmanressionist/preview.c: removed bogus // comment

1999-08-30  Tor Lillqvist  <tml@iki.fi>

	* app/picmanbrushgenerated.c (picman_brush_generated_save): Save the
	name on a line of its own (as it can contain spaces). Print spaces
	between the floating-point values. (picman_brush_generated_load)
	Corrspondingly, read the name from a line of its own.
	
	* app/picmanbrushlist.c (brushes_free): Portability fixes. Use
	g_strconcat. Free allocated strings.

	* app/picmanbrush.h (PicmanBrushClass): Add a new method, gboolean
	want_null_motion(), that tells if the brush wants to be painted
	when we don't know the direction yet. This is needed (so far) by
	brush pipes that select the brush based on direction.

	* app/picmanbrush.c: Implement above method returning always TRUE.

	* app/picmanbrushpipe.c: Here, implement it returning FALSE or TRUE
	on whether the brush pipe has any angular (direction) dependent
	dimension or not.

	* app/paint_core.c (paint_core_button_press): Call the method
	if current point == last point.

Mon Aug 30 22:15:29 MEST 1999  Sven Neumann <sven@picman.org>

	* app/devices.c: use the new [picman|pattern]_preview_widgets.

	* plug-ins/xjt/xjt.c: correct a gccism

Mon Aug 30 03:37:28 1999  Jay Cox  (jaycox@picman.org)

	* app/brush_edit.[ch]: Allow the user to change a brush's name.

	* app/picmanbrushlist.[ch] * app/picmanrc.[ch]: ported Calvin
	Williamson's brush saving code from the hollywood branch.

	* app/preferences_dialog.c:  add the brush_vbr_path

	* data/brushes/round1.vbr: removed.  You should remove this file
	from your system if you have installed previous versions.

Sub Aug 29 23:00:50 1999  vidar@prosalg.no  (Vidar Madsen)

	* plug-ins/picmanresionist/*.[ch]: Big rewrite of many internals
	to get rid of the clumsy "struct rgbcolor" construct, as well
	as removal of old and useless debugging code.

Sun Aug 29 20:40:34 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/common/psp.c: Add include <sys/types.h>.
	
Sun Aug 29 17:54:58 BST 1999 Adam D. Moss <adam@picman.org>

	* app/convert.c: *->I: Deterministic colour dithering
	to arbitrary palettes.  Ideal for animations that are
	going to be delta-optimized or simply don't want to look
	'busy' in static areas.  Also a bunch of bugfixes and tweaks.
	No PDB interface to the new features yet, although a
	convert_image2() is ready and waiting.

Sun Aug 29 00:40:20 BST 1999 Adam D. Moss <adam@picman.org>

	* app/convert.h
	* app/convert.c: *->I: Deterministic alpha dithering over layers,
	reduced bleeding of transparent values into opaque values, added
	optional stage to remove duplicate or unused colour entries from final
	colourmap.

Sat Aug 28 15:36:36 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gdisplay.[ch]
	* app/gdisplay_color.[ch]: added framework for having multiple
	simultaneous displays

Sat Aug 28 12:15:15 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/borderaverage/borderaverage.c
	* plug-ins/common/CML_explorer.c
	* plug-ins/common/apply_lens.c
	* plug-ins/common/blur.c
	* plug-ins/common/bumpmap.c
	* plug-ins/common/checkerboard.c
	* plug-ins/common/colorify.c
	* plug-ins/common/compose.cplug-ins/common/compose.c
	* plug-ins/common/convmatrix.c
	* plug-ins/common/cubism.c
	* plug-ins/common/decompose.c
	* plug-ins/common/depthmerge.c
	* plug-ins/common/destripe.c
	* plug-ins/common/gif.c
	* plug-ins/common/gifload.c
	* plug-ins/common/jpeg.c
	* plug-ins/common/mail.c
	* plug-ins/common/oilify.c
	* plug-ins/common/png.c
	* plug-ins/common/ps.c
	* plug-ins/common/psp.c
	* plug-ins/common/xbm.c
	* plug-ins/print/print.c: use INIT_I18N_UI (from SHIRASAKI Yasuhiro
	<yasuhiro@awa.tohoku.ac.jp>)

Sat Aug 28 10:53:17 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/layer.pdb
	* app/layer_cmds.c: don't check name for NULL and fail

1999-08-28  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picman.c (picman_main): Put in a workaround for the problem
	with plug-ins on NT and W2K, where installing the PICMAN under a
	directory path with spaces (\Program Files\PICMAN) would cause the
	plug-ins to malfunction. Turns out the argv gets set up by the C
	runtime incorrectly in such a case, the path name of the
	executable is split at the spaces. The workaround is to splice
	argv[0] together from the pieces again, shifting the rest of argv
	down.

	* app/plug_in.c (plug_in_open): Correct (harmless) typo in the
	Win32 code.

	* app/picmanbrushpipe.c (picman_brush_pixmap_select_brush): In the
	case of angular selection, offset angle with G_PI/2 to be
	compatible with PSP tubes. Restrict the index of each dimension
	separately to the appropriate range.

	* plug-ins/common/gpb.c (gih_save_dialog): Must not free the combo
	box string list, the strings are not strdup'ed by the combo box.

	* plug-ins/common/winclipboard.c: Put the pasting of a new image
	under File/Acquire.

Fri Aug 27 18:15:33 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gdisplay_color.c: more work on the gamma correction stuff

1999-08-28  Tor Lillqvist  <tml@iki.fi>

	* app/picmanbrushpipe.c: Implement the selection of brush based on
	cursor direction, pressure, tilt, or a random value. (Hmm, forgot
	velocity, later.) (In addition to just incrementally stepping.)
	Read the brush pipe parameters from the gih file's second line.
	There is no way to tune the parameters in the PICMAN, they must
	currently be set when saving the gih file (in the gpb plug-in).
	
	* app/picmanbrushpipe.h
	* app/picmanbrushpipeP.h: Move the PipeSelectModes enum to the
	"private" header. Add a stride array to PicmanBrushPipe to make
	indexing easier.

	* plug-ins/common/gpb.c: Add selection mode fields to the dialog.
	Attach the pipe parameters entered as a parasite, too.

	* docs/parasites.txt
	* plug-ins/common/psp.c: Use "placement", not "spacing" (which
	means another thing).

Fri Aug 27 18:08:55 PDT 1999 Manish Singh <yosh@picman.org>

	* app/color_display.h: just include parasiteF.h

Fri Aug 27 15:00:03 PDT 1999 Manish Singh <yosh@picman.org>

	* app/levels.c: added a small header to the file format

Fri Aug 27 10:57:28 PDT 1999 Manish Singh <yosh@picman.org>

	* user_install
	* user_install.bat: added picmanressionist, levels, and curves dirs

	* app/color_panel.c
	* app/color_select.c
	* app/colormaps.[ch]
	* app/palette.c
	* app/selection.c: remove vestigal colormap code; use get_color
	directly now

	* libpicman/color_display.h
	* app/gdisplay_color.c: bugfixes, added state load/save hooks,
	redid the interface to work on blocks, removed dummy default
	handler, work on gamma correction stuff

	* app/picmanbrushpipe.c: #include <stdlib.h>

	* app/gximage.c: minor cleanups

	* app/levels.c: default to ~/.picman-1.1/levels for load/save; minor
	gui prettification

	* app/main.c
	* app/menus.c: plug-in menu translation patch from SHIRASAKI Yasuhiro
	<yasuhiro@awa.tohoku.ac.jp>

	* libpicman/stdplugins-intl.h: add INIT_I18N_UI() for calling
	gtk_set_locale()

	* plug-ins/Lighting/lightin_main.c: use INIT_I18N_UI()

Fri Aug 27 18:57:50 BST 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c
	* app/nav_window.h
	* app/picmanpreviewcache.h
	* app/layer.c
	* app/channel.c 
	* app/commands.c

	Added some controls to the nav window. Yep. I know that the
	buttons are toooo biGGG.

	Preview cache changes. Now prime preview cache with a image
	so that later we have a better chance of a hit. Still
	needs to be more intelligent at doing this (needs to pick largest
	out of the cache & use its size as the size to prime with).
	
Fri Aug 27 02:16:02 EDT 1999 Adrian Likins <alikins@redhat.com>

	* app/picmanbrushpipe.c: paint_line_pixmap_mask, finally
	composite alpha correctly, or at least closer. Should 
	get rid of those annoying artifacts. 

Thu Aug 26 17:17:48 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/Makefile.am: use AM_CPPFLAGS instead of CPPFLAGS

	* app/levels.c: added some basic load/save functionality to the levels
	tool. Still needs some polishing.

1999-08-27  Tor Lillqvist  <tml@iki.fi>

	* app/menus.c: Add Acquire under the File menu.

	* plug-ins/twain: New (Windows-only) plug-in. Interface to TWAIN
	image sources. Written by Craig Setera.

	* plug-ins/Makefile.am: Add twain sources to EXTRA_DIST.

	* plug-ins/makefile.{cygwin,msc}: Move picmanressionist and twain
	around as they are in this directory now.

	* plug-ins/common/screenshot.c
	* plug-ins/winsnap/winsnap.c
	* plug-ins/twain/twain.c: Put them under File/Acquire.

1999-08-27  Tomas Ogren  <stric@ing.umu.se>

	* app/convert.c app/paint_funcs.c app/paths_dialog.c:
	i18n fixes and added a missing \n...
	
Thu Aug 26 15:19:19 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/picmanressionist: added picmanressionist plugin

1999-08-27  Tor Lillqvist  <tml@iki.fi>

	* app/paint_core.h: Add a flags field and corresponding type
	ToolFlags to PaintCore. The only flag bit defined so far is
	TOOL_CAN_HANDLE_CHANGING_BRUSH, which those tools who don't mind
	if the brush changes while painting (as in the case of pixmap pipe
	brushes).

	* app/paint_core.c: Test above flag before calling the brush's
	select_brush method.

	* app/airbrush.c
	* app/paintbrush.c
	* app/pencil.c: Set above flag.

	* app/makefile.{cygwin,msc}: Add latest additions.

Thu Aug 26 14:16:12 PDT 1999 Manish Singh <yosh@picman.org>

	* app/picmanbrushpreview.c: #include picmanbrushpipe.h and picmanbrushpipeP.h
	instead of picmanbrushpixmap.h

Thu Aug 26 22:10:11 MEST 1999  Sven Neumann <svenpicman.org>

	* app/picmanbrushpreview.[ch]
	* app/picmanpatternpreview.[ch]: new files
	Widgets that handle the complete preview machinery with scaling and
	popups for brushes and patterns.

	* app/Makefile.am
	* app/inidicator_area.c: Use the new widgets.

	The device-status dialog and the brush and pattern selectors should
	use the new widgets too. Hopefully the GtkLayout widget can handle
	this easily. As I am away till next week, I won't object if someone 
	else gives it a try...

Wed Aug 25 02:40:39 CDT 1999 Shawn T. Amundson <amundson@picman.org>

	* app/image_new.[ch]: Added new files, the UI independant part of
	  new image dialog.  

	* app/file_new_dialog.[ch]: uses image_new stuff now.  Alot
	  changed.  No UI changed.  Different behavior is a bug, as
	  this is only for UI separation.

	* app/picmanimage.[ch]: Added picman_image_get_width () and 
	  picman_image_get_height ().

	* app/global_edit.c: Call a function in image_new instead of
	  file_new_dialog for updating the status of the cut buffe.

Wed Aug 25 17:27:40 PDT 1999 Manish Singh <yosh@picman.org>

	* Makefile.am
	* configure.in
	* picmantool.in: install a picmaninstall script (basically install-sh)
	for platforms without an install tool

	* plug-ins/common/csource.c: correct some gccisms

	* plug-ins/unsharp/dialog_f.c
	* plug-ins/unsharp/dialog_i.c
	* plug-ins/unsharp/unsharp.c: // IS NOT A VALID C COMMENT

1999-08-26  Tor Lillqvist  <tml@iki.fi>

	Overhaul of pixmap brushes and pipes: No separate pixmap pipe
	brush tool any longer. The paintbrush, airbrush and pencil
	tools, which already knew how to handle the single-pixmap
	brushes now also handle the pipes as well.

	* app/pixmapbrush.{h,c}
	* app/picmanbrushpixmap.{h,c}: Removed these files.

	* app/Makefile.am
	* app/makefile.{cygwin,msc}: Remove from here, too.

	* app/picmanbrushpipe.{h,c}: Total overhaul.

	* app/picmanbrushpipeP.h: New file.

	* app/paint_core.h
	* app/apptypes.h: Some more types moved to apptypes.h

	* app/context_manager.c
	* app/tool_options.c
	* app/tools.c
	* app/toolsF.h: Remove PIXMAPBRUSH tool.

	* app/picmanbrush.h: New method: select_brush. Used to change the
	brush in paint_core, for pipe brushes.

	* app/picmanbrush.c: Add picman_brush_select_brush, which is dummy for
	the normal brushes (returns the same brush).

	* app/paint_core.c: Call the brush's select_brush method to get a
	potential new brush before calling the paint_func.

	* app/picmanbrushlist.c: Various changes related to the pixmap and
	pipe overhaul.

	* app/airbrush.c
	* app/pencil.c: Reorder code a bit in the tool motion function to
	avoid executing unnecessary code in the case of a pixmap brush.

	Other changes in the same commit:

	* app/install.c: Make quote_spaces extern.

	* app/appenv.h: Declare it.

	* libpicman/picmanui.def: Add missing entry points.

	* libpicman/makefile.{cygwin,msc}: Add missing objects to picmanui.

1999-08-26  Tomas Ogren  <stric@ing.umu.se>

	* app/module_db.c: Put the list above the description instead of
	to the left in the module browser. Fits much better on the screen and
	looks better.

1999-08-26  Tomas Ogren  <stric@ing.umu.se>

	* app/info_window.c: i18n fix

Wed Aug 25 12:17:05 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gdisplay.c: more i18n fixes (missed a patch from before)

	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am: added gpb

1999-08-24  Raja R Harinath  <harinath@cs.umn.edu>

	* tools/Makefile.am: Comment out gcg stuff.

Tue Aug 24 22:50:28 BST 1999 Andy Thomas <alt@picman.org>

	* app/nav_window.c

	Preview now updated when image is modified. Done on a two second +
	idle timer. However the preview cache needs modifying since
	the tiles are transversed twice. Once for small previews then for
	larger ones. Should only be done once.
	
Tue Aug 24 12:49:35 PDT 1999 Manish Singh <yosh@picman.org>

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/menus.c
	* plug-ins/common/autostretch_hsv.c
	* plug-ins/common/compose.c
	* plug-ins/common/decompose.c
	* plug-ins/common/mail.c
	* plug-ins/print/print.c
	* plug-ins/script-fu/script-fu-scripts.c: big i18n fix patch
	from SHIRASAKI Yasuhiro <yasuhiro@awa.tohoku.ac.jp>. Fixes those
	pesky menu problems

Tue Aug 24 20:32:39 MEST 1999  Sven Neumann <sven.picman.org>

	* plug-ins/common/Makefile.am
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/grid.c: use real-life units

	I have heavily commented the interface code in the hope that it will
	help other plug-in developers to adapt their plug-ins to make use
	of the picman_size_entry functionality. 
	
	We need more units support in the plug-ins!!

Mon Aug 23 22:41:52 1999  Jay Cox  (jaycox@picman.org)

	* app/paint_funcs.c: fixed bug in scale_region that caused what
	looks like scan line swapping.

1999-08-24  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/gpb.c: Added saving of .gih files.

	* plug-ins/common/psp.c: Small changes, renamed the parasite.

	* docs/parasites.txt: Suggesta a parasite for pixmap brush pipes.

	* docs/gih.txt: Add the above parasite on the second line after
	the number of brushes. Suggest how to edit brush pipes.

	* docs/gpb.txt: Mention the gpb plug-in. 

	* app/pixmapbrush.c: Small clarification.

	Fixes by Hans Breuer:

	* libpicman/picman.def: Add missing entries.

	* app/picmanimage.h: Added declaration of	picman_image_{freeze,thaw}_undo.

	* modules/makefile.msc: Drop the .msvc from dll names.

	* plug-ins/common/jpeg.c: Guard inclusion of
	unistd.h. (save_dialog): Restrict text box height to help people
	with small displays.

1999-08-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/color_panel.[ch]: new function color_panel_set_color().

	* app/color_picker.c: added a color panel to the color picker info
	dialog and a toggle button to the color picker's tool options
	which allows color updates to be effective in the info dialog
	only.

	* app/info_dialog.[ch]: changed the packing parameters of the info
	table. Small fixes.

	* app/palette.c: the name created for dropped colors contained " "
	instead of "0".

1999-08-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/channels_dialog.c
	* app/color_area.c
	* app/color_panel.c
	* app/color_select.c
	* app/disp_callbacks.[ch]
	* app/picmandnd.[ch]: pass the widget to the color dnd callbacks.

	* app/palette.c: color dnd for the palette dialog. Shift+click
	toggles setting the FG/BG color now.

1999-08-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/color_select.[ch]: color dnd for the standard color
	selection widget (the "PICMAN" color notebook page).

Mon Aug 23 23:25:05 BST 1999 Andy Thomas <alt@picman.org>

	* app/menus.c
	* app/nav_window.c
	
	Nav window code now handles boundary conditions correctly (ie
	you can scroll to the edges of the image now).
	It also has some key bindings:-
	
	1) Arrow keys work as expected
	2) =/- keys perform zoomin/zoomout. Note these keys are hardcoded
	at present until (if) I find away of finding out how to get the
	current accel. keys for these functions.
	3) Space will raise the display window to the top of the window stack.
	It also updates the preview. This will be changed to happen 	
	automatically RSN.

	Tearoff menus are now popped up and down (like other dialogs) when
	the tab key is pressed in the image window.

Mon Aug 23 19:55:48 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.c: fixed display of distance in the info window

Mon Aug 23 10:37:24 EDT 1999  Austin Donnelly  <austin@picman.org>

	* picmanrc.5.in: add docs for %Dx image-title-format string.

Mon Aug 23 10:15:32 EDT 1999  Austin Donnelly  <austin@picman.org>

	Dirty flag now correct in all cases.  Can be displayed in image
	window title too.  See NOTE near picman_image_dirty() for details.

	* app/fileops.c: picman_image_clean_all() after reverting an image.
	* app/gdisplay.c: register handlers for gimage dirty and clean
	    signals to update image title.  New image-title-format
	    expansion: %Dx expands to x if the image is dirty.
	* app/gdisplay_ops.c: gimage->dirty flags != 0 is the correct
	    condition to test to see if an image is dirty.
	* app/picmandrawable.c: picman_image_dirty() should never be called
	    except from an undo_push_* function.  Call
	    undo_push_cantundo() if you want to dirty the image but can't
	    be bothered writing an undo handler (be ashamed of yourself!).
	* app/picmanimage.c: new gimage signal: clean.  Emitted when an undo
	    operation takes place.  Gimage changes when either dirty or
	    clean is emitted, so if you need to update previews etc, look
	    for both!  Move group_count into gimage structure, since
	    leaving it as a static in undo.c is bad if two undo groups are
	    started on different images at the same time.  More changes
	    of picman_image_dirty() to undo_push_cantundo()
	    (parasite-related, plus layer moves).  See the NOTE on dirty
	    counter near picman_image_dirty() for the full story.
	    picman_image_dirty() and picman_image_clean() simplified - counter
	    can go negative.
	* app/picmanimageP.h: group_count moved from undo.c
	* app/layers_dialog.c: push undo for layer name change, rather
	    than dirtying the image.
	* app/undo.c: layer rename undo functions
	    added. undo_push_cantundo() convenience functions added.
	    group_count made per-gimage since everything else is.  When
	    blowing away redo stack, make image infinitely dirty if redo
	    info contained file save point.
	* app/undo.h: added undo_push_layer_rename() and
	    undo_push_cantundo().
	* TODO: added idea for undo history window.

1999-08-23  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/bucket_fill.[ch]: export bucket_fill_region().

	* app/channels_dialog.c: enabled dropping a color to a channel.

	* app/color_area.c
	* app/color_panel.c
	* app/picmandnd.[ch]: the whole color dnd is now done in a generic
	function in picmandnd.c (dnd of other types is still hacked in at
	various places but will go to generic functions and callbacks as
	well).

	* app/disp_callbacks.[ch]
	* app/interface.c: drop a color to the display to bucket fill the
	selected region.

Mon Aug 23 02:19:12 1999  Jay Cox  (jaycox@picman.org)

	* app/paint_funcs.c: fixed a couple of bugs in the scale_region code.

Mon Aug 23 00:56:59 EDT 1999 Adrian Likins <alikins@redhat.com>
	
	* app/picmanbrushhose.c
	* app/picmanbrushhose.h:
		removed.
	* app/picmanbrushpipe.c
	* app/picmanbrushpipe.h:
		New files to replace the above
	* app/picmanbrushlist.c
	* app/paintbrush.c
	* app/pixmapbrush.c
	* app/Makefile.am:
		s/hose/pipe. Seems someone else uses that name,
	so change it to pipe. 

	* app/picmanbrush.c
	* app/picmanbrush.h
	* app/picmanbrushpixmap.c
	* app/patterns.c
	* app/patterns.h
	* app/pixmapbrush.c:
		Added functions to do the actual loading of 
	brush/pattern dialog. Use them where approriate instead
	of c&p the same code all over the place. 
	
	* app/pixmapbrush.c: Fix the bug where masks and brush
	data werent aligned. I didnt quite notice that 
	paint_core_get_paint_area returns an area with a 1 pixel
	border larger than the brush. Ooops.

	* TODO: just update a few things while I'm at it
	(pixmap/pipe stuff in particular)

Sun Aug 22 15:49:10 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: add check for zlib for building psp plugin

	* plug-ins/common/mkgen.pl
	* plug-ins/common/plugin-defs.pl
	* plug-ins/common/Makefile.am: add psp plugin

	* plug-ins/common/mail.c: removed double picman_destroy_params, fixing
	a segfault

1999-08-22  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/psp.c: Use g_message, not picman_message.
	g_message calls picman_message eventually. Disable the debugging
	messages.

	* plug-ins/common/gpb.c: New plug-in for saving Adrian's gpb files
	(pixmap brushes) from an RGBA image. Probably just of temporary
	value.

	* plug-ins/makefile.{cygwin,msc}: Add it.

	* plug-ins/common/gbr.c: Use g_message instead of printf.

	* app/makefile.{cygwin,msc}: Comment out the gcg stuff here,
	too. Remove frac.o.
	
1999-08-22  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/color_area.[ch]
	* app/color_panel.[ch]
	* app/picmandnd.[ch]: enabled dnd for colors (compatible with the
	standard gtk/gnome color dnd). The color selection is now invoked
	on a real click, not on button_down to avoid confusion with dnd.

	* app/channels_dialog.c
	* app/disp_callbacks.c
	* app/interface.c
	* app/layers_dialog.c: minor dnd updates/fixes.

	* app/channel.[ch]
	* app/channel_pvt.h
	* app/docindex.[ch]
	* app/docindexif.[ch]
	* app/drawable.[ch]
	* app/floating_sel.c
	* app/gimage.[ch]
	* app/gimage_mask.c
	* app/picmandrawable.[ch]
	* app/picmandrawableP.h
	* app/picmanimage.[ch]
	* app/picmanimageP.h
	* app/layer.[ch]
	* app/layer_pvt.h
	* app/undo.c
	* app/xcf.c: wanted to do some s/int/gboolean/ in the layer files
	where appropriate and found myself spending the whole night doing
	a big code review for layers/channels/drawables/images:
	s/int/gboolean/, s/<type>/g<type>/, lots of indentation, removed
	some old global variables and deprecated functions, #include
	cleanups, proper prototypes, copyright headers, ...

1999-08-22  Tomas Ogren  <stric@ing.umu.se>

	* app/bucket_fill.c
	* app/clone.c
	* app/convolve.c
	* app/flip_tool.c
	* app/measure.c
	* app/pixmapbrush.c: i18n fixes

1999-08-22  Tomas Ogren  <stric@ing.umu.se>

	* app/tool_options.c: Remember kids, "Options" is spelled "Options",
	not "Ootions"

1999-08-22  Tor Lillqvist  <tml@iki.fi>

	* app/convert.c: Use spinbutton for number of colours.

	* app/preferences_dialog.h: Export picman_spin_button_new. Not the
	most logical place for it, though.

	* plug-ins/common/psp.c: Handle the tube block, too. Save tube
	(image hose) parameters in a parasite. Yet-to-be-written code
	that creates a .gih file (or something better) can get them
	from there.

	Actually attach the comment parasite.

	Must set layer offset after adding it to the image.

Sat Aug 21 17:34:53 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: version number bump

	* autogen.sh
	* configure.in
	* app/Makefile.am: comment out gcg stuff, nobody seems to be using it

	* app/colormap_dialog.*: added generated files

Sat Aug 21 22:32:25 MEST 1999  Sven Neumann <sven@picman.org>

	* app/brush_select.c
	* app/brush_scale.[ch]: implemented brush_scaling for pixmap brushes.
	This commit is done only to get some working code in before I start to
	move all the brush_preview crap into one central place.

Sat Aug 21 20:30:48 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/frac.[ch]: Eradicated.

	* app/xcf.c: In mourning.

1999-08-21  Tor Lillqvist  <tml@iki.fi>

	* app/errorconsole.c: Also provide a Clear button.

	* app/picmanrc.c: Add a missing static function declaration.

	* app/makefile.{cygwin,msc}: Add new files.

	* libpicman/picman.def: Add new entry points.

	* plug-ins/common/jpeg.c: Must include glib.h first. You don't
	want to know why.

	* plug-ins/common/psp.c: New file. This plug-in Loads Paint Shop
	Pro files (.psp and .tub). Doesn't yet save them. Handles only 24-
	bit images (with or without alpha) correctly so far.

	* plug-ins/makefile.{cygwin,msc}: Build psp. Somebody please add
	it to the auto* build system, too. I guess a test for zlib (which it
	needs) is needed in configure.in.

Sat Aug 21 16:53:17 BST 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/common/jpeg.c:  Preview layers need to be alpha-padded,
	since they're not on the bottom of the stack.  That's a PICMAN rule.

	Plus... use new API functions picman_image_{freeze,thaw}_undo() to avoid
	the dilemma of either consuming a squillion superfluous tiles or
	clobbering the whole undo stack.

	* app/gimage.h
	* app/gimage_cmds.c
	* app/picmanimage.c
	* libpicman/picman.h
	* libpicman/picmanimage.c: New API functions
	picman_image_{freeze,thaw}_undo()	to avoid the above twin	evils.
	Similar to picman_image_{disable,enable}_undo() but without
	clobbering the undo stack (I would have simply changed the latter,
	but too many plugins seem to rely on that behaviour).  See the PDB
	docs for slightly more information.
	
Sat Aug 21 8:47:00 CST 1999  Seth Burgess <sjburges@picman.org>

	* plug-ins/common/jpeg.c : added a patch by Xach for slider
        being inactive when checkbox isn't marked.

Sat Aug 21 15:16:00 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.c: corrected my last "fix"
	* app/paint_core.c: corrected an error in the modifier handling I 
	introduced earlier

Sat Aug 21 13:30:38 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.c: corrected the guides placement and added 
	the possibility to use an info window (e.g. for the case
	that the user chooses not to have a statusbar)

Sat Aug 21 01:18:08 1999  Jay Cox  (jaycox@picman.org)

	* app/picmanrc.[ch]: removed cubic_interpolation variable.
	* app/transform_core.c: use the interpolation_type variable 
	instead of the old cubic_interpolation variable.

Sat Aug 21 21:03:00 CST 1999  Seth J. Burgess <sjburges@picman.org>
	
	* plug-ins/common/jpeg.c: committed patch by Steinar Gunderson
        <sgunderson@bigfoot.com> that has previews, subsampling, choice
        of dct, and the kitchen sink.  Very cool.

Sat Aug 21 01:06:53 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/nav_window.c: Navigation window shows checkmarked alpha,
	also previews correctly for greyscale images now.

Sat Aug 21 00:07:37 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/nav_window.c: Improved pointer tracking when
	dragging navigator rectangle - less lag.  Enabled hourglass
	when computing first thumbnail.

1999-08-20  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/Makefile.am
	* app/picmandnd.c: new file. Contains a function which creates dnd
	preview icons for all kinds of drawables.

	* app/picmandnd.h: added the new dnd types.

	* app/channels_dialog.c: same dnd functions as in the layers
	dialog. Fixed channels_dialog_flush(). Code cleanup.

	* app/layers_dialog.c: enabled dnd for layer masks.

	* app/disp_callbacks.c
	* app/interface.c: dnd code generalization. The toolbox and the
	display accept drop of any kind of drawable now.

	* app/gimage.h
	* app/picmanimage.[ch]: new function picman_image_position_channel().

	* app/layer.[ch]: new function layer_mask_get_layer().

Fri Aug 20 02:17:18 1999  Jay Cox  (jaycox@picman.org)

	* app/apptypes.h: added InterpolationType enum.
	* app/picmanrc.[ch], app/preferences_dialog.c: replaced 
	cubic_interpolation flag with interpolation_type variable.

	* app/pixel_region.[ch]: added pixel_region_has_alpha function.

	* app/paint_funcs.c: rewrote scale_region.  It now behaves
	correctly on images with alpha, no longer leaves an artifact on the
	right edge of images when scaling up, and runs significantly
	faster.

Fri Aug 20 11:21:57 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/tips_dialog.c (read_tips_file): open tips file with "rt".

1999-08-19  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/Makefile.am
	* app/picmandnd.h: new file containing the dnd data definitions.

	* app/disp_callbacks.[ch]
	* app/interface.c: drop layers on the toolbox to create a new
	image and on the display to copy it to the image's layer stack.

	* app/layers_dialog.c: drop layer on the "New" button to create an
	empty layer with the dropped layer's properties, to "Duplicate" to
	duplicate it and on the trashcan to delete it.
	Thanks to Andy for the ultra-cool dnd preview pixmap patch.

	* app/layer.[ch]
	* app/undo.c: renamed layer_mask() to layer_get_mask(). Prototyped
	some function headers.

	* app/disp_callbacks.c: Wheelmouse stuff: Shift+wheel scales the
	display.

	* app/airbrush.c
	* app/eraser.c
	* app/paint_options.h
	* app/paintbrush.c
	* app/pencil.c
	* app/tool_options.c: moved the "Incremental" toggle to the
	PaintOptions structure because it is used more often now.

Thu Aug 19 18:27:42 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.c: use <Ctrl> and/or <Alt> to add horizontal
	and/or vertical guides at the handle position

Wed Aug 18 23:44:15 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/drawable.pdb: #include "channel.h" and "layer.h"
	for PICMAN_CHANNEL, PICMAN_IS_LAYER, and PICMAN_LAYER #defines

Thu Aug 19 00:18:32 1999 Adrian Likins <alikins@redhat.com>
	
	* data/brushes/vine.gih
	* data/brushes/pepper.gpb: new files, a sample hose
	and a sample pixmap brush

	* docs/gpb.txt
	* docs/gih.txt: vague description of the current pixmap
	brush and hose formats

	* app/picmanbrushhose.c
	* app/picmanbrushpicmap.c: use the brush spacing info now

Wed Aug 18 22:49:31 1999 Adrian Likins <alikins@redhat.com>
	
	* app/apptypes.h: add GradientPaintMode enum
	* app/paint_core.h: move above enum
	* app/paintbrush.c: use above enum

	* app/drawable_cmds.c: include "layers.h" so it
	will link again

1999-08-19  Tor Lillqvist  <tml@iki.fi>

	* app/*.[ch]: Actually use the enum types PicmanImageType,
	PicmanImageBaseType, LayerModeEffects, PaintApplicationMode,
	BrushApplicationMode, PicmanFillType and ConvertPaletteType, instead
	of just int or gint. Hopefully I catched most of the places
	where these should be used.

	Add an enum ConvolutionType, suffix the too general constants
	NORMAL, ABSOLUTE and NEGATIVE with _CONVOL. Use NORMAL_MODE
	instead of NORMAL in some places (this was what was intended). Fix
	some minor gccisms.

	* app/apptypes.h: New file. This file contains the above
	enumeration types, and some opaque struct typedefs. It was
	necessary to collect these in one header that doesn't include
	other headers, because when we started using the above mentioned
	types in the headers, all hell broke loose because of the
	spaghetti-like cross-inclusion mess between headers.

	(An example: Header A includes header B, which includes header C
	which includes A. B uses a type defined in A. This is not defined,
	because A hasn't defined it yet at the point where it includes B,
	and A included from B of course is skipped as we already are
	reading A.)

	* tools/pdbgen/Makefile.am: Add apptypes.h.

	* tools/pdbgen/pdb/drawable.pdb
	* tools/pdbgen/pdb/layer.pdb: Add a few casts.

Wed Aug 18 20:49:48 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.c: Almost complete now. Pressing <Shift> in one of
	the handles adds a third one to measure arbitrary angles. Still
	need to add a possbility to add guides at the handle position.

1999-08-18  Tor Lillqvist  <tml@iki.fi>

	* app/picmanbrushhose.c (picman_brush_hose_load): Fix it. Now the hose
	itself, interpreted as a pixmap brush (which the hose is a
	subclass of), is the first brush in its list. The rest of the
	pixmap brushes in the list are separately allocated ones. Don't
	read the pattern names into dummy buffers, just seek past.

	* app/pixmapbrush.c (pixmapbrush_motion): Now works better, and
	actually steps through the pixmaps in the hose's list. The
	paint_core->brush (which points to a brush hose in the cases we're
	interested in) is temporarily replaced with the current pixmap
	brush to use, and restored after applying the pixmap brush.

	* app/makefile.{cygwin,msc}: Add new files.

Tue Aug 17 16:36:54 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* libpicman/picman.c (picman_uninstall_temp_proc): Prevent calling free with
	undefined memory pointer. This happened if the name wasn't found
	in the hash table. 

Mon Aug 16 20:48:33 1999 Adrian Likins <alikins@redhat.com>

	* app/Makefile.am
	* app/picmanbrushhose.c
	* app/picmanbrushhose.h: new files to implement a PicmanBrushHose
	type. The idea being its derived from picmanbrushes, so we can
	make regular tools use it if need be, and fold it into the brushes
	dialog nice and easy.

	* app/picmanbrush.c
	* app/picmanbrushgenerated.c
	* app/picmanbrushpixmap.c:
	* app/picmanbrushpixmap.h: Modified the *_get_type() functions
	to behave more correctly. As suggested by Tim Janik <tim@gtk.org>

	* app/pixmapbrush.c: Since pixmapbrush tool wasnt doing anything
	useful anyway, start using it as a testbed for "image hoses".
	Right now it doesnt really work correctly. 

	* app/paintbrush.c: force pixmaps to use INCREMENTAL

1999-08-16  Tor Lillqvist  <tml@iki.fi>

	* app/transform_core.c: Use RINT instead of rint.

	* plug-ins/common/curve_bend.c
	* plug-ins/sel2path/spline.c: Workarounds for gccisms, thanks to
	Hans Breuer.

	* app/makefile.msc
	* plug-ins/makefile.msc: Misc fixes.

Mon Aug 16 03:46:43 1999  Jay Cox  (jaycox@picman.org)

	* app/transform_core.c: put the picman_matrix_is_simple 
	optimization back in.

Mon Aug 16 01:24:42 1999  Jay Cox  (jaycox@picman.org)

	* app/transform_core.c: data access optimizations from
	David Hodson <hodsond@acm.org>

1999-08-16  Tor Lillqvist  <tml@iki.fi>

	* app/appenv.h: Add G_SQRT2.

	* app/iscissors.c: Use it.

	* app/makefile.{cygwin,msc}: Add new files.
	
	* */makefile.{cygwin,msc}: Use libintl extracted from glibc from a
	separate directory, not from gettext, because of licensing issues
	(we want to use the LGPL version in GTk+, so use it here, too).

Sun Aug 15 20:42:04 PDT 1999 Manish Singh <yosh@picman.org>

	* app/appenv.h: added a G_PI_2

	* app/brush_header.h
	* app/pattern_header.h: prefixed each FILE_VERSION with
	G{BRUSH,PATTERN} to avoid namespace collision

	* app/patterns.c: reflect above change

	* app/iscissors.[ch]: merged in Austin's iscissors rewrite.. still
	unfinished, but it's not like the old one did anything useful
	anyway ;)

Sun Aug 15 23:10:21 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.c: sqeezed out the last bugs out of the current
	implemenatation (at least I hope so). Please test this on 
	non-Linux platforms.

Sun Aug 15 22:14:20 MEST 1999  Sven Neumann <sven@picman.org>

	* app/measure.[ch]: new files
	* app/Makefile.am
	* app/pixmaps2.h
	* app/tools.c
	* app/toolsF.h: added new Measure tool.
	The tool is not yet finished ...

Sat Aug 14 14:35:16 MEST 1999  Sven Neumann <sven@picman.org>

	* app/blend.c
	* app/paint_core.c: movements restricted to 45 degrees (Ctrl+Alt) 
	feel more natural now

Fri Aug 13 15:28:00 PDT 1999 Manish Singh <yosh@picman.org>

	* Makefile.am: add pixmaps/dropper.xpm to EXTRA_DIST

	* app/appenv.h: minor formatting changes

	* app/channel.c: #include "gdisplay.h"

	* app/color_transfer.c
	* app/dodgeburn.c
	* app/gdisplay.c
	* app/iscissors.c
	* app/paint_core.c: remove extra SQR and ROUND definitions

	* app/flip_tool.c: hackaround the flip tool options constant problem

	* app/flip_tool.[ch]: use InternalOrientationType for flip_tool_flip
	prototype

	* app/interface.c: use GTK_LABEL case in gtk_label_set_justify

	* plug-ins/common/mkgen.pl
	* plug-ins/common/plugin-defs.pl: add @extra EXTRA_DIST processing

Fri Aug 13 16:39:25 1999 Adrian Likins <alikins@redhat.com>

	* app/airbrush.c
	* app/paintbrush.c
	* app/pencil.c
	* app/pixmapbrush.c
	* app/pixmapbrush.h

	Added support for pixmap brushes to airbrush, pencil, 
	and paintbrush. Merging this into paintbrush makes
	the pixmaptool itself kind of useless at the moment,
	but that will change ;->

	Still a few rough edges here, but its mostly there. 
	I still need to make the "incremental" button for
	the tools to accurately reflect that pixmap always
	uses this mode. 

	* app/eraser.c
	* app/eraser.h
	* app/tools_cmds.c
	* app/paint_func.[ch]
	* tools/pdbgen/pdb/tools.pdb

	Applied patch from  Shuji Narazaki <narazaki@picman.org>
	to implement the anti-eraser. Neat.


1999-08-13  Kelly Martin  <kelly@poverty.bloomington.in.us>

	* app/brush_select.c: Color brushes now appear in the brush
	selector in color.  Scaling is disabled for color brushes because
	I can't figure out how to do it just now.  Still need to fix the
	toolbox to do this too.

Thu Aug 12 19:16:58 1999 Adrian Likins <alikins@redhat.com>

	* app/pixmapbrush.c: added a fix from Xach "I dont code."
	Beane <xach@picman.org> to fix the behaviour when painting
	at the top of images.

Thu Aug 12 23:15:53 BST 1999 Andy Thomas <alt@picman.org>

	* app/commands.c
	* app/commands.h
	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/gdisplay.h
	* app/info_dialog.c
	* app/info_dialog.h
	* app/info_window.c
	* app/info_window.h
	* app/menus.c
	* app/scale.c
	* app/scroll.c
	* app/scroll.h
	* app/nav_window.c (new)
	* app/nav_window.h (new)
	* pixmap/dropper.xpm (new)

	New "navigator" image (accessed via <Image>/Window Nav..). This gives
	an outline of the location of the current view on an image. Eg if your
	image window is only showing part of an image then the Window Navigation
        window will outline the area viewed. You can "drag" the outlined 
	square around the viewport and the main image will scroll. Additional
	a single click outside the square will center the image at that 
	location.

	Also started to add additional information to a new page inside the
	Window information dialog (currently only pixel value is shown).

	Both these features are currently work in progress and unfinished. 
	In particular the Navigator does not keep in step with changes
	to the basic image (however it does keep in step with image size changes
        and if you modify the size of the image viewing window). It also
	does not display the transparent areas of images very nicely. 
	 
1999-08-13  Tor Lillqvist  <tml@iki.fi>

	* app/makefile.{cygwin,msc} (picman_OBJECTS): Add newest files.

	* plug-ins/common/winclipboard.c: Speed up by using
	picman_tile_cache_size().

	* app/picmanrc.c
	* plug-ins/script-fu/script-fu-scripts.c: Guard
	use of GLIB_CHECK_VERSION from old GLibs that don't have it.

Thu Aug 12 19:53:19 MEST 1999  Sven Neumann <sven@picman.org>

	* app/Makefile.am
	* app/brush_scale.[ch]: new files that add brush-scaling
	* app/brush_select.c
	* app/devices.c
	* app/indicator_area.c: Scale brushes in the preview so they fit
	into the preview area. We will use this code for pressure-sensitive
	brush-scaling too, but I have to create a GUI for that first.

Thu Aug 12 18:54:38 MEST 1999  Sven Neumann <sven@picman.org>

	* tools/pdbgen/pdb/picmanrc.pdb: made the monitor resolution 
	accessible through a PDB function

	* app/internal_procs.c
	* app/picmanrc_cmds.c: changed the autogenerated files

	* plug-ins/common/screenshot.c: set the image resolution to the
	monitor resolution and unset the image name

Tue Aug 10 01:15:59 1999 Adrian Likins <alikins@redhat.com>
	
	* app/pixmapbrush.c: fixed the weirdness with drawing
	along the left side of the image. Top's still weird

Mon Aug  9 22:46:34 1999 Adrian Likins <alikins@redhat.com>
	
	* app/pixmapbrush.c: couple of warning clean ups and
	some minor fleshing out, fix a bit of the border problems

Mon Aug  9 01:20:24 1999 Adrian Likins <alikins@redhat.com>

	* app/pixmapbrush.c 
	* app/pixmapbrush.h
	* app/picmanbrushpixmap.c
	* app/picmanbrushpixmap.h: New files, implement the PicmanBrushPixmap
	  object, and the pixmap brush tool.

	* app/context_manager.c
	* app/tool_options.c 
	* app/tools.c
	* app/toolsF.h: add the pixmap brush tool in

	* app/picmanbrushlist.c: allow for loading of pixmap brushes and
	displaying them in the brush dialog. Currently it only shows the
	grey scale mask.

	*app/Makefile.am: add the pixmap tool stuff to the build process

	These Changes implement a pixmap brush tool. Sort of a "image stamp".
	Some examples can be seen at http://adrian.picman.org/pixmap-brush/.

	Some examples of pixmap brushes can be found there too (.gpb
	extension), but these are easy enough to make (for now, make
	a pattern and a brush the same size and `cat foo.gbr foo.pat >
	foo.gpb` ;->

	Theres still a few rough edges that need some tweaking, but
	the framework is there. Figured I'd sneak it in before the
	freeze.

1999-08-08  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/common/winclipboard.c: New Windows-only plug-in, an
	interface to the Windows clipboard. (Now we can cut and paste
	images between the PICMAN and other applications!). Thanks to Hans
	Breuer for the implementation.

	* plug-ins/makefile.{cygwin,msc}
	* plug-ins/common/Makefile.am (EXTRA_DIST): Add it.

Sat Aug  7 15:30 1999 Seth Burgess <sjburges@picman.org> 
	* channel.c
	* channel.h : more public accessors; eventually things should be 
	              rewritten to use them so we aren't #include'ing 
                      channel_pvt.h all over (uck)
	* channel_ops.c
	* picmanimage.c
	* picmanimageP.h
	* interface.c
	* paint_core.c
	* paths_dialog.c
	* qmask.c
	* qmask.h : Added a dialog to let you choose your qmask properties
                    when you double click either button.

Fri Aug  6 13:07:58 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* libpicman/picmanenv.c (picman_directory): set picman_directory
	to PICMANDIR if it isn't defined (for OS/2 only).

	* app/datafiles.c (datafiles_read_directories): Handle drives in 
	directory paths. For OS/2.

1999-08-05  Tor Lillqvist  <tml@iki.fi>

	* app/appenv.h: Define ROUND(), RINT(), SQR(), G_PI and
	G_PI_4. The latter two will presumably eventually be in
	GLib. RINT() calls rint() if we have it, otherwise adds 0.5 and
	calls floor().

	* app/*.c: Remove the multiple identical definitions of M_PI. Use
	G_PI instead of M_PI. Remove ROUND() and rint() definitions. Use
	RINT() instead of rint().

Tue Aug  3 22:16:57 MEST 1999  Sven Neumann <sven@picman.org>

	* app/interface.c: My last change to the dnd code did fix the bug
	but disabled loading multiple files. Now applied a new patch from
	Shuji Narazaki <narazaki@picman.org>.

Fri Jul  2 18:05:44 1999  Owen Taylor  <otaylor@redhat.com>

	* plug-ins/ifscompose/ifscompose_storage.c (parse_genuine_float):
	Fix bug with negative values.

Tue Aug  3 18:13:47 CEST 1999  Marc Lehmann <pcg@goof.com>

        * app/interface.c: Display multi-line messages left-justified
        instead of centered.

Tue Aug  3 02:13:57 1999  Jay Cox  (jaycox@picman.org)

	* app/transform_core.c: Improvements to the transform_core_do and 
	cubic routines by David Hodson <hodsond@acm.org>
	"This fixes a number of annoying inaccuracies in transform_core.
	The identity transform now leaves all pixels unchanged; previously
	it shifted the image by 1/2 pixel left and up. All edges of an
	image are now correctly antialiased after a transform. The cubic
	interpolation function has been changed to a slightly smoother one.
	The code has been tidied and rearranged for some minor improvements
	in efficiency, but the basic logic and tile handling have not changed."

1999-08-03  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/Makefile.am
	* plug-ins/common/Makefile.am: Distribute the Windows-only
	plug-ins, too.

	* plug-ins/print/print.c: Use picman_personal_rc_file().

	* plug-ins/common/winprint.c: Move here from separate directory.

	* plug-ins/makefile.{cygwin,msc}: Update correspondingly.

	* app/picmanrc.c
	* plug-ins/script-fu/script-fu-scripts.c: Guard against
	different g_strescape API in GLib 1.2 and 1.3.1.

	* app/picmanrc.c: Check for g_get_home_dir() returning NULL.

Mon Aug  2 19:19:19 CEST 1999  Marc Lehmann <pcg@goof.com>

         * tools/pdbgen/pdb/procedural_db.pdb,
         plug-ins/common/tiff.c: _Very_ minor documentation fixes.

Mon Aug  2 21:15:08 MEST 1999  Sven Neumann <sven@picman.org>

	* app/interface.c: Eeek, how has the dnd stuff ever worked before?
	Shame on me, I should have looked into the patch before applying it
	instead of only testing if it works. Hopefully we do the right thing
	now.

Sun Aug  1 19:27:49 PDT 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.8 release

	* configure.in: version number bump

Mon Aug  2 03:42:03 CEST 1999  Marc Lehmann <pcg@goof.com>

        * app/app_procs.c: Improve the picman_quit dialog to use "Quit" and
        "Cancel "instead of "Yes" and "No".

1999-08-02  Tor Lillqvist  <tml@iki.fi>

	* plug-ins/winprint: New (Win32) print plug-in.

	* plug-ins/makefile.{cygwin,msc}: Built winprint, not the Unixish
	print plug-in.

Sun Aug  1 16:27:27 MEST 1999  Sven Neumann <sven@picman.org>

	* app/paint_core.c: Fixed a bug in the line-preview. 

1999-08-01  Tor Lillqvist  <tml@iki.fi>

	* app/channel_ops.c (offset_halfheight_callback): Fix
	cut-and-paste error reported by Claes G Lindblad.

Thu Jul 29 22:06:41 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/tools.pdb: revert previous change

	* tools/pdbgen/pdb/guides.pdb: perform orientation xform here

	* app/picmanimage.h: use 2 enums, one for internal and for external

	* libpicman/picmanenums.h: change around external enums here

Fri Jul 30 02:34:43 CEST 1999  Marc Lehmann <pcg@goof.com>

        * app/picmanparasite.c: I escaped everything when writing out
        parasites with \, everything except the \ itself. Argh.

Fri Jul 30 02:01:16 CEST 1999  Marc Lehmann <pcg@goof.com>

        * docs/parasites.txt: add some suggested colour parasites (no icc
        profile).

Thu Jul 29 17:18:42 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/tools.pdb: hard code orientation constants for
	shear and flip too maintain backwards compatibility

	* app/picmanimage.h: remove ORIENTATION chop to avoid namespace
	collision

Thu Jul 29 23:58:08 1999  Tor Lillqvist  <tml@iki.fi>

	* app/makefile.{cygwin,msc}: Add gdiplay_color. Create picman.def
 	from picman.sym.

	* app/picman.def: Removed.

	* libpicman/picmanenv.c (picman_data_directory) (Win32): Also check for
	the executable being in the plug-ins subdirectory.

	* plug-ins/makefile.{cygwin,msc}: Install also PICMANressionist
 	brushes, papers and presets.

Thu Jul 29 03:20:36 1999  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c, app/transform_core.c:  replace the cubic 
	functions with a better/faster version supplied by
	David Hodson <hodsond@acm.org>

	* app/brush_select.c: double clicking on a brush preview now opens up
	the brush editor.  Update the text displayed when the active brush
	changes size.

	* app/paint_funcs.c: slight modification to overlay_pixels.

Thu Jul 29 02:42:17 1999  Tor Lillqvist  <tml@iki.fi>

	* tools/pdbgen/pdb/channel.pdb: Remove a call to
 	channel_set_opacity() at a point where channel always is NULL,
 	causing a crash. The next statement calls channel_new() (passing
 	the opacity), and assigns its return value to channel, so there
 	shouldn't be any need to call channel_set_opacity()?

	* app/channel_cmds.c: Corresponding change in generated file.

	* plug-ins/winsnap: New Win32-only plug-in: whole display or
 	single window screenshot. Thanks to Craig Setera.

	* plug-ins/makefile.{cygwin,msc}: Add the curve_bend,
 	sample_colorize and winsnap plug-ins.

Wed Jul 28 16:17:29 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdbgen.pl: eval "defined $_" -> eval "defined scalar $_"
	(portability nit)

Wed Jul 28 15:03:28 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/plugin-defs.pl: add sample_colorize and
	curve_bend defs

	* libpicman/color_selector.h: minor consistency cleanup

	* libpicman/picmanchainbutton.[ch]: use new style gtk object helper macros

	* libpicman/picmanfileselection.c
	* libpicman/picmanmatrix.h: minor cleanup

	* libpicman/picmanintl.h: resync with gnome-i18n.h

	
	* libpicman/color_display.h
	* app/picman.sym
	* app/gdisplay_color.[ch]
	* app/app_procs.c
	* app/gdisplay.h
	* app/image_render.c: color display transformation code. Still
	unfinished, so it's not activated yet.

	* app/buildmenu.h: remove unused defines (PULLDOWN, POPUP, OPTION)

	* app/colormaps.[ch]
	* app/image_render.c: remove vestigal dithering stuff

	* app/convolve.h
	* app/picmandrawable.h
	* app/picmanimage.h
	* app/lut_funcs.h
	* app/paint_funcs.h
	* app/plug_in.h: enum nick changes from Marc
	
	* app/channel_ops.c
	* app/crop.c
	* app/gdisplay.c
	* app/picmanimage.[ch]
	* app/move.c: s/([A-Z]+)_GUIDE/ORIENTATION_$1/

	* app/flip_tool.[ch]
	* app/shear_tool.[ch]: use ORIENTATION_* constants instead of our own

	* app/disp_callbacks.c: remove HORIZONTAL and VERTICAL #defines

	* app/general.h: enumified TOKEN_* symbols

	* app/lc_dialog.c
	* app/paint_funcs.c: remove unused variables

	* tools/pdbgen/lib.pl: autogen picmanenums.h (unfinished)

	* tools/pdbgen/stddefs.pdb: new std_orientation_enum, remove
	layer_mode shortcut since we've skipped it in app/

	* tools/pdbgen/pdb/brush_select.pdb
	* tools/pdbgen/pdb/brushes.pdb
	* tools/pdbgen/pdb/drawable.pdb
	* tools/pdbgen/pdb/gimage.pdb
	* tools/pdbgen/pdb/guides.pdb
	* tools/pdbgen/pdb/layer.pdb
	* tools/pdbgen/pdb/tools.pdb: reflect above enum changes, whitespace
	cleanups

	* tools/pdbgen/enums.pl
	* app/brush_select_cmds.c
	* app/brushes_cmds.c
	* app/color_cmds.c
	* app/drawable_cmds.c 
	* app/gimage_cmds.c
	* app/layer_cmds.c
	* app/procedural_db_cmds.c
	* app/tools_cmds.c: reflect pdb and enum nick changes above

Wed Jul 28 21:32:52 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* libpicman/picmanenv.c (picman_data_directory): Add __XOS2RedirRoot() for
	OS/2 version. 

Wed Jul 28 19:41:08 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/common/curve_bend.c
	* plug-ins/common/sample_colorize.c
	* plug-ins/common/mkgen.pl
	* plug-ins/common/Makefile.am: added two new plug-ins coded
	by Wolfgang Hofer <hof@hotbot.com>

1999-07-28  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/gdisplay_ops.c: tweaked one more dialog box: "Changes were
	made to %s. Close anyway?"

	* app/layers_dialog.c: Eek, layers_dialog_flush() was assuming
	that layers can be moved by one position only and thus traversed
	and reordered the same list at the same time. Should work with
	arbitrarily misplaced layers now.
	Fixed some strange dnd special cases and cleaned up the dnd code.

Wed Jul 28 03:42:34 1999  Jay Cox  (jaycox@picman.org)

	* app/pixel_regionP.h: new file that shold have gone with my last
	commit.

Tue Jul 27 22:47:33 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: fixed a bug that was 
	introduced by the latest portability changes

Tue Jul 27 01:21:02 1999  Jay Cox  (jaycox@picman.org)

	* app/clone.c: more cursor support.
	* app/cursorutil.[ch], cursors/{bad,badmsk}: new cursor
	* app/paint_core.c: fix that rounding error the right way this time.
	* app/pixel_processor.c, app/pixel_region.c:  Lock the tiles while 
	they are being processed.  Only create new threads if the region
	being processed is large enough to warrant it.

1999-07-27  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/zoom_in.xpm
	* pixmaps/zoom_out.xpm: I think the zoom buttons needed
	handles to make them easier to grab. %-)

1999-07-27  Tomas Ogren  <stric@ing.umu.se>

	* configure.in: Added 'cs' to ALL_LINGUAS

1999-07-27  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.c
	* app/desaturate.[ch]
	* app/equalize.[ch]: no need to pass the image as a void pointer
	to desaturate and equalize.

	* app/gimage.h
	* app/picmanimage.[ch]: new function picman_image_position_layer().

	* app/layers_dialog.c: drag'n'drop movement of layers.

1999-07-27  Tomas Ogren  <stric@ing.umu.se>

	* app/transform_tool.c: Fixed a typo

1999-07-27  Tomas Ogren  <stric@ing.umu.se>

	* app/actionarea.c
	* app/dodgeburn.c
	* app/fuzzy_select.c
	* app/picmanparasite.c
	* app/picmanunit.c
	* app/procedural_db_cmds.c
	* app/resize.c: Misc i18n fixes

1999-07-27  Tomas Ogren  <stric@ing.umu.se>

	* app/preferences_dialog.c: Two more _()'s

Mon Jul 26 20:11:01 MEST 1999  Sven Neumann <sven@picman.org>

	* app/blend.c: Restrict to horizontal/vertical blend when modifiers
	are pressed. 

1999-07-26  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/topath.xpm 
	* pixmaps/toselection.xpm 
	* pixmaps/anchor.xpm: some icons

Sun Jul 25 23:37:48 1999  Jay Cox  (jaycox@picman.org)

	* paint_core.c: fixed long standing roundoff error in
	paint_core_subsample_mask.  A couple of minor code cleanups.

1999-07-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/errorconsole.[ch]: forgot to checkin this one...

	Wheelmouse support and a hack to set the message_handler to 
	ERROR_CONSOLE and back to MESSAGE_BOX box when showing/hiding the
	dialog (should interact with preferences).

1999-07-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/brush_select.c
	* app/pattern_select.c
	* app/gradient.c: wheelmouse support for the brush/pattern lists
	and for the gradient preview.

1999-07-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/color_picker.[ch]: set the "preserve" flag to FALSE. This
	way the tool doesn't have to detect drawable changes by itself.
	Misc stuff like below.

	* app/gradient.c: heavily changed the beast:

	- Reviewed the whole ui code and indented it.
	- Standard ui for all sub-dialogs.
	- Handle the wm delete event of the sub-dialogs.
	- "+" and "-" pixmaps instead of "zoom in" and "zoom out".
	- Made the gradient preview resizable again.
	- i18n fixes.
	- Removed some code duplication in the sub-dialogs' cancel/delete
	  callbacks.
	- Grouped functions together and commented the groups and their
	  prototypes.
	- Didn't change any core functionality (just the ui).
	- Please don't kill me, but I couldn't resist to indent most
	  functions ;-)

	* app/info_dialog.c: no need to call gettext() on a string which
	was passed to a function (it's the job of the caller).

	* app/ink.c: grab the pointer in the blob preview.

	* app/palette.c: standardized the ui of the dialog and all it's
	sub-dialogs, function header indentation, namespace cleanup.

Fri Jul 23 00:01:05 BST 1999 Andy Thomas <alt@picman.org>

	* ./app/clone.c
	* ./app/airbrush.c
	* ./app/bezier_select.c
	* ./app/paintbrush.c
	* ./app/eraser.c
	* ./app/convolve.c
	* ./app/smudge.c
	* ./app/dodgeburn.c
	* ./app/pencil.c
	* ./app/paint_core.c

	Better stroking of paths. 
	First point in stroke path is now correctly painted (try stroking
	with a brush spacing of > 100.0 in picman 1.0.x). 
	Fixed problem in paint_core_interpolate() where points were 
	missed in some cases.
	(BTW for those who do not know the brush spacing means as follows:-
	A spacing of 100.0 means brush strokes are placed next to each other
	exactly with no gaps or overlaps. A spacing of 200.0 means only
	alternate spaces are filled with the brush paint. A setting of 50.0
	means the brush paints positions overlap by 50% of the brush width.
	So 100.0 corresponds to exactly the brush width! It took me 
	ages to figure this simple thing out!) 
	 
1999-07-22  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/brightness_contrast.c: same cleanups as in my previous
	checkin.

	* app/gradient.c: made the gradient editor look like the other
	dialogs. It's now possible to set the background color with
	<Ctrl>+click. Indentation madness in all functions I modified.

Thu Jul 22 21:24:04 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/film.c: Upgraded to picman-1.1 calling conventions.

1999-07-22  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/channel_ops.[ch]: new ui for the "Layer Offset" dialog.

	* app/channels_dialog.c
	* app/layers_dialog.c: major code cleanup: Folded some callbacks
	into common ones, "widget" instead of "w", indentation, ...

	* app/commands.c
	* app/interface.[ch]
	* app/global_edit.c: the query boxes must be shown by the caller
	now. There's no need to split up the string for the message box
	manually as the Gtk 1.2 label widget handles newlines corectly.
	Added the "edge_lock" toggle to the "Shrink Selection" dialog.
	Nicer spacings for the query and message boxes.

	* app/ink.c: tried to grab the pointer in the blob preview but
	failed. Left the code there as a reminder (commented out).

	* app/menus.c: reordered <Image>/Select.

	I was bored and grep-ed the sources for ancient or deprecated stuff:

	* app/about_dialog.[ch]
	* app/actionarea.[ch]
	* app/app_procs.c
	* app/brush_edit.c
	* app/brush_select.c
	* app/color_select.c
	* app/convert.c
	* app/devices.c
	* app/gdisplay.c
	* app/gdisplay_ops.c
	* app/histogram_tool.[ch]
	* app/info_window.c
	* app/install.c
	* app/ops_buttons.c
	* app/palette.c
	* app/palette_select.c
	* app/paths_dialog.c
	* app/pattern_select.c
	* app/resize.c
	* app/scale_toolc.c
	* app/text_tool.c:
	s/container_border_width/container_set_border_width/g,
	s/sprintf/g_snprintf/g, replaced some constant string lengths with
	strlen(x).

	* app/bezier_select.c
	* app/blend.c
	* app/boundary.c
	* app/errors.[ch]
	* app/free_select.c
	* app/picmanbrushlist.c
	* app/picmanrc.c
	* app/iscissors.c
	* app/main.c
	* app/patterns.[ch]
	* app/text_tool.c: namespace fanaticism: prefixed all picman error
	functions with "picman_" and formated the messages more uniformly.

	* app/gradient.c
	* app/gradient_select.c: same stuff as above for the ui
	code. There are still some sub-dialogs which need cleanup.

	Did some cleanup in most of these files: prototypes, removed tons
	of #include's, i18n fixes, s/w/widget/ as above, indentation, ...

1999-07-22  Tomas Ogren  <stric@ing.umu.se>

	* plug-ins/common/gifload.c:
	* libpicman/picmanunitmenu.c: Fixed some tyops

1999-07-21  Tor Lillqvist  <tml@iki.fi>

	* README.win32: Update gcc instructions. Remove warning about
 	gettext being GPL, as the PICMAN is GPL, too, of course, and it
 	thus doesn't matter.

	* user_install.bat: Rename the template user gtkrc to gtkrc_user,
 	to reduce user confusion.

	* app/main.c: Small change for gcc on Win32 compilation.

	* */makefile.cygwin
	* app/module_db.c: With newest gcc-2.95 -fnative-struct on Win32,
 	no need to have differently named DLLs (including modules) for
 	(built by) gcc and MSVC.

	* app/module_db.c: Use g_strdup_printf() instead of
 	strlen(), g_malloc() and g_snprintf()

	* libpicman/Makefile.am: No need to distribute picmanfeatures.h.win32,
 	the suitable picmanfeatures.h is built when making the dist.

	* libpicman/picmanfeatures.h.win32: Removed.

	* libpicman/makefile.cygwin
	* libpicman/makefile.msc: Remove picmanfeatures.h.win32.

	* libpicman/picman.h: Win32 startup code changed a bit.

	* plug-ins/makefile.cygwin
	* plug-ins/makefile.msc: Add the winsnap unofficial plug-in.

	* plug-ins/common/animationplay.c
	* plug-ins/common/gz.c: (Win32) Hack aroung WinMain getting
	clashing declarations because these guys include gdkx.h (which
	includes windows.h), and picman.h also declares WinMain on its own.

Wed Jul 21 00:00:35 BST 1999 Andy Thomas <alt@picman.org>

	* plug-ins/sel2path/fit.c
	* plug-ins/sel2path/pxl-outline.c

	Corrected more non-portable code problems.

1999-07-20  Michael Natterer  <mitschel@cs.tu-berlin.de>

        * app/ink.c (ink_options_new): Changed the default step-width of
        the "size"-slider to 2 instead of 5.

Mon Jul 19 20:57:10 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/Makefile.am: added dodgeburn.h for enum parsing

Tue Jul 20 00:29:41 BST 1999 Andy Thomas <alt@picman.org>

	* plug-ins/sel2path/fit.c

	Corrected some non-portable code problems.

Mon Jul 19 21:33:56 BST 1999 Andy Thomas <alt@picman.org>

	* app/indicator_area.c
	* app/paths_dialog.c
	* app/tools_cmds.c
	* app/airbrush.c
	* app/airbrush.h
	* app/bezier_select.c
	* app/paintbrush.c
	* app/paintbrush.h
	* app/clone.c
	* app/clone.h
	* app/eraser.c
	* app/eraser.h
	* app/convolve.c
	* app/convolve.h
	* app/smudge.c
	* app/smudge.h
	* app/dodgeburn.c
	* app/dodgeburn.h
	* app/internal_procs.c
	* plug-ins/sel2path/sel2path.c
	* tools/pdbgen/pdb/tools.pdb
	* tools/pdbgen/enums.pl

	1) Fixed the brushpreview popup problem where it remained onscreen
           if the mouse button was released in another GTK window that accepted
	   mouse events.

	2) Selection to path now works on all types of images (it should have
	   anyway).

	3) Fixed PDB so you can once again use the PDB interfaces to the clone
	   and airbrush tools.

	4) PDB Function to add a path to an image now adds it correctly.

	5) airbrush/paintbrush/clone/eraser/convolve New PDB functions that 
           use the options dialogs settings (or sane defaults if option dialog
           not present)

	6) Added PDB functions for Smudge & DodgeBurn tools.

	7) Path stroke command (from the LCP dialog) can now use any of the
	   painting tools (airbrush/paintbrush/clone/eraser/convolve/smudge/
           dodgeburn except ink). Just have the tool selected when you 
	   press the stroke button. 

Mon Jul 19 21:40:48 MEST 1999  Sven Neumann <sven@picman.org>

	* app/brush_select.c: update the brush title when editing a brush

	* app/gimage.[ch]
	* app/picmanimage.c
	* app/ops_buttons.[ch]
	* app/pixel_regions.c
	* app/temp_buf.c
	* app/undo.c: Indentation paranoia! (I was browsing the code a lot
	this weekend and just couldn't resist...)

1999-07-19  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/gdisplay.c (gdisplay_set_menu_sensitivity): moved the _()
	wrappers out of the macro again, so they actually get
	processed. Reported by <Daniel.Egger@t-online.de>.

Sat Jul 17 13:31:40 PDT 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.7 release

	* configure.in: version number bump

	* ltconfig
	* ltmain.sh: libtool 1.3.3

	* app/channel_cmds.c
	* tools/pdbgen/pdb/channel.pdb: remove opacity_arg alias for channel
	  new

	* Makefile.am: add pixmaps

	* borderaverage moved into it's own dir again, to avoid gck problems
	
Thu Jul 15 10:12:44 MEST 1999  Sven Neumann <sven@picman.org>

	* libpicman/gserialize.c
	* app/main.c: plugged some mem leaks

1999-07-14  Tor Lillqvist  <tml@iki.fi>

	* app/makefile.cygwin
	* app/makefile.msc
	* plug-ins/makefile.cygwin
	* plug-ins/makefile.msc
	* modules/makefile.cygwin
	* modules/makefile.msc
	* tools/gcg/makefile.cygwin: Various updates. GCC-compiled DLL
	name change.

	* app/context_manager.c: Include paint_options.h for prototype.

	* app/picmanimage.c (picman_image_initialize_projection): Break out of
 	loop as soon as possible.

	* app/menus.c (menus_last_opened_cmd_callback): Check if referring
 	to entry not in list.

	* app/module_db.c (valid_module_name): (Win32) Require module DLL
 	names to include name of compiler built with.

	* app/paths_dialog.c (paths_draw_segment_points): No use to draw
 	lines if we have less that two points.

	* app/qmask.c: Include stdio.h and floating_sel.h.

	* libpicman/makefile.cygwin: New file.

	* libpicman/Makefile.am:  Distribute above file.

	* libpicman/picman.def: Update.

	* libpicman/picmanenv.c (picman_directory): Don't warn about missing
 	home directory on Win32, it is perfectly natural.

	* plug-ins/sel2path/global.h: Bypass unused declarations, some
	of which clash with functions in MSVCRT.

	* plug-ins/sel2path/math.c
	* modules/colorsel_water.c: Define M_PI if necessary.

	* plug-ins/sel2path/sel2path.c: Include config.h and
 	glib.h. Define rint() if needed.
	
	* plug-ins/sel2path/vector.c: Include glib.h (for hypot() renaming
 	on Win32; In the MS C runtime, as hypot() is non-ANSI, it's called
 	_hypot(), sigh).

	* plug-ins/sinus/sinus_logo.h: Use indexed format, it is easier on
 	some compilers than the huge string.

Wed Jul 14 11:42:49 MEST 1999  Sven Neumann <sven@picman.org>

	* app/ink.c: we were leaking a blob at each button_press

Tue Jul 13 22:48:37 BST 1999 Andy Thomas <alt@picman.org>

	* plug-ins/sel2path/sel2path.c
	* app/paths_dialog.c
	* app/paths_cmds.c
	* tools/pdbgen/pdb/paths.pdb

	Selection is now cleared when converted to a path.
	Path is made the current one when created via the PDB.
	This made more sense than the previous behavior.

Tue Jul 13 15:47:20 CEST 1999  Marc Lehmann <pcg@goof.com>

	* picmantool.in, picmantool.1: implement --uninstall* options.

Sun Jul 11 20:50:26 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/unsharp/*: updated to version 0.8 
	(merged Marc's change)

Sun Jul 11 17:35:01 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/unsharp/unsharp.c: rename round to round2int to avoid
        clashes with the upcoming c9x standard.

Sun Jul 11 15:19:34 CEST 1999  Marc Lehmann <pcg@goof.com>

	* plug-ins/common/png.c: add abort() to save_image, as to catch
        bugs early on.
        
Sun Jul 11 14:05:06 MEST 1999  Sven Neumann <sven@picman.org>

	* app/paths_dialog.c: my last change did break path deletion - this
	should be fixed now

Sat Jul 10 16:05:58 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/sel2path/math.c: 
	* plug-ins/sel2path/fit.c: Add <float.h> for FLT_MAX,FLT_MIN.

1999-07-10  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/gdisplay.c (gdisplay_set_menu_sensitivity): Undo/Redo should
	be sensitive even if there is no layer :-)

	* app/commands.h
	* app/docindex.[ch]
	* app/docindexif.[ch]
	* app/file_new_dialog.[ch]: some #include cleanups.

	* plug-ins/helpbrowser/Makefile.classic: less primitive version.

Fri Jul  9 23:35 CST 1999 Seth Burgess <sjburges@picman.org>
	* app/qmask.c : fixed some small lil' bugs, made no selection not
	automatically select all.  More features later.

1999-07-10  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/disp_callbacks.c (gdisplay_canvas_events): added wheelmouse
	scrolling support for the canvas (cut & paste from gtkmain.c).
	CTRL+wheel scrolls horizontally.

Fri Jul  9 22:24:53 BST 1999 Andy Thomas <alt@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/sel2path/* <- New directory
	* app/paths_dialog.c
	* pixmap/topath.xpm

	New function implemented by a plugin.
	Will convert a selection into a path. Please
	see the README in sel2path directory for more
	details (especially where the underlying algorithms/code
	were obtained from).

Fri Jul  9 20:12:12 MEST 1999  Sven Neumann <sven@picman.org>

	* app/app_procs.c: applied a (modified) patch from  
	Shuji Narazaki <narazaki@picman.org> 

	* app/picmanimage.c: applied a (modified) patch from 
	Tom Rathborne <tomr@aceldama.com> that aligns guides on layer_resize

Fri Jul  9 18:39:03 MEST 1999  Sven Neumann <sven@picman.org>

	* app/clone.c
	* app/dodgeburn.c
	* app/pencil.c
	* app/smudge.c: applied a patch from Olof S Kylander
	<olof@frozenriver.com> that enables pressure sensitivity for all
	the tools that were missing it

Fri Jul  9 16:47:04 MEST 1999  Sven Neumann <sven@picman.org>

	* libpicman/picmanmatrix.[ch]: added a few functions to test for
	matrix properties

	* app/transform_core.c: if we are doing a simple transformation
	(e.g. rotating by 90 degrees), turn off interpolation

	* app/rotate_tool.c: persuade the slider that a rotate angle of
	180 degrees is perfectly ok

1999-07-09  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/crop.c: mysteriously, using the new tool constructor fixed
	the crop tool redraw problem.

	* app/gdisplay.c: code cleanup.

	* app/info_dialog.c: never emit signals when updating the info
	fields. Fixes some more transform tool grid redraw bugs.

1999-07-09  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.c (view_toggle_rulers_cmd_callback): set the
	"visible" flags before mapping the widgets.

1999-07-08  Raja R Harinath  <harinath@cs.umn.edu>

	* tools/pdbgen/app.pl (generate): Fix typo.
	* tools/pdbgen/Makefile.am: Clean up srcdir != builddir.

Thu Jul  8 00:08:50 EDT 1999  Adrian Likins <alikins@redhat.com>

	* app/interface.c: added type for _NETSCAPE_URL to the DnD stuff
	so you can now drag image urls from netscape.

Wed Jul  7 20:33:24 MEST 1999  Sven Neumann <sven@picman.org>

	* Makefile.am
	* pixmaps/locked.xpm: removed
	* pixmaps/locked.xbm: new file
	* app/paths_dialog.c: Use a bitmap in the style of the eye instead of
	the lock pixmap. This could be done more elegantly, but the 
	paths_dialog is a mess, sorry.

1999-07-07  Michael Natterer  <mitschel@cs.tu-berlin.de>

        * app/gdisplay.c (gdisplay_set_menu_sensitivity): don't make menus
        unreachable by forgetting to set them sensitive again.

Wed Jul  7 12:53:54 MEST 1999 Sven Neumann <sven@picman.org>

	* app/global_edit.c: cosmetic changes

Tue Jul  6 22:05 CST 1999 Seth Burgess <sjburges@picman.org>

	* app/qmask.h : took out a relic pixmaps.h that broke compilation (oops)

Tue Jul	 6 20:55 CST 1999 Seth Burgess <sjburges@picman.org>

	* pixmaps/qmasknosel.xpm 
	* pixmaps/qmasksel.xpm: Ugly pixmaps that tigert promised to replace
	
 	* app/channel.[ch]
	* app/channel_cmds.c : made some of the private structures accessible
	  through exported functions to keep things a bit clean
	
	* app/interface.c
	* app/gdisplay.[ch]
	* app/picmanimageP.h
	* app/picmanimage.[ch]
	* app/undo.[ch]: added qmasks
	
	* app/Makefile.am
	* app/qmask.[ch]: added new files for qmask support

	* tools/pdbgen/pdb: changed some channel stuff to keep things a bit
          more private

Wed Jul  7 03:54:54 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu.c: Fixed typo. 
	We definitely need a pdbgen tool to generate the 
	script-fu enum wrappers....

Wed Jul  7 02:24:22 1999  Tim Janik  <timj@gtk.org>

	* plug-ins/common/csource.c: save RGBA data as string and not seuqences
	of numbers and commas. this reduces the output file size significantly
	(by 50-70%) and reduces compile time memory requirement majorly (down
	to 20% for gcc).

Tue Jul  6 22:26:24 CEST 1999  Marc Lehmann <pcg@goof.com>

	* libpicman/picmanparasite.c: fixed picman_detach_parasite.

Tue Jul  6 22:16:07 BST 1999 Andy Thomas <alt@picman.org>

	* ./app/layer.c.orig
	* ./app/lc_dialog.c.orig
	* ./app/paths_dialog.c.orig
	* ./app/pathsP.h.orig
	* ./libpicman/picmanmenu.c.orig
	* ./tools/pdbgen/pdb/paths.pdb.orig
	* ./app/paths_cmds.c
	* ./app/internal_procs.c

	Fixed small LCP menu preview problems. Now works for all
	image types and updated correctly when alpha channel added.

	Additional PDB functions for paths. Fixed some PDB functions
	(picman_paths_set_points). Now works as advertised.

Tue Jul  6 22:40:16 MEST 1999 Sven Neumann <sven@picman.org>

	* app/commands.[ch]
	* app/global_edit.[ch]
	* app/menus.c: Added "Paste As New" feature that allows to paste
	the current (or a named) buffer to a new image. Still need to
	add PDB calls for that...

Tue Jul  6 19:58:48 MEST 1999 Sven Neumann <sven@picman.org>

	* app/fuzzy_select.c: give user feedback on the threshold 
	* app/paintbrush.c: use an optionmenu for the gradient type
	instead of using 4 radiobuttons
	* app/blend.c: indentation paranoia

	Hopefully I have merged in Michaels changes correctly ...

Tue Jul  6 18:50:24 1999  Tim Janik  <timj@gtk.org>

	* plug-ins/common/csource.c: new save-image plugin to dump a
	straight c-source RGB or RGBA data array (most convenient
	to create libart ArtPixBuf structures from).

	* plug-ins/common/header.c (save_image): if we don't know the
	image type, complain and don't claim to have handled it.

1999-07-06  Michael Natterer  <mitschel@cs.tu-berlin.de>

        * app/airbrush.c
        * app/blend.c
        * app/bucket_fill.c
        * app/clone.c
        * app/convolve.c
        * app/dodgeburn.c
        * app/eraser.c
        * app/ink.c
        * app/paintbrush.c
        * app/pencil.c
        * app/smudge.c: get opacity/paint mode from the current context
        (currently always the user context).

        * app/gimage_mask.c: the "stroke" command uses the paintbrush's
        settings if the current context is the user context and we are in
        per-tool paint options mode.

        * app/context_manager.[ch]
        * app/paint_options.h
        * app/preferences_dialog.c
        * app/tool_options.c
        * app/tools.c: moved the global/per-tool paint options switching
        to the context manager. The tool options themselves only contain
        the widgets for them now. This should fix the segfaults happening
        in per-tool mode.
	Removed the disclaimer from the prefs. dlg. as it seems to work
	now. The impl. in the context manager however is still a hack.

        * app/brush_select.c
        * app/brushes_cmds.c
        * tools/pdbgen/pdb/brushes.pdb: same as above.

        * app/lc_dialog.c: minimal code reduction. No functionality changed.

Mon Jul  5 22:51:37 BST 1999  Austin Donnelly  <austin@picman.org>

	* TODO: Removed zoom indicator in titlebar, since we already have
	    that.  Added more on progress indications, and dodge/burn. New
	    entries for active brushes and named undos.

Mon Jul  5 20:39:42 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/levels.c: change from greyscale bars to colour ones similar
	    to curves.c.  Is this any use to people?  If not, we can
	    always revert it.

1999-07-05  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: This is the Eeek!-one again, due to public
	demand :)

1999-07-04  Tor Lillqvist  <tml@iki.fi>

	* app/color_notebook.c
	* libpicman/color_selector.h: Bypass the declaration of the exported
 	functions in the header. (Caused different linkage error with MSC,
 	as they are declared dllexport in the source, but naturally not in
 	the header.)

Sat Jul  3 16:04:16 PDT 1999 Manish Singh <yosh@picman.org>

	* app/color_notebook.c
	* plug-ins/common/borderaverage.c: fix include file paths

1999-07-03  Tor Lillqvist  <tml@iki.fi>

	It is now possible to build a fully functioning PICMAN on Win32 with
 	free tools only. (gcc and friends running on cygwin, but producing
	binaries that don't use the cygwin runtime, gcc -mno-cygwin.)

	* README.win32: Advice about gcc.

	* libpicman/picman.{c,h,def}: New way to get address of PLUG_IN_INFO
 	to the picman dll. Do it a bit like the EMX port. Much cleaner. Now
 	works well also when built with gcc.

	* app/picmanrc.c: Remove gratuituous printf.

	* modules/makefile.msc
	* plug-ins/makefile.msc
	* app/makefile.msc: Small updates.

	* modules/makefile.cygwin
	* plug-ins/makefile.cygwin
	* app/makefile.cygwin: New files.

	* modules/Makefile.am
	* plug-ins/Makefile.am
	* app/Makefile.am: Distribute the makefile.cygwin files.

	* app/color_notebook.c: Mark the two functions used by color
	selection modules for export.

	* plug-ins/gfig/gfig.c
	* plug-ins/script-fu/script-fu-scripts.c: Include <glib.h> early.

1999-07-02  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/dodgeburn.c: changed the tool toggle key to <Ctrl>.
	* app/tools.c: typo.

1999-07-02  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/[all tools]: the Tool structure is now allocated by a common
	constructor which sets default values and provides default tool
	action functions. To get rid of much code duplication there should
	be a object hierarchy of tools.

	* app/context_manager.c
	* app/tools.[ch]: create and destroy private contexts for the
	paint tools on startup and exit. They are not used yet.

	* app/interface.c
	* app/menus.c
	* app/tools.h: num_tools is now exported in tools.h

	* app/commands.c
	* app/gdisplay.c
	* app/menus.c: made "Toggle Selection" a toggleable menu item.

Thu Jul  1 23:37:38 1999  Owen Taylor  <otaylor@redhat.com>

	* ifscompose_storage.c: New file implementing saving
	and loading of parameters in text format.

	* ifscompose.c: Store parameters in parasites.
	Also, use new format for storing parameters between
	invokations of IfsCompose on different layers.

Thu Jul  1 09:42:40 PDT 1999 Calvin Williamson  <calvin@rhythm.com>

	Added the files:

	*app/smudge.[ch]
	*app/dodgeburn.[ch]
	
	Changed:
	
	*app/Makefile.am
	*app/paint_core.c
	*app/paint_funcs.c
	*app/pixmaps2.h
	*app/tool_options.c
	*app/tools.c
	*app/toolsF.h
	
	This is the first version of the dodge and burn and smudge tools.
	These both use the opacity and spacing from the brush dialog, but
	they dont use the apply modes, since they both use a form of
	paint_core_replace. This could be added though.
	
	Smudge affects alpha channels when present, dodgeburn doesnt.

	Dodgeburn computes a picman_lut based on the settings and uses that.

	Smudge just drags along a version of the initial painthit and mixes
	that in with subsequent painthits.
	
	I didnt added any pdb functionality yet.

Thu Jul  1 10:29:44 MEST 1999 Sven Neumann <sven@picman.org>

	* tools/pdbgen/pdb/guides.pdb
	* app/guides_cmds.c: fixed a bug in image_find_next_guide

	* plug-ins/xjt: reflect the name change of picman_image_find_next_guide

	* app/interface.c: applied the patch from 
	Shuji Narazaki <narazaki@picman.org> that allows to open images by 
	dropping them onto the toolbar
	
1999-06-30  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: Dont even ask what this is :)

1999-06-30  Sven Neumann  <sven@picman.org>
	
	* app/crop.c (crop_automatic_callback): Crop now does
	AutoShrink -- the algorithm starts with the interactively
	selected crop area and tries to shrink that instead of 
	always starting from the corners.

	* plug-ins/helpbrowser/helpbrowser.c: cosmetic changes
	
1999-06-28  Tor Lillqvist  <tml@iki.fi>

	* */makefile.msc: Use the DEBUG nmake variable to determine
	whether to build for debugging or not.

	* libpicman/picman.def: Add some missing entry points.

	* plug-ins/makefile.msc: Redo as to Yosh's reorg of the
 	sources. Add some plug-ins missing earlier. (For instance print,
 	which only prints to files on Win32. We still need a real Win32
 	print plug-in. Much code probably could be lifted from the bmp
 	plug-in.)

	* plug-ins/MapObject/arcball.c: Change Qt_ToMatrix() to void,
 	instead of returning the address of its parameter (dubious
 	practise), as its value is never used anyway.

	For the following changes, thanks to Hans Breuer:

	* plug-ins/FractalExplorer/Dialogs.h: Check for feof, not to get
	into an endless loop on malformed files.

	* plug-ins/common/header.c: Support indexed images.

	* plug-ins/common/sunras.c
	* plug-ins/common/xwd.c
	* plug-ins/print/print.h
	* plug-ins/sgi/sgi.h: Include config.h, guard inclusion of
 	unistd.h. 

	* plug-ins/print/print.c: Guard for SIGBUS being undefined. Open
 	output file in binary mode.

1999-06-28  Sven Neumann  <sven@picman.org>
	    Michael Natterer  <mitschel@cs.tu-berlin.de>

	* help/Makefile.am
	* help/eek.png
	* plug-ins/helpbrowser/helpbroswer.c: to see what this change
	does, you'll have to compile it :)

1999-06-28  Sven Neumann  <sven@picman.org>
	    Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/plug_in.c: return a PDB_EXECUTION_ERROR if a procedure
	requested by a plugin doesn't exist.

	* plug-ins/helpbrowser/*: The PICMAN Help Browser!
	Not yet built by default. You need GtkXmHTML to make it work.
	There is a Makefile.classic for testing it.

	* Makefile.am
	* configure.in
	* help/*: some sample help files. Subdirs are possible, too.

1999-06-28  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/plug_in.c (plug_in_callback): removed the check for
	gdisplay_active() returning NULL because it caused all extensions
	to be un-callable when no image was open.

Sun Jun 27 19:34:22 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* app/session.c (save_sessionrc): fp = fopen (filename, "wt");
	Open file sessionrc always in TEXT mode (for OS/2 and Winxx).

1999-06-26  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/[all tool related files]
	* app/commands.c
	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/gimage.c
	* app/interface.c: hopefully fixed the bugs that appeared with my
	last fix. And some more changes...

	- Slightly changed the conditions which cause the tools to be
	  re-initialized on button_press events and the global
	  initialisation functions.
	- The dialog tools now explicitly set tool->gdisp_ptr so they can
	  be properly hidden on display deletion.
	- Create the crop info dialog only once and avoid ugly redraw bugs
	  by blocking the sizeentries' signal when initializing them.
	- Standardized the tools_new_<tool>() functions. They are
	  scheduled to be moved to a common constructor in tools.c
	- Various stuff...

1999-06-26  Sven Neumann  <sven@picman.org>
	    Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/app_procs.c
	* pixmap/eek.xpm: EEK. Some files unsaved. Quit the PICMAN?

Fri Jun 25 22:09:04 BST 1999 Andy Thomas <alt@picman.org>

	* lc_dialog.c

	Fixed problem when preview sizes are changed in L&C&P 
	dialog and then the busy cursors stuff tried to change 
	the cursor on a dialog that has been removed. (ie
	the LCP dialog should be unregistered when it is destroyed)

	Small previews in LCP dialog image menu do not get created when
 	no preview preference is set.

Thu Jun 24 18:13:35 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/common/mkgen.pl
	* plug-ins/common/Makefile.am: added a pattern rule to install
	single plugins

	* all plugin Makefiles: use $libexecdir instead of $pluginlibdir
	so we get installed on make install-exec

	* plug-ins/gap/gap_filter_iterators.c: removed old Colorify_iter_ALT
	reference

Thu Jun 24 22:49:41 BST 1999 Andy Thomas <alt@picman.org>

	* layers_dialog.c
	* lc_dialog.c
	* lc_dialogP.h

	L&C&P previews are now updated on undo and layer movement
	operations.

Thu Jun 24 22:34:54 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/gap: some changes on request by the author Wolfgang Hofer
        * plug-ins/common/colorify.c: make it work on drawables with alpha 
	channel  

Wed Jun 23 17:55:58 PDT 1999 Manish Singh <yosh@picman.org>

	* more makefile fixes

Wed Jun 23 23:52:54 BST 1999 Andy Thomas <alt@picman.org>

	* picman/app/picmanpreviewcache.c  	
	* picman/app/picmanpreviewcache.h  	
	* picman/app/drawable_cmds.c  	
	* picman/app/gdisplay.c  		
	* picman/app/picmandrawableP.h 	
	* picman/app/gimage_cmds.c
	* picman/app/Makefile.am 		
	* picman/app/layers_dialog.c 	
	* picman/app/channel.c 		
	* picman/app/lc_dialog.c 		
	* picman/app/lc_dialog.h 		
	* picman/app/lc_dialogP.h 		
	* picman/app/layer.c 		
	* picman/app/picmandrawable.c 	
	* picman/app/internal_procs.c
	* picman/libpicman/picman.h 		
	* picman/libpicman/picmanimage.c 	
	* picman/libpicman/picmandrawable.c 	
	* picman/libpicman/picmanmenu.c 	
	* picman/tools/pdbgen/pdb/drawable.pdb
	* picman/tools/pdbgen/pdb/gimage.pdb

	Added thumbnail image preview functions. 
	Previews are visible on the L&C&P dialogs as well as in the 
	drawables/channels/ menus generated for plugins 
	(see the bumpmap & Mapobject plugins). 

	PDB interface exists to simply extract a thumbnail preview 
	of a given size. This is much quicker & more efficient
	than getting the image data tile-by-tile if you only need a small
	image since a "preview cache" has been implemented. This cache also
	reduces the number of times the tiles cached is scanned since smaller
	previews are always generated from large ones if they exists and
	are valid.

	Some possible usages (I don't intend to implement these ideas. Just 
	suggestions). More plugins using the thumbnail preview (ie any that 
	use multiple images). Indication of "active image" somewhere.....
	Actually almost anywhere a drawable/image name appears.

1999-06-23  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/brightness_contrast.c
	* app/by_color_select.c
	* app/curves.c
	* app/disp_callbacks.c
	* app/histogram_tool.c
	* app/hue_saturation.c
	* app/levels.c
	* app/posterize.c
	* app/threshold.c:

	Factored out the cleaning up code to the tool dialog's "cancel"
	callbacks because they are called from every function which is
	aborting the tool. This should fix the remaining segfaults.

	I probably killed a feature of "Levels". The tool wanted to
	preserve it's drawable all the time, so it was possible to select
	colors from other displays. If this was the intended behaviour,
	please flame me and I will try to set the "preserve" flag
	correctly.

	* plug-ins/common/Makefile.am: "struc" was in the Makefile but not
	in the directory.

Wed Jun 23 02:00:23 PDT 1999 Manish Singh <yosh@picman.org>

	* plugin reorganization

Mon Jun 21 16:47:32 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/mpeg/mpeg.c: don't try to figure out G_BYTE_ORDER for
	ourselves

1999-06-21  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/context_manager.c: namespace cleanups.

	* app/commands.[ch]
	* app/menus.c: moved the "Toggle Selection" menu entry to "View",
	sprinkled some separators and made the layers/channels/paths popup
	menus consistent with Tigert's last ops buttons change.

	* app/fileops.c
	* app/plug_in.c: check for gdisplay_active() returning NULL in
	some more places.

	* app/[all tool related files]:

	- Turned the ToolAction and ToolState #define's into typedef'ed
	  enums, so the compiler can do some more sanity checking.
	- Removed one more unused global variable "active_tool_layer".
	- Removed some #include's from tools.c.
	- Standardized the individual tools' structure names.
	- Moved showing/hiding the tool options to separate functions.
	- Stuff...

	* app/commands.c
	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/tools.c: fixed the segfaults which happened when the image
	of one of the tools which have dialogs (levels/posterize/...) was
	deleted. My approach was to do stricter sanity checking and to set
	some gdisplay pointers correctly where appropriate, so I can't
	tell exactly where the bug was.
	The curves tool now(??) updates on every _second_ display change
	only, which is really obscure.
	Finding/changing the display to operate on should definitely be
	done by connecting to the user context's "display_changed"
	signal.

	* app/picmanset.c: emit the "remove" signal _after_ removing the
	pointer from the set. If this was not a bug but a feature, please
	let me know, we'll need two signals then.

Mon Jun 21 12:51:15 PDT 1999 Manish Singh <yosh@picman.org>

	* app/Makefile.am: cosmetic change

	* app/plug_in.c: reordered #includes to prevent MAX/MIN conflict

	* app/menus.c: removed the weird translation code in favor of
	the item factory translation function. This may have broken some
	.po files.. we'll see. Also, added some more tearoffs and made
	tearoffs appear automagically when plugins register menu entries.

	* libpicman/picmanimage.c
	* libpicman/picmanenums.h: redid the GOrientation enum to match the
	app. Removed special casing in the handler.

	* plug-ins/guillotine/guillotine.c: small clean up

1999-06-21  Tuomas Kuosmanen  <tigert@interaktiivinen.satama.saunalahti.fi>

	* app/paths_dialog.c app/channels_dialog.c: changed the button 
	order so that the Delete button (trashcan) is always the rightmost
	button. Good for consistency. I hope nothing blows up because of
	this :)

1999-06-21  Tuomas Kuosmanen  <tigert@picman.org>

	* app/layers_dialog.c: Changed the order of the layer ops buttons
	so that the delete button is on the right. Theoretically this should
	not break anything. :)

	I will do the same to the channels and paths too, just when I get
	time, which is probably later today.

1999-06-21  Tor Lillqvist  <tml@iki.fi>

	* libpicman/picmanfeatures.h.win32: Update version.

	* app/file_new_dialog.c: Include picmancontext.h.

	* app/gdisplay.c: Don't pass a pointer as an int parameter,
	pass the result of an inequality comparison to zero.

	* app/makefile.msc: Add new files.

	* plug-ins/makefile.msc: Build the ps plug-in, too.

	* plug-ins/ps/ps.c: Add code to use a "real" output file, not a
 	pipe (needed with Win32 port of ghostscript).

	Use g_strdup_printf() instead of separate g_malloc() and sprintf()
 	calls. No need to check failure of g_malloc(), it aborts on
 	failure. Open files in binary mode.

	(Win32:) Use indirect command line file to guard for too long
 	command line. (Not sure if this is really needed.) Use the
 	gswin32c program.

1999-06-21  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/context_manager.c: connect to the user context's
	"display_changed" and to the image context's "remove" signal to
	avoid dangling references and to set the menu sensitivity on
	display change.

	* app/disp_callbacks.c
	* app/file_new_dialog.c
	* app/fileops.c
	* app/gdisplay.c
	* app/gdisplay_ops.c
	* app/picmancontext.c
	* app/interface.[ch]: entirely moved the active display stuff to
	the user context:

	- The active display is set by any event in the display shell,
	  by File/New and File/Open.
	- gdisplay_delete() resets the active display to NULL if we
	  deleted the active display.
	- Reduced gdisplay_active() to a single statement returning the
	  context's active display. Should replace it by a macro.
	- gdisplay_flush_whenever() sets the menu sensitivity for the
	  active display.
	- Removed global variable popup_shell since it was only set all
	  the time but never used. I guess it's original job is now done
	  by the context anyway.
	- gdisplay_set_menu_sensitivity() works with gdisp == NULL.
	- There are mysterious Gdk-CRITICALs if both <Image> and one of
	  it's sub-menus are teared-off. Probably a gtk+ bug.

	To do all this stuff at a central place, there needs to be a
	PicmanSet of displays (and ideally, GDisplay should be a GtkObject).

	* app/commands.c
	* app/lc_dialog.c: fixed segfaults happening with teared-off menus.

1999-06-21  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/delete.xpm: New icon for Delete (layer, path, channel etc..)
	One that represents a trashcan. Looks more 3ye C4nDy ;)
 
1999-06-20  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.c
	* app/disp_callbacks.c
	* app/gdisplay.c
	* app/lc_dialog.c
	* app/menus.c: applied a patch from <Simon.Budig@unix-ag.org>
	which implements tear-off-menus(!!!). Modified it to use the
	PicmanContext.
	The sensitivity of the menu entries is not updated after 
	executing a command. This leaves the sensitivity in the state
	before the command was executed (which is buggy). Will probably
	have to update the sensitivity from gdisplays_flush().
	Simon called the patch "temporary" but it looks pretty stable to
	me. Please test it :-)

	* app/context_manager.[ch]: minor changes.

	* app/picmancontext.[ch]: the user context keeps track of the
	current display and image. The image is set automatically from
	picman_context_set_display().
	Still have to figure out how this should interact with
	gdisplay_active() (the current state is a hack).
	Made the context attributes real GtkObject arguments.
	Pass the changed attributes to the callbacks which connect to
	the <attribute>_changed signals.

	* app/picmanset.[ch]
	* app/picmansetF.h
	* app/picmansetP.h: made the picmanset properly derivable by adding
	signal slots to the object class structure. Added copyright
	headers.

	* app/picmansignal.[ch]: new type picman_sigtype_double, copyright
	header and my usual indentation fanaticism.

Sun Jun 20 14:55:14 1999  ape@gandalf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/xjt/xjt.c: <sys/types.h> before <sys/stat.h> to 
	remove compiler warning.

1999-06-19  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/picmancontext.[ch]: added some functions. Still does nothing.

	* app/bezier_select.c
	* app/devices.c
	* app/tools.[ch]: removed global variable active_tool_type
	because it was always equal to active_tool->type.

Thu Jun 17 22:32:00 CST 1999 Seth Burgess <sjburges@picman.org>

	* app/flip_tool.c : Fixed flip tool bug - use FLIP_INFO rather than
	FLIP.

Thu Jun 17 20:05:00 CST 1999 Seth Burgess <sjburges@picman.org>

	* app/devices.c : unbroke the devices previews.

1999-06-18  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/Makefile.am
	* app/context_manager.[ch]: new files. Currently only init and
	destroy the static contexts (user, standard and default).

	* app/app_procs.c: call the context manager's init and free
	functions. Still have to figure out the right time to do this.

	* app/picmancontext.[ch]: alpha version 0.0.1 :-)

	Features:
	- Each context has a name
	- Attributes: opacity, paint mode, image, display
	- Signal emission on attribute change
	- Possibility to set a "parent" context
	- Each attribute can be defined or undefined. In the latter case
	  the values are taken from the parent context.
	- Possibility to pass a template and parent context to the
	  constructor
	Bugs:
	- Many attributes/functions still missing
	- It's connected to nothing

Fri Jun 18 18:25:24 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/paint_funcs.c: Fixed a problem with hidden/unaffected
	colour channels.

Fri Jun 18 10:55:46 MEST 1999 Sven Neumann <sven@picman.org>

	* tools/pdbgen/pdb/picmanage.pdb
	* app/gimage_cmds.c: 
	fixed a bug in (picman-image-floating-sel-attached-to)

	* plug-ins/rcm/rcm.c: changed the registered plug-in name so it
	follows the naming conventions

Thu Jun 17 22:30:00 CST 1999 Seth Burgess <sjburges@picman.org>
	
	* app/colormap_dialog.i.c : set usize on indexed color pallete, 
          so it has a height when started.

	* app/devices.c
	* app/indicator_area.c
	* app/interface.c: fixed so that --no-data and -n no longer crash
	or give ugly warnings on startup.  --no-data disables indicators.

Thu Jun 17 22:26:38 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.c: default to the old-fashioned behaviour (crop and 
	dont_enlarge)

	* app/disp_callbacks.c
	* app/paint_core.c
	* app/scale_tool.c
	* app/transform_core.c: implemented horizontal and vertical lines
	for the paint_tools using CTRL and MOD1. Changed the Scale tool to
	use the same modifiers. Complain if you don't like this!
	
	Now if I knew why MOD1 behaves differently than the other modifiers, 
	setting the cursor coordinates to 0,0 every time :-(

1999-06-17  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/Makefile.am
	* app/picmancontext.[ch]: new files. Does nothing yet. Checked in
	because I found some bugs while hacking it: 

	* libpicman/picmanchainbutton.[ch]
	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanpatheditor.[ch]
	* libpicman/picmansizeentry.[ch]
	* libpicman/picmanunitmenu.[ch]: fixed some cut & paste bugs and some
	gtk 1.0 artefacts in the object class initialisation code.

1999-06-17  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/preferences_dialog.c: the tree title doesn't behave like a
	button anymore.
	Made the thumbnail option look like the other option menus.

1999-06-15  Tor Lillqvist  <tml@iki.fi>

	* README.win32: Mention using GNU gettext.

	* config.h.win32: Enable NLS stuff. Remove the X11 & Unix vs. Win32
	feature test macros, we use those from glibconfig.h and gdkconfig.h.

	* app/makefile.msc: Use gettext. New object files.

	* app/batch.c: No need to include <io.h> on Win32.

	* app/errorconsole.c
	* app/plug_in.c
	* app/tile_swap.c: Include <glib.h> early to get Win32 feature
	test macros from <glibconfig.h>.

	* app/picmanset.c: Remove unnecessary (?) warning.

	* app/main.c
	* libpicman/stdplugins-intl.h: If no LOCALEDIR defined
	(as on Win32), use the "locale" subdir in picman_data_directory().

	* app/palette.c: Open palette file in text mode.

	* app/session.c
	* app/text_tool.c: Use GDK's GDK_WINDOWING feature test macro
	if available, not WINDOWS_DISPLAY.

	* libpicman/picmanfeatures.h.win32: Correct PICMAN_VERSION.

	* libpicman/makefile.msc: Use gettext.

	* plug-ins/makefile.msc: Use gettext. Add some missing
 	plug-ins. Advice how to build "unofficial" plug-ins.

	* plug-ins/FractalExplorer/FractalExplorer.c
	* plug-ins/faxg3/faxg3.c
	* plug-ins/gbr/gbr.c
	* plug-ins/gz/gz.c: Include <glib.h> early.

	* plug-ins/tga/tga.c: Include config.h, use HAVE_UNISTD_H.

Sun Jun 13 21:05:00 CST 1999 Seth Burgess <sjburges@picman.org>
	
	* app/devices.c
	* app/picmanrc.[c,h]
	* app/interface.c
	* app/preferences_dialog.c: Make the indicator area on the toolbar
	something that the user can turn off after a restart.  Currently it
	(and most other such fucntions) give no indication of error if user
	clicks OK and not Save - this needs to let the user know that changes
	will not take effect w/o a save.  It will not update once OK is clicked
	though, which is very much less than preferable behavior
	
	* app/indicator_area.c: fixed a bug that let the preview stay up if the
	user clicked, dragged, and refocussed on another widget
	 
Sat Jun 12 23:45:01 CEST 1999 Marc Lehmann <pcg@goof.com>

	* docs/parasites.txt: nicks comments...

Thu Jun 10 12:11:24 PDT 1999 Manish Singh <yosh@picman.org>

	* almost all the plug-in Makefiles: add $(INTLLIBS)

Tue Jun  8 10:56:42 MEST 1999 Sven Neumann <sven@picman.org>

	* app/layers_dialog.c: Traverse the layers stack to know if there's 
	a prev/next layer. That way we know if the next layer has an alpha 
	channel and set the sensitivity of the up/down buttons correctly.

Tue Jun  8 01:12:31 MEST 1999 Sven Neumann <sven@picman.org>

	* app/flip_tool.c: Only install the tool cursor if we are inside a 
	selected region.

Tue Jun  8 00:30:57 MEST 1999 Sven Neumann <sven@picman.org>

	* app/bucket_fill.c
	* app/convolve.c
	* app/crop.c
	* app/flip_tool.c
	* app/paint_core.c: Overworked the line preview. Sorry for the 
	inconvenience, but it has always worked here due to a bug in icewm. 
	Should work much better now, also it still isn't perfect (yet).

	Had to change the standard toggle key for all toggleable tools to 
	<Ctrl> since <Shift> collides with line drawing in the Convolver tool.

1999-06-07  Tomas Ogren  <stric@ing.umu.se>

	* app/bucket_fill.c app/color_picker.c app/commands.c app/convolve.c
	* app/crop.c app/flip_tool.c app/picmanunit.c app/global_edit.c
	* app/gradient.c app/histogram_tool.c app/magnify.c app/module_db.c
	* app/palette.c app/paths_dialog.c app/text_tool.c app/transform_tool.c
	  Misc i18n fixes, partly ported from Egger-picman

1999-06-06  Tomas Ogren  <stric@ing.umu.se>

	* app/menus.[ch]: locale-wrapper for menus_set_sensitive (..._locale)
	  and menus_set_state (..._locale) which splits the menu-entry
	  "<Foo>/Bar/Baz" into "<Foo>" and "/Bar/Baz" to remove double
	  translations
	* app/app_procs.c, app/channels_dialog.c, app/fileops.c, app/gdisplay.c
	* app/gdisplay_ops.c, app/layers_dialog.c, app/paths_dialog.c
	* app/plug_in.c:
	  Use the _locale version from above

1999-06-06  Tomas Ogren  <stric@ing.umu.se>

	* app/{color_notebook.c,color_select.c,lc_dialog.c,temp_buf.c,tool_options.c,tools.c}:
	  Misc l10n fixes

Sun Jun  6 11:16:12 PDT 1999 Manish Singh <yosh@picman.org>

	* Makefile.am
	* app/Makefile.am
	* libpicman/Makefile.am
	* plug-ins/rcm/Makefile.am: various dist fixes

1999-06-06  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/Makefile.am
	* app/lc_dialog.[ch]
	* app/lc_dialogP.h
	* app/paths_dialogP.h: new files

	* app/channels_dialog.[ch]
	* app/layers_dialog.[ch]
	* app/layers_dialogP.h
	* app/paths_dialog.[ch]
	* app/menus.[ch]
	* app/file_new_dialog.c: modified

	- Moved the toplevel L&C dialog code to lc_dialog.[ch]. Only
	  these files need knowledge about how to create/update/...
	  the sub-dialogs, so the corresp. functions are defined in
	  lc_dialogP.h.
	- The popup menus are now created by menus.c. The command
	  callbacks are defined in [layers|channels|paths]_dialog.h.
	- Private functions to be used by "friend files" are defined in
	  [layers|paths]_dialogP.h.
	- Changed the order of the ops_buttons in the paths dialog to
	  match the order in the layers and channels dialogs.
	- The paint mode menu and preview stuff still needs to go out of
	  layers_dialog.[ch].
	- I'm not sure about the keybindings in the layer dialog's "Stack"
	  submenu because the list widget has it's own idea of PageUp/Down.
	- Hopefully fixed the update problem with new images by calling
	  lc_dialog_flush() after creating a new image.

	* app/app_procs.c
	* app/bezier_select.c
	* app/commands.c
	* app/floating_sel.c
	* app/gdisplay.c
	* app/gimage.c
	* app/gimage_mask.c
	* app/paint_core.c
	* app/preferences_dialog.c
	* app/transform_core.c
	* app/undo.c: changed #include's according to the new L&C file
	structure.

Sun Jun  6 17:22:16 BST 1999 Adam D. Moss <adam@picman.org>

	* fileops.c picmanrc.c picmanrc.h preferences_dialog.c:
	Preferences dialog now has an option for people who don't
	like thumbnail files to ever be written.

Sun Jun  6 15:41:22 BST 1999 Adam D. Moss <adam@picman.org>

	* app/fileops.c: Extra quality thumbnails when the user manually
	asks for one to be created.  Can now also generate one-shot
	previews for images on read-only media.

Sun Jun  6 14:19:08 BST 1999 Andy Thomas <alt@picman.org>

	* app/bezier_select.c
	* app/paths_dialog.c

	Applied bezier/paths patches supplied by David LE CORFEC. 
	These fix a couple of segv. problems.

Sat Jun  5 17:03:15 PDT 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.6 release

1999-06-05  Raja R Harinath  <harinath@cs.umn.edu>

	* plug-ins/xjt/Makefile.am (INCLUDES): Reorder to include
	$(top_srcdir) first.  This prevents rebuilding on `make install'.
	* plug-ins/struc/Makefile.am (INCLUDES): Likewise.
	
Sat Jun  5 16:19:15 PDT 1999 Manish Singh <yosh@picman.org>

	app/errors.c
	app/hue_saturation.c
	app/iscissors.c
	app/layers_dialog.c
	app/levels.c
	app/menus.c
	app/paint_funcs.c
	app/palette.c
	app/pattern_select.c
	app/plug_in.c
	app/posterize.c
	app/text_tool.c
	app/threshold.c
	app/tile.c
	app/tile_cache.c
	app/tile_manager.c
	app/tile_swap.c
	app/xcf.c: i18n stuff from picman-monniaux-050699-1 (partially applied)

Sat Jun  5 14:16:57 PDT 1999 Manish Singh <yosh@picman.org>

	* po-plug-ins/Makefile.in.in: don't conflict with the app translation
	files

	* plug-ins/compose
	* plug-ins/decompose: updates

Fri Jun  4 19:00:12 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: version number bump to 1.1.6

	* added unsharp plug-in

	* app/indicator_area.c
	* app/main.c
	* app/menus.c
	* app/paint_core.c: minor cleanups

	* plug-ins/wmf/wmf.c: s/memmove/g_memmove/

	* tools/pdbgen/lib.pl: formatting changes, still unfinished

Sat Jun  5 02:17:02 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/screenshot/screenshot.c: I still don't know why this guy
 	did change the plug-in (99/05/13), but the layout he introduced 
	definitely sucked. I thought I would be known to be an active 
	developer, so if you want to change one of my plug-ins, please ask...
 
Fri Jun  4 22:07:56 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/libgck/gck/gckui.c (gck_application_window_new): 
	Removed 2 obsolete statements causing OS/2 to crash.
	The code was trying to update a static const structure!
	
Thu Jun  3 20:59:11 MEST 1999 Sven Neumann <sven@picman.org>

	* tips/Makefile.am
	* tips/picman_tips.de.txt: (new file) German translation of the 
	tips_file. Someone needs to add this to de.po so it is used.

1999-06-03  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/disp_callbacks.[ch]
	* app/picmanset.c
	* app/interface.c: patch from <Simon.Budig@unix-ag.org>. Cleans up
	the active image implementation. Now the button and key events of
	the whole gdisplay shell are connected to a separate active image
	callback.

	Don't let the arrow button of the gdisplay grab the focus and
	block it's events after any button_press_event, so the canvas
	always owns the keyboard focus and the button never grabs the
	pointer.

	* app/gdisplay.c: correct sensitive setting for the Layers/Stack
	submenu.

	* app/interface.c: make the query boxes insensitive after pressing
	"OK" (may be useful if they're once used for operations which take
	longer than just shrink/grow/...).

	* app/layers_dialog.c: switch to the active image when the "Auto"
	button is activated.

	* app/menus.c: bound the <Image>/Layers/Stack menu to some
	<modifier>+PageUp/Down combinations.

	* app/preferences_dialog.c: pop up with the "Interface" branch
	expanded.

Thu Jun  3 16:51:18 MEST 1999 Sven Neumann <sven@picman.org>

	* app/paint_core.c: Improved the line draw preview a bit. It's still 
	not perfect, but should work better with respect to multiple modifiers
	being pressed. Prototyped all functions in paint_core.c while I was 
	on it.

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/ops_buttons.[ch]: Channels can now be intersected with the 
	active selection. Bound this to <Shift><Ctrl> and <Alt> when pressing
	the 'Channel to Selection'-button in the Channels dialog. Added 
	tooltips for all modifier functions.

Thur Jun 3 9:06:00 CST 1999 Seth Burgess <sjburges@picman.org>

	* plug-ins/script-fu/scripts/drop-shadow.scm: you can't
	use picman-edit-fill until you've attached the drawable to 
	an image.
	
Thur Jun 3 1:43:00 CST 1999 Seth Burgess <sjburges@picman.org>

	* app/indicator_area.[ch]
	* app/devices.c: Added a pattern preview and its popup.  This
	needs some GUI work still, as they are just way too big in a 
	general case.

Wed Jun  2 23:13:30 CST 1999 Seth Burgess <sjburges@picman.org>

	* app/indicator_area.c : Added popup previews if the brush is bigger
	than the indicator area.

Wed Jun  2 19:43:30 CST 1999 Seth Burgess <sjburges@picman.org>
	
	* TODO: Removed entries that have been accomplished.  Still
	lots in there for an eager hacker (of just about any skill level)

Wed Jun  2 16:53:30 PDT 1999 Manish Singh <yosh@picman.org>

	* app/docindex.c: remove unused var

	* app/picmanrc_cmds.c
	* tools/pdbgen/pdb/picmanrc.pdb: propagate the May 21 change to the
	pdb file

	* tools/pdbgen/pdb/{channel,gimage,layer}.pdb: don't be sloppy in
	the face of fickle perls

1999-06-03  Tor Lillqvist  <tml@iki.fi>

	* app/about_dialog.c (about_dialog_load_logo): As we open the ppm
	file in binary mode, we shouldn't assume that the header lines
	read with fgets end with just a '\n'.

1999-06-02  Seth Burgess <sjburges@picman.org>

	* app/Makefile.am : Added new Files, indicator_area.[ch]

	* app/devices.c
	* app/interface.c
	* app/indicator_area.[ch] : Added a brush preview in the toolbar.  
	Still needs a full size preview, and could use a patterns and a 
	gradient next to it :)  These will happen, relatively soon.

	Thanks to the KDE guy (Torsten Rahn) on the picman-devel mailing list 
	that gave the idea for this by pointing out that it wasn't easy 
	to find the size of the brush.  It seems obvious now.

1999-06-02  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/disp_callbacks.c
	* app/picmanset.[ch]
	* app/picmansetP.h
	* app/layers_dialog.c: applied Simon's <Simon.Budig@unix-ag.org>
	active image patch.
	PicmanSet has an "active_changed" signal now. The image_context
	emits it whenever there is a button or key event in the gdisplay
	and the L&C dlg. connects to it for the new auto-update feature.

1999-06-01  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.[ch]
	* app/gdisplay.c
	* app/menus.c: for the pleasure of all: a deeper nested	submenu ;)

	New <Image>/Layers/Stack submenu. Used the same top/bottom
	shortcuts as in the layers dialog. Bind them to PageUp/Down and
	you will never touch your mouse again to do this.
	I'm thinking of dropping the current <ctrl>+[FBTU] in favour of
	some <modifier>+PageUp/Down combinations. Test it, Tig !)

Tue Jun  1 12:07:57 PDT 1999 Manish Singh <yosh@picman.org>

	* plug-ins/xwd/xwd.c: hackaround for buggy window managers (like
	WindowMaker) that store a bogus XWDColor flag field.

1999-06-01  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/app_procs.c
	* app/picmanrc.[ch]: renamed init_parse_buffers() to
	parse_buffers_init().

	* app/picmanrc.[ch] (parse_picmanrc_file): return a boolean indicating
	success to find out if sessionrc exists.

	* app/session.c: open L&C and Brushes on first picman invocation to
	help first-time users.

Mon May 31 06:48:56 CEST 1999 Marc Lehmann <pcg@goof.com>

        * configure.in, README: Set the PREFIX env. var. to the value of
        --enable-perl.
        * docs/parasites.txt: updated.

1999-05-31  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/info_dialog.c
	* app/rotate_tool.c
	* app/scale_tool.c: fixed some very strange grid redraw bugs which
	were caused by unblocked sizeentry signals. It's generally a bad
	idea to connect to a sizeentry's signal before initialization.
	Removed the workaround for the gdk assert failures about
	"gc != NULL" because the signals were the real reason.

	* app/transform_core.c: originally wanted to fix the bug here but
	ended up with just some function headers made ansi compliant.

1999-05-31  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: Guess what? We now have an important indicator
	that reminds of the RIGHT MOUSEBUTTON MENU!! :)

1999-05-31  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.c
	* app/crop.c
	* app/file_new_dialog.c
	* app/info_dialog.[ch]
	* app/interface.c
	* app/layers_dialog.c
	* app/resize.[ch]
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/shear_tool.c: finished the float->double migration for
	resolution values. Standardized the order of function calls which
	initialize sizeentries. Fixed some off-by-one errors by using
	correct double->int casting. Use the g* counterparts of int and
	double in some places. Various code cleanups.

	* app/preferences_dialog.c: same changes as above plus a cleaner
	implementation of the mem_size_unit stuff. The whole dialog should
	behave like before.

Sat May 29 23:43:56 PDT 1999 Manish Singh <yosh@picman.org>

	* libpicman/stdplugins-intl.h: #include <locale.h>

1999-05-30  Jens Lautenbacher <jens@tellux.de>
	    Simon Budig <Simon.Budig@unix-ag.org>
	    Michael Natterer <mitschel@cs.tu-berlin.de>
	    Adam D. Moss <adam@picman.org>
	    Sven Riedel <sr@picman.org>
	    Sven Neumann  <sven@picman.org>

	* app/draw_core.c (draw_core_new): 1/6 bit/person -- figure that
	one out yourself!

Sat May 29 13:43:14 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/Makefile.am: $srcdir != $builddir fix

Sat May 29 09:28:40 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in
	* Makefile.am: removed tips files, AC_SUBST PICMAN_PLUGINS and
	PICMAN_MODULES so you can easily skip those parts of the build

	* acinclude.m4
	* config.sub
	* config.guess
	* ltconfig
	* ltmain.sh: libtool 1.3.2

	* app/fileops.c: shuffle #includes to avoid warning about MIN and
	MAX

	[ The following is a big i18n patch from David Monniaux
	  <david.monniaux@ens.fr> ]

	* tips/picman_conseils.fr.txt
	* tips/picman_tips.txt
	* tips/Makefile.am
	* configure.in: moved tips to separate dir

	* po-plugins: new dir for plug-in translation files

	* configure.in: add po-plugins dir and POTFILES processing

	* app/boundary.c
	* app/brightness_contrast.c
	* app/by_color_select.c
	* app/color_balance.c
	* app/convert.c
	* app/curves.c
	* app/free_select.c
	* app/gdisplay.c
	* app/picmanimage.c
	* app/picmanunit.c
	* app/gradient.c
	* app/gradient_select.c
	* app/install.c
	* app/session.c: various i18n tweaks

	* app/tips_dialog.c: localize tips filename

	* libpicman/picmanunit.c
	* libpicman/picmanunitmenu.c: #include "config.h"

	* plug-ins/CEL
	* plug-ins/CML_explorer
	* plug-ins/Lighting
	* plug-ins/apply_lens
	* plug-ins/autostretch_hsv
	* plug-ins/blur
	* plug-ins/bmp
	* plug-ins/borderaverage
	* plug-ins/bumpmap
	* plug-ins/bz2
	* plug-ins/checkerboard
	* plug-ins/colorify
	* plug-ins/compose
	* plug-ins/convmatrix
	* plug-ins/cubism
	* plug-ins/depthmerge
	* plug-ins/destripe
	* plug-ins/gif
	* plug-ins/gifload
	* plug-ins/jpeg
	* plug-ins/mail
	* plug-ins/oilify
	* plug-ins/png
	* plug-ins/print
	* plug-ins/ps
	* plug-ins/xbm
	* plug-ins/xpm
	* plug-ins/xwd: plug-in i18n stuff

1999-05-29  Tuomas Kuosmanen  <tigert@picman.org>

	* picman1_1_splash.ppm: New splash - enjoy while it lasts..

1999-05-28  Tor Lillqvist  <tml@iki.fi>

	Merge in Win32 changes to plug-ins. Small Win32-related changes
	to app, libpicman and modules.

	* configure.in acconfig.h: Check for mmap.

	* app/makefile.msc: Depend on picmani.lib.
	
	* app/app_procs.c (app_init): Fix gccism: Allocate filenames (an
	array with non-constant size) dynamically.

	* app/{datafiles,fileops,general,install,module_db,temp_buf}.c:
	Include glib.h before standard headers, because of certain obscure
	details related to compiling with gcc on Win32.

	(If you really want to know: glib.h defines he names of POSIXish
	(but non-ANSI) functions as prefixed with underscore, because
 	that's how they are named in the msvcrt runtime C library we want
 	to use. However, defining stat as _stat causes some problems if
 	done after including the mingw32 <sys/stat.h>. So, it's easiest to
 	include <glib.h> early.)

	* app/main.c: Use _stdcall and __argc, __argv with MSC, but
 	__attribute__((stdcall)) and _argc, _argv with gcc. Don't print
 	the "Passed serialization test" message on Win32. (It would open
 	up an otherwise unnecessary console window.)

	* app/paint_funcs.c (gaussian_blur_region): Don't use variable sum
 	until initialized.

	* app/{bezier_select,paths_dialog}.c: Include config.h and define
 	rint() if necessary.

	* app/plug_in.c: Use _spawnv, not spawnv, on Win32 and OS/2.
	
	* libpicman/picman.c: No need for <io.h> on Win32.

	* libpicman/{picman,picmanui}.def: Add two entry points.

	* libpicman/picman.h: Can't use __declspec(dllexport) for PLUG_IN_INFO
 	when compiling with gcc on Win32. Also handle __argc, __argv and
 	_stdcall differently with gcc on Win32

	* libpicman/picmanenv.c: Include <string.h>.

	* libpicman/picmanfeatures.h.in: Remove lots of extraneous trailing blanks.

	* libpicman/picmanfileselection.c: Include <glib.h> early, see above.

	* libpicman/{picmanwire,parasite}.c: Test for NATIVE_WIN32, not
	_MSC_VER.

	* libpicman/makefile.msc: Miscellaneous updates. The picmani library
 	is now built as a static library.

	* modules/colorsel_triangle.c: No need to include gdkx.h. Define
	M_PI if needed.

	* modules/makefile.msc: Use GLib 1.3, update GTk+ paths.

	* plug-ins/makefile.msc: New file.

	* plug-ins/*/*.c (Well, not really all files, but many):
 	Portability fixes. Include config.h, and guard inclusion of POSIX
 	and Unix headers like <unistd.h>, <dirent.h> and
 	<sys/time.h>. Include <string.h> if functions from it are
 	used. Use g_ntohl() and g_htonl() insteead of ntohl() and htonl(),
 	thus no need to include <netinet/in.h>. Include <io.h> on Win32
 	when using open/read/write (which actually are defined as
 	_open/_read/_write by glib.h). Define S_* macros if necessary on
 	Win32. Define rint() and M_PI if necessary (these definitions
 	should be factored out somewhere, no sense repeating them in lots
 	of files). Open files in binary mode when needed.

	* plug-ins/FractalExplorer/FractalExplorer.c: Use
 	g_malloc()/g_free(). Use g_strdup_printf().

  	* plug-ins/dbbrowser/dbbrowser.c: No need to include <X11/Xlib.h>.

	* plug-ins/destripe/destripe.c: Guard use of SIGBUS.

	* plug-ins/{flame/flame,hrz/hrz,pnm/pnm}.c: No need to check for
 	NULL returns from g_malloc() and g_new() as they abort on failure.
	Use g_strdup_printf().

	* plug-ins/gz/gz.c: Win32 version of running the subprocess.

	* plug-ins/hrz/hrz.c: Win32 version. Use more generic tests for
 	non-Unix (OS/2 and Win32), for instance HAVE_MMAP.

	* plug-ins/script-fu/interp_slib.c: Win32 version of myruntime().

	* plug-ins/script-fu/interp_sliba.c: Handle \\ (escaped backslahsh).

	* plug-ins/script-fu/script-fu-console.c: Bypass on Win32.

	* plug-ins/script-fu/script-fu-scripts.c: Portability fixes. Use
 	g_strdup_printf() instead of separate malloc() and sprintf(). Use
 	g_strescape() for strings being passed to Scheme. Some Win32-only
 	stuff.

	* modules/colorsel_triangle.c: No need to include gdkx.h. Define
 	M_PI if necessary.

	* modules/makefile.msc: Update GLib and GTk+ version paths to
 	current preferences.

Thu May 27 22:04:49 1999  Jay Cox  (jaycox@picman.org)

	* app/channel.c: applied fix for the channel_bounds bug from
	Didier Gautheron <dgautheron@magic.fr>. (slightly modified)

Thu May 27 22:00:58 BST 1999 Andy Thomas <alt@picman.org>

	* app/transform_core.c

	Bezier curve display during transformation works 
	with corrective type of transform.

Thu May 27 21:10:31 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/print/print-ps.c (ppd_find): use g_strncasecmp() instead
	of strncasecmp().

Thu May 27 12:10:46 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/gap/sel-to-anim-img.scm: bugfix as provided by Wolfgang
	Hofer, the GAP author

Thu May 27 01:59:35 1999  Jay Cox  (jaycox@picman.org)

	* cursors/{mouse1_u,mouse1_umsk}: new mouse cursor for intersection
	operations.

	* app/cursorutil.[ch], app/rect_select.c: use the new cursor.

	* app/picmanimage.c:  Applied layer removal bug fix from
	David Le Corfec, <lecorfec@etudiant.univ-mlv.fr>

	* plug-ins/gdyntext/{font_selection.c, gdyntext.c, gdyntext_ui.c}:
	replaced snprintf with g_snprintf.

	* plug-ins/jpeg/jpeg.c: updated to work with the double precision
	resolutions.

Wed May 26 21:14:15 BST 1999 Andy Thomas <alt@picman.org>

	* app/bezier_select.c
	* app/bezier_selectP.h
	* app/paths_dialog.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/transform_core.c
	* app/transform_core.h
	* app/transform_tool.c
	* app/transform_tool.h

	Add option to show currently selected path to be displayed 
	during the transform tool operations. (Note if > 1 path locked
	only the last selected path will be shown).

	Reduced flashing of control points during update drawing of paths. 

	Fixed problem in transform tool rotate/scale when changing
	layer (used to get many gdk assert failures about "gc != NULL")

Tue May 25 20:02:42 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/gdyntext/gdyntext_ui.c: Add include <sys/types.h> for OS/2

Mon May 24 21:16:14 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/faxg3/faxg3.c: 
	* plug-ins/faxg3/g3.c: Add include <sys/types.h> for OS/2

Sun May 23 14:13:03 BST 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/threshold_alpha/threshold_alpha.c: Added
	support for greyscale drawables (why not?)

Sun May 23 13:37:53 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/paint_funcs.c: Removed bogosity of previous fix and
	optimized a little.  Cleaner, faster and hopefully more correct
	now.

Sun May 23 02:35:57 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/paint_funcs.c: Fixed a preserve-transparency
	bug w/blend tool and possibly elsewhere.  Allowed
	the opacity-quickskip rule to be applied more generously.

	Be a bit lazier with row-hint re-evalution (tnx j).

1999-05-22  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/[all files with resolution info]
	* libpicman/picman.h
	* libpicman/picmanimage.c
	* libpicman/picmansizeentry.[ch]
	* libpicman/picmanunit.[ch]
	* plug-ins/newsprint/newsprint.c
	* plug-ins/pgn/png.c
	* plug-ins/tiff/tiff.c: double instead of float for all resolution
	and unit-factor variables.

	* app/commands.c
	* app/crop.c
	* app/interface.c
	* app/layers_dialog.c
	* app/move_tool.c
	* app/resize.c
	* app/rotate_tool.c
	* app/scale_tool.c: pass the image's unit *and* gdisp->dot_for_dot
	to all functions which create sizeentries. Never create a
	sizeentry with UNIT_PIXEL but with the image's unit and set it's
	unit to UNIT_PIXEL after creation if dot_for_dot is on.
	This way the image's unit can always be picked from the menu
	without selecting "More...".

	* app/interface.c: made the query_*_box() functions use the
	ActionArea.

	* libpicman/picmanunitmenu.c: GTK_WIN_POS_MOUSE for the unit
	selection dialog.

Fri May 21 10:39:00 CST 1999  Seth Burgess <sjburges@picman.org>

	* app/picmanrc.c
	* app/picmanrc.h
	* app/picmanrc_cmds.c : wrapped up value_to_str and added it to
            the picmanrc_query function.  Now most values will be queryable,
            but there are still a few exceptions (generally structure info
            not really stored in picmanrc anyway).

Thu May 20 16:38:05 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/curves.c: colour in the previously greyscale bars to the
	    left and below the curve itself.  Might want to take alpha and
	    value into account, but currently we don't.  Incidentally
	    fixes a few redraw problems I found along the way.  Done in
	    about an hour and a half, to show Wavey Dave what's possible :)

Wed May 19 19:48:10 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* modules/colorsel_gtk.c : 
	* modules/colorsel_triangle.c:  OS/2 patches.

	* plug-ins/bz2/bz2.c: OS/2 patches. spawn(),,

Wed May 19 01:05:08 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/gap/gap_arr_dialog.c
	* plug-ins/gap/gap_mod_layer.c
	* plug-ins/gap/gap_mov_dialog.c
	* plug-ins/gap/gap_split.c: bugfixes as provided by Wolfgang Hofer

Mon May 17 16:56:36 CEST 1999 Marc Lehmann <pcg@goof.com>

	* libpicman/picmanpixelrgn.c: New function picman_pixel_rgns_register2.
        * libpicman/picman.h: Add prototype for the above.
        * libpicman/picmanfeatures.h: Add feature test macro for the above.

Tue May 18 22:53:08 MEST 1999 Sven Neumann <sven@picman.org>	

	* plug-ins/script-fu/script-fu-scripts.c: Changed the layout of the
	action-area to follow the picman conventions. I intentionally wanted
	to fix the broken gradient select widget, but couldn't find where
	the problem is located. Ideas anyone??

Tue May 18 20:28:42 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/gz/gz.c (spawn_gzip): OS/2 patches. spawn(),,

1999-05-18  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/app_procs.c (and many of the files below): store resolution
	values as doubles, not floats.

	* app/brush_select.c
	* app/pattern_select.c: hide the "refresh" button in client
	dialogs. Don't know if this is desired but it fixes a SEGV.

	* app/file_new_dialog.c: New ui using code/ideas from Austin,
	Marco and Nick. The "size" frame is still a bit bloated but I
	didn't want to reduce it's functionality right now. It's closer to
	the result of the last discussion but not perfect yet...
	Added a dialog to confirm image sizes larger than the new
	max_new_image_size value.
	The new "reset" button uses the values from picmanrc.
	Removed some #include's, added the copyright header.

	* app/picmanrc.[ch]: new rc variable max_new_image_size.

	* app/preferences_dialog.c: added the "max image size"
	option. Generalized the mem size unit code.

	* app/resize.c: an additional box lets the offset widget always
	shrink correctly.

	* app/text_tool.c: fixed a minor memory leak.

	* libpicman/Makefile.am: add all widgets to libpicmanui.*

	* libpicman/picmanfileselection.c: cosmetic changes.

	* libpicman/picmanlimits.h: a maximum image size which should satisfy
	everybody ;)

	* libpicman/picmansizeentry.c: allow the creation of sizeentries
	without fields. This (finally) enables arbitrary layout of the
	spinbuttons.

	* plug-ins/script-fu/script-fu-scripts.c: use the fileselection
	widget for script parameter SF_FILENAME.

Tue May 18 01:14:55 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/app_procs.c: run cleanup code on shutdown in many more
	    cases.  The should fix Marc's problem of not getting module
	    unload functions called at quit time.

	* app/picmanrc.c: internal "module-load-inhibit" variable, listing
	    modules to ignore at start of day.
	* app/module_db.c: new rc file: modulerc.  Keep track of which
	    modules we've got inhibited.  Add button to module browser to
	    edit the settings.  Save new version on picman exit.

1999-05-17  Raja R Harinath  <harinath@cs.umn.edu>

	* libpicman/Makefile.am (../libpicman/picmanfeatures.h): Dummy rule,
	redirected to `picmanfeatures.h'.  This should prevent building
	stuff twice when `picmanfeatures.h' changes.

Mon May 17 14:25:11 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/mail/mail.c (save_image): Add OS/2 patches. popen(),spawnl,,

1999-05-17  Jay Cox  <jaycox@picman.org>

	* app/xcf.c: fixed bogus computation of the maximum size
 	of a compressed tile in xcf_load_level and xcf_save_level.

1999-05-16  Scott Goehring  <scott@poverty.bloomington.in.us>

	* plug-ins/displace/displace.c (run): Fixed a dumb typo reported
	on picman-developer by Claes G. Lindblad.

Sun May 16 22:54:23 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/xd/xd.c: Add OS/2 patches. include <sys/types.h>,,,

Thu May 13 19:17:58 CEST 1999 Marc Lehmann <pcg@goof.com>

	* libpicman/picman.[ch]: Implement picman_default_display.
        * libpicman/picmanfeatures.h: Add feature test macro for the above.

Sun May 16 18:23:12 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/module_db.c: We weren't initialising refs variable before using
	    it.  Hence some stuff was being prematurely unloaded.  D'oh!

	* app/menus.c: move Module DB browser to the Xtns menu, since it
	    seems to make more sense being there.

	* cursors/droppermsk: slight improvement over current one, but
	    really needs proper artist to look at it.

Sun May 16 17:16:59 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/paint_funcs.c: Fixed a possible bad composite when
	mode is REPLACE_MODE.

1999-05-15  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/about_dialog.c: Removed unnecessarly #include of
	interface.h.

	* app/crop.c (crop_image): Fixed a potential linked list race
	condition (i.e. accessing freed memory) when cropping deletes a
	layer.  May fix a bug reported by Sven.

Sat May 15 14:11:46 MEST 1999 Sven Neumann <sven@picman.org>

	* app/clone.c
	* app/paint_core.c: handle the clone tool differently (works as
	usual without the line preview) until I figure out something 
	nicer.

Sat May 15 03:15:49 MEST 1999 Sven Neumann <sven@picman.org>

	* app/paint_core.c: Works even better if the cursor position is
	correctly transformed ;-)

Sat May 15 01:55:12 MEST 1999 Sven Neumann <sven@picman.org>

	* app/menus.c: Moved the seperator down so that it seperates the MRU
	dialog from the rest.
	* app/paint_core.c: Show the line you are drawing when using <Shift>
	on paint_tools. Still need to figure out what's different about the
	clone tool...
	* app/blend.c
	* app/cursorutil.c
	* app/paintbrush.c: a little bit of code cleanup while I was on it

Sat May 15 00:06:06 BST 1999 Andy Thomas <alt@picman.org>

	* app/gdisplay.c
	* app/paths_dialog.c
	* app/paths_dialog.h

	Fixed problem where paths preview not resized correctly when
	image was resized.

1999-05-13  Jay Cox  <jaycox@picman.org>

	* app/pencil.c: use the new color picking feature of paint_core.

Thu May 13 22:41:26 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-
	* app/bezier_select.c
	* app/bezier_selectP.h
	* app/cursorutil.c
	* app/cursorutil.h
	* app/curves.c
	* app/paths_dialog.c

	New:- 
	* cursor/mouse1_ap
	* cursor/mouse1_apmsk
	* cursor/mouse1_cp
	* cursor/mouse1_cpmsk
	* cursor/mouse1_mm
	* cursor/mouse1_mmmsk
	* cursor/mouse1_sel
	* cursor/mouse1_selm
	* cursor/mouse1_selmmsk
	* cursor/mouse1_selmsk
	* cursor/mouse1_selp
	* cursor/mouse1_selpmsk

	Paths changes:-
	Implemented multi-part paths. 
	(Import the path (RMB in paths dialog brings menu up) 
	http://www.picnic.demon.co.uk/tmp/picman.path 
	into a 600x256 (WxH) for an example).

	Can copy/paste paths. 
	Fully custom cursors when using the Bezier tool. A number of bug 
	fixes re boundary problems also fixed.

	Note that heavy use is made of the modifier keys in the bezier tool.
	MB1 inside a closed curve converts it to a selection. The modifiers
	change how the selection interacts with any current selection (in
	much the same way as the selection tool does).

	MB1 + ALT on control point will move a curve, if shift modifier active
	then single curve is moved.
	
	
	Curves:-

	In curves dialog you can now press MB1 + shift will add point to 
	curves dialog corresponding to the current position in 
	the currently selected channel. MB1 + CNTRL will add the point
	to all channels. (Thanks to Carey Bunks for the initial idea).

1999-05-13  Jay Cox  <jaycox@picman.org>

	* app/paint_core.[ch]: set the fg or bg color if ctrl or alt is
 	held.  use the new dropper cursor.

	* app/cursorutil.[ch], app/gdisplay.[ch], app/rect_select.c: Use
 	PicmanCursorType enum values > GDK_CURSOR_LAST instead of seperate
 	functions to choose between cursor types.

	* app/color_picker.c: use the new dropper cursor.

	* app/paintbrush.c, app/airbrush.c, app/paintbrush.c: use the new
 	color picking feature of paint_core.

	* cursors/dropper, cursors/droppermsk: new cursor for the color
 	picker tool. (this cursor is REALLY ugly, someone should fix it)

1999-05-12  Scott Goehring  <scott@poverty.bloomington.in.us>

	* configure.in: fixed variable clobber for thread & MP options 
	* app/Makefile.am: added new PICMAN_MP_{LIBS,FLAGS} to compile &
	link flags

	The old configure would set the thread libs and then immediately
	clobber them unless you enabled MP support.  This meant threads
	but no MP would mean a no-compile if your pthread support is in a
	separate library (not in libc).

1999-05-13  Martin Baulig  <martin@home-of-linux.org>

	* plug-ins/screenshot/screenshot.c: Make the "after ... seconds"
	option global since it is also useful if you want to take a shot
	of a very large window.

Wed May 12 12:13:57 PDT 1999 Manish Singh <yosh@picman.org>

	* acinclude.m4: minor typo fix

	* configure.in: remove waterselect plugin

	* gtkrc: yellow tooltips

	* tools/pdbgen/*: minor cleanups (no functional changes)

Wed May 12 15:14:25 EEST 1999 Lauri Alanko <nether@picman.org>

	* plug-ins/gfig/gfig.c: Updated calls to picman_paintbrush to its
 	current pdb interface.
		
Mit Mai 12 01:16:07 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/Makefile.am
	* plug-ins/waterselect: removed

Tue May 11 22:32:22 MEST 1999 Sven Neumann <sven@picman.org>

	* tools/pdbgen/pdb/color.pdb
	* app/color_cmds.c: fixed some cut'n'paste errors

	* plug-ins/script-fu/scrips/slide.scm: do the rotation correctly

Tue May 11 11:43:36 MEST 1999 Sven Neumann <sven@picman.org>

	* modules/colorsel_water.c: small change not worth a ChangeLog entry

Mon May 10 18:28:11 CEST 1999 Marc Lehmann <pcg@goof.com>

        * configure.in: undo the part of patch "Tue May 4 15:51:16 PDT
        1999" which broke picman-perl configuration completely.

Mon May 10 18:59:58 MEST 1999 Sven Neumann <sven@picman.org>

	* modules/colorsel_water.c: finally fixed my prob all by myself :)

Sun May  9 23:45:08 MEST 1999 Sven Neumann <sven@picman.org>

	* modules/colorsel_water.c: Added a pressure slider. Still don't 
	know why the color history is initially drawn in black and is not 
	updated properly.

1999-05-09  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/text_tool.c: made the font selection dialog static again, so
	the selected font is remembered across text tool invocations.

1999-05-09  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* libpicman/Makefile.am
	* libpicman/picmanlimits.h: new file. Currently contains constants for
	image size and resolution.

	* app/file_new_dialog.c
	* app/resize.c: use the new constants.

	* app/layers_dialog.c: use a sizeentry in the "New Layer" query
	box. Folded the "Layer Fill Type" callbacks into one function.

	* app/text_tool.c
	* app/text_tool_cmds.c
	* tools/pdbgen/pdb/text_tool.pdb: did the calculations for
	resolutions < 1.0 right this time.

	* app/gimage_cmds.c
	* tool/pdbgen/pdb/gimage.pdb: fixed a typo.

Sun May  9 16:23:47 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/tile.c
	* app/tile.h
	* app/tile_manager.c
	* app/tile_pvt.h
	* app/paint_funcs.c:

	Added Tile Row Hinting to the PICMAN tile structure.  Tiles
	now have cheap per-row hints indicating whether each row is
	all-transparent, all-opaque, a mixture, or other properties.

	These hints are automatically invalidated when the tile is checked
	in as dirty, and are re-evaluated on demand.

	Currently only the layer compositing routines take advantage
	of these hints, though there is opportunity to use them to
	advantage in numerous other places.

	The whole layer compositing process is typically 2x-4x faster
	now, especially on subsequent renders of data which has already
	had its hints calculated.

	See tile.h for the explicit TileRowHint query/set interface.
	The procedure to re-evaluate tile hints currently resides in
	paint_funcs.c but may be exposed to other parts of the core
	if necessary.

	This is experimental.  Please report mis-rendering problems.

Sat May  8 22:38:03 MEST 1999 Sven Neumann <sven@picman.org>

	* picman1_1_splash.ppm: new splash_screen ...

Sat May  8 18:31:04 MEST 1999 Sven Neumann <sven@picman.org>

	* modules/Makefile.am
	* modules/colorsel_water.c: Implemented the waterselect plug-in
	as a colorselect module. There is a strange bug left with the update
	of the previews in the color history. Any help is appreciated!
	I'll let the plug-in in the distribution until this is fixed.

1999-05-07  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/app_procs.c
	* app/docindex.[ch]: fill the "last opened" list with
	the first last_opened_size elements of the docindex.

	* app/preferences_dialog.c: fixed the tile_cache_size and
	last_opened_size bugs. Now we can change these values again.

1999-05-07  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/channel.[ch]
	* app/commands.c
	* app/gimage_mask.[ch]
	* app/gimage_mask_cmds.c
	* tools/pdbgen/pdb/gimage_mask.pdb
	* app/interface.c: propagated the independent x/y values for
	shrink/grow/border to the interface but not yet to the PDB.

	* app/*_select.c
	* app/paint_funcs.[ch]: implemented indep. x/y feather. It seems
	that cut-and-paste was sufficient, but I didn't really understand
	the code. Jay, could you have a look at this please?

	If the feather/shrink/... amount is specified in pixels,
	everything behaves like before.
	I'm not sure how the built-in feather option of the selection
	tools should behave, so it still defaults to 'pixel' mode.
	Moved the static feather/shrink/... values from gimage_mask.c to
	commands.c because they belong to the interface.

	* app/text_tool_cmds.c
	* tools/pdbgen/pdb/text_tool.pdb: prepared for resolution
	support, but didn't enable it yet.

	* app/unit_cmds.c
	* tool/pdbgen/pdb/unit.pdb: fixed a help text.

Thu May  6 22:51:33 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/plug_in.c (plug_in_init_shm): Added this new function.
	Taken from plug_in_init(). No logic is changed.

1999-05-06  Tor Lillqvist  <tml@iki.fi>

	* tools/pdbgen/pdb/gradient_select.pdb: Fix nasty bug, inner block
 	variable "values" shadowed outer one, the inner one was assigned
 	to, the outer one returned.

	* app/gradient_select_cmds.c
 	(gradients_get_gradient_data_invoker): Autogenned from above.

Wed May  5 18:18:16 CEST 1999 Marc Lehmann <pcg@goof.com>

        * configure.in: enabled _NOUI versions of PICMAN_CFLAGS and
        PICMAN_LIBS.

Wed May  5 14:29:51 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/datafiles.c: Add <sys/types.h>.
	* app/patterns.c: <sys/types.h> before <dirent.h>

Wed May  5 12:40:54 MEST 1999 Sven Neumann <sven@picman.org>

	* Makefile.am
	* app/cursorutil.c: Moved the cursors out of 'pixmaps' into a new
	directory 'cursors'. Added the files to the Makefile.
	Now its up to TigerT to provide a set of rocking cursors for us ;-)

1999-05-05  Jay Cox  <jaycox@picman.org>

	* pixmaps/mouse1*: new bitmap files containing the new mouse
 	cursors. (based on the work of Tuomas Kuosmanen)

	* app/parasitelist.c: use g_str_equal instead of parasite_compare_func.

	* app/paint_core.c: interpret perfectmouse right way round.

	* app/rect_select{P,}.[ch]: set custom cursors when the operation type
 	changes.  Centralize the calculation of op based on the modifier
 	keys being held.

	* app/fuzzy_select.c, app/free_select.c: allow the rect_select
 	functions calculate the operation type.

	* app/ellipse_select.c: use the SelectionOps typedefs.

	* app/edit_selection.c: convert MaskToLayerTranslate into
 	FloatingSelTranslate if there is already a floating selection in
 	init_edit_selection.

	* app/disp_callbacks.c: fixed the calculation of state.

	* app/gdisplay.[ch], app/cursorutil.[ch]: new functions to allow
 	the loading of customized cursors.

	* app/paint_funcs.[ch], app/channel.c: border_region now accepts
 	seperate xradius and yradius arguments.

Tue May  4 15:51:16 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: use the sinclude bit again, since it works in
	automake 1.4. Generate the Makefile in the embed dir too

	* app/picman.sym: new file, list the symbols we want export to 
	modules here

	* app/Makefile.am: add -export-symbols to LDFLAGS

	* plug-ins/Makefile.am: use make variable expansion instead of
	direct substitution for optional plug-in dirs. E.g., now one can
	do "make PICMAN_PERL=" to skip the perl plug-in dir during build
	without rerunning configure

	* plug-ins/rcm/Makefile.am: add header files to SOURCES

Tue May  4 15:16:47 PDT 1999 Manish Singh <yosh@picman.org>

	* app/text_tool.c: s@gdkprivate@gdk/gdkprivate@

1999-05-04  Tor Lillqvist  <tml@iki.fi>

	Win32 portability changes:

	* config.h.win32, README.win32: Small changes.

	* tools/pdbgen/pdb/*.pdb: Include <string.h>.

	* app/*_cmds.c: Autogenerated files reflect above changes.

	* libpicman/makefile.msc app/makefile.msc: Various updates,
 	including new object files. Gtk+ directory now should be called
 	gtk+ (not gtk-plus). Use win32-specific gdk subdir. Glib directory
 	now should be called just glib.

	* libpicman/picman.def: Updates.

	* libpicman/picmanfeatures.h.win32: Made current with
 	picmanfeatures.h.in.

	* libpicman/picmanfileselection.c: Define S_ISDIR and S_ISREG if
 	necessary.

	* tools/pdbgen/pdb/fileops.pdb: Must have a
 	statement (even an empty one) after a label.

	* app/fileops_cmds.c: Autogenerated file reflects above changes.

	* app/crop.c: Include <string.h>.

	* app/{app_procs,batch,fileops,datafiles,errorconsole,general,
 	plug_in,temp_buf,tile_swap}.c: Test NATIVE_WIN32, not
 	_MSC_VER. (NATIVE_WIN32 means we are using the Microsoft C
 	runtime, even if we might be compiling with gcc.)

	* app/fileops.c: Don't include <process.h> here.

	* app/fileops.h: Do include <process.h> here.

	* app/picmanparasite.c: Include config.h, guard inclusion of
 	<unistd.h>. (Is the inclusion of unistd.h in source files all over
 	the place really necessary?)

	* app/ink.c: MSC doesn't handle conversion from unsigned __int64
 	to double, so cast to signed.

	* app/lut_funcs.c: Include config.h, and define rint() if necessary.

	* app/pixel_processor.c: Include config.h without "..", like in
 	all the other places. Include <string.h>

	* app/text_tool.c: Guard the "POINTS" identifier that clashes with
 	<windows.h>, sigh.

1999-05-02  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.c: call gdisplays_resize_cursor_label(gimage)
	after changing the image's unit.

	* app/gdisplay.c: update the cursor label after resizing it's
	frame, so the old (wrong) value gets overwritten.

	* app/resize.c: it makes more sense to take the image's unit from
	the "print size" frame rather than from "pixel dimensions".
	Set reasonable boundaries to avoid over/underflows with crazy
	resolutions. Code and gui cleanup.
	The constants for min/max image size/resolution should probably go
	to a central place.

	* app/text_tool.c: set the resolution in the X font spec only if
	the size is specified in points (reported by Austin).

	* libpicman/picmansizeentry.c: fixed a bad bug in the boundary and
	resolution setting code (was not noticable before the new
	resize/scale ui).

	* plug-ins/gdyntext/*: version 1.4.3

	* plug-ins/png/png.c: gcc suggested parentheses.

Mon May  3 15:38:54 PDT 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.5 release

Mon May  3 15:34:37 PDT 1999 Manish Singh <yosh@picman.org>

	* app/plug_in_cmds.c
	* tools/pdbgen/pdb/plug_in.pdb: progress_init takes an int32, not
	a display...

Mon May  3 14:03:35 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gimage_cmds.c
	* tools/pdbgen/pdb/gimage.pdb: fix rotten regexp eval
	
Mon May  3 21:44:27 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/palette.c: put up messages telling user about corrupted
 	    palette files as we load them.  In particular, try and catch
 	    MSDOS format files such as those distributed from Visibone's
 	    website.

Mon May  3 21:30:46 CEST 1999 Marc Lehmann <pcg@goof.com>

	* configure.in: changed order of cflags and library path in
        PICMAN_CLFAGS and PICMAN_LIBS.

Mon May  3 12:04:47 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/plug_in.pdb
	* tools/pdbgen/interface.pdb: new files

	* tools/pdbgen/app.pl: add no_id_lookup option

	* tools/pdbgen/Makefile.am: added new pdb files, plug_in.h

	* tools/pdbgen/enums.pl: plug_in.h enums

	* app/plug_in.[ch]: removed PDB stuff, exported current_plug_in,
	proc_defs, and plug_in_progress_{init,update}

	* app/interface_cmds.c
	* app/plug_in_cmds.c
	* app/internal_procs.c: pdbgenned files

	* app/Makefile.am: new files: interface_cmds.c, plug_in_cmds.c

Sun May  2 14:56:52 PDT 1999 Manish Singh <yosh@picman.org>

	* app/picmanimage.h: guide types used to start at 1, so make them
	start at 1

	* tools/pdbgen/enums.pl
	* app/guides_cmds.c: autogenned files reflect above change

1999-05-02  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/commands.c
	* app/layers_dialog.c
	* app/resize.[ch]: new scale/resize ui:
	Use size entries instead of text entries, chainbuttons instead of
	check buttons. Put the stuff into frames. Added labels for the
	original width and height.
	It's possible to change resolution/unit now, please test if it
	does the right thing.

	* libpicman/picmansizeentry.c: allow lower == upper when checking
	boundaries.

Sat May  1 14:43:42 PDT 1999 Manish Singh <yosh@picman.org>

	* tools/pdbgen/pdb/fileops.pdb
	* app/fileops_cmds.c: fixed dumbass save code

Sat May  1 22:18:55 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/brush_select.c
	* app/brush_select.h
	* app/pattern_select.c
	* app/pattern_select.h: delay the popup of pattern and brush
 	    preview window by 150 millisecs.  Allows flicker-free
 	    selection of brushes/patterns, and still have fast pattern
 	    preview like we used to.  Ideally, should really factor out
 	    the common code in these two files into one generic picker
 	    widget.

	* app/free_select.c: cosmetic whitespace change.

	* app/draw_core.c: use GDK_CAP_NOT_LAST, not GDK_CAP_BUTT,
 	    otherwise sequential line segments in XOR mode have
 	    single-pixel gaps between them.  Worse, if the segments are
 	    only one pixel long, you don't get _any_ lines.  XFree86 seems
 	    to ignore GDK_CAP_BUTT, which is why this bug hasn't been seen
 	    before.  NCD X servers comply with the spec a little more
 	    pedantically, so need GDK_CAP_NOT_LAST.  OS/2 and Win32 people
 	    should check that (eg) the lasso tool still provides proper
 	    visual feedback.

Sat May  1 12:14:54 PDT 1999 Manish Singh <yosh@picman.org>

	* acinclude.m4
	* config.guess
	* config.sub
	* ltconfig
	* ltmain.sh: upgrade to libtool 1.3

	* Makefile.am: don't install picmanrc.5 in our sharedir

Sat May  1 11:05:02 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/print/print.c (get_printers): OS/2 printing.
	* plug-ins/print/print-ps.c (ps_print): set prn in text mode.
	* plug-ins/ps/ps.c (read_pnmraw_type): skip '\r';
	* plug-ins/screenshot/screenshot.c (shoot): Use spawnlp() instead of
 	fork().

	* plug-ins/hrz/hrz.c (load_image): Use g_malloc instead of mmap
	for OS/2.

Fri Apr 30 17:01:01 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

        * app/module_db.c (mod_load): only OS/2 patches.

Fri Apr 30 13:31:14 PDT 1999 Manish Singh <yosh@picman.org>

	* Makefile.am: listed tools first in SUBDIRS, so xgettext can grab
	the autogenned files

	* acconfig.h: removed unused HAVE_XSHM_H

	* tools/pdbgen/app.pl: added proc invoke method, nicer header
	formatting

	* tools/pdbgen/pdb/layer.pdb: use layer_mask type for return value
	for layer_create_mask

	* tools/pdbgen/pdb/misc.pdb: added quit proc

	* tools/pdbgen/pdb/tools.pdb: added ink proc, but not added to @procs
	since it's incomplete

	* tools/pdbgen/pdb/fileops.pdb: new file

	* app/Makefile.am: added fileops_cmds.c

	* app/app_procs.c
	* app/fileops.c
	* app/ink.c: removed PDB procs (the one in ink.c was incomplete)

	* app/fileops.h: exported load_procs, save_procs, and file_proc_find()

	* app/plug_in.h: exported enum, #include <sys/types.h>

	* app/brushes_cmds.c
	* app/fileops_cmds.c
	* app/layer_cmds.c
	* app/misc_cmds.c
	* app/parasite_cmds.c
	* app/patterns_cmds.c
	* app/procedural_db_cmds.c
	* app/text_tool_cmds.c
	* app/internal_procs.c: pdbgen updates

	* app/paint_funcs.c: the glibc 2.1 docs say using SVID threadsafe
	random functions are preferable to rand_r, so use them instead of
	a mutex

1999-04-30  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* plug-ins/gdyntext/*: updated version 1.4.2

1999-04-30  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/flip_tool.c: fixed a cut-and-paste bug: vertical flip
	iterates over rows, not columns.

Thu Apr 29 16:32:11 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/url/url.c (load_image): 
	* plug-ins/webbrowser/webbrowser.c (start_browser): 
	Use spawnlp() instead of fork().

	* plug-ins/gfig/gfig.c : OS/2 patches.
 	use G_SEARCHPATH_SEPARATOR_S instead of ":", add sys/types.h,,.

1999-04-29  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/brush_select.[ch]
	* app/pattern_select.[ch]: disabled setting the size of the
	brushes dialog again because it still caused SIGFPE's in some rare
	cases. I'm trying to fix that.
	*Minimal* ui spacing changes. Some changes to make the code look
	more similar (I'm a make-them-look-the-same fanatic ;)

Wed Apr 28 20:53:18 MEST 1999 Sven Neumann <sven@picman.org>

	* app/bucket_fill.c
	* app/convolve.c
	* app/crop.c
	* app/flip_tool.c
	* app/ops_buttons.c
	* app/tool_options.c: some code cleanup and i18n fixes

Wed Apr 28 16:28:08 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/picmanrc.c: Add <sys/types.h>, Open text files with "rt".
	Add OS/2 function  add_x11root_token (char *x11root).

	* app/install.c (install_run): Add install for OS/2.

Tue Apr 27 23:52:26 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in
	* tools/Makefile.am
	* tools/pdbgen/Makefile.am: integrated pdbgen into the build system

	* libpicman/picman.h
	* libpicman/picmanimage.c: renamed picman_image_findnext_guide to
	picman_image_find_next_guide, so change pdb wrapper

	* plug-ins/guillotine/guillotine.c: reflect api change

Tue Apr 27 22:59:08 MEST 1999 Sven Neumann <sven@picman.org>

	* app/tool_options.c
	* app/tool_options_ui.h: redid the tool_options_radio_buttons_new
	function I introduced yesterday

	* app/interface.c: had to add GDK_BUTTON_RELEASE_MASK to the 
	events the window catches. Hopefully this doesn't break anything.

	* app/tools.c
	* app/tools.h
	* app/toolsF.h: decided that it makes more sense to have a 
	modifier_key_func instead of a toggle_key_func. That way we can
	catch all modifiers. Now if someone knows how to handle non-GDK 
	cursors, please implement context-cursors for the selection tools.

	* app/bucket_fill.c
	* app/convolve.c
	* app/crop.c
	* app/flip_tool.c: adapted to use the new modifier_key_func

	* all other tools: changed to use standard_modifier_key_func

Tue Apr 27 20:58:14 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/tile_swap.c (tile_swap_exit1): close swap file before unlink.

Mon Apr 26 21:34:08 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gimage_cmds.c
	* app/guides_cmds.c: pdbgenned files

	* app/parasite_cmds.c: added image parasite cmds

	* app/picmanimage.h: capitalized ChannelType and MergeType enums,
	made HORIZONTAL_GUIDE and VERTICAL_GUIDE an enum

	* app/layer.h: made APPLY and DISCARD an enum

	* app/internal_procs.[ch]: finally pdbgenned

	* app/channels_dialog.c
	* app/fileops.c
	* app/picmanimage.c
	* app/layers_dialog.c: ChannelType, MergeType enum changes

	* app/commands.c: remove gimage_cmds.h #include

	* app/cursorutil.h: #include <gdk/gdktypes.h>

	* app/paint_funcs.h: cosmetic change for PDB help

	* app/brush_select_cmds.c
	* app/brushes_cmds.c
	* app/layer_cmds.c
	* app/tools_cmds.c: pdbgen updates

	* app/Makefile.am: removed gimage_cmds.h, added guides_cmds.c

	* plug-ins/Lighting/lighting_main.c
	* plug-ins/MapObject/mapobject_main.c
	* plug-ins/rcm/rcm.c
	* plug-ins/xbm/xbm.c: removed trailing ";" from MAIN ()

Tue Apr 27 04:16:55 MEST 1999 Sven Neumann <sven@picman.org>

	* app/tools_cmds.c: small fix (and updated the pdb file)

Tue Apr 27 03:55:44 MEST 1999 Sven Neumann <sven@picman.org>

	* app/tool_options.c
	* app/tool_options_ui.h
	* app/tools.[ch]		
	* app/toolsF.h
	* app/tools_cmds.c: Enabled toggable tools. Tools can hook to
	the key-press event of the Shift key.

	* app/bucket_fill.c
	* app/convolve.c
	* app/crop.[ch]
	* app/flip_tool.[ch]: Made these tools toggleable.

	* all other tools: added a standard_toggle_key_func.
	
Mon Apr 26 16:05:55 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/MapObject/mapobject_main.c: 
	* plug-ins/Lighting/lighting_main.c: 
	MAIN macro at the end of file.

	* plug-ins/FractalExplorer/FractalExplorer.c: 
	* plug-ins/CML_explorer/CML_explorer.c: Add <sys/types.h>.

Sun Apr 25 21:25:23 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/script-fu/script-fu-scripts.c:  Add <sys/types.h>.
	 Use G_SEARCHPATH_SEPARATOR_S instead of ":".

	* plug-ins/script-fu/script-fu-console.c: Add <sys/types.h>

Sun Apr 25 16:59:09 BST 1999 Adam D. Moss <adam@picman.org>

	* plug-ins/gif/gif.c: Save the comment back onto the image
	as a persistant parasite if the comment was edited.

1999-04-25  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/text_tool.c: added resolution support if the tool is used
	from the interface. Can't do this for the PDB because the text has
	to be rendered in the size "text_get_extents" (which currently has
	no access to resolution information) returns.

Sat Apr 24 18:36:04 PDT 1999 Manish Singh <yosh@picman.org>

	* app/gimage_mask_cmds.[ch]: pdbgenned, use header file

	* app/internal_procs.c: use pdbgen register for gimage mask funcs

	* app/Makefile.am: remove gimage_mask_cmds.h

Sat Apr 24 21:50:58 BST 1999 Adam D. Moss <adam@picman.org>

	* app/edit_selection.c: Finished the opaque-move stuff...
	hopefully.  Float and selection-mask movement behaviour
	repaired, etc.

Sat Apr 24 13:28:13 PDT 1999 Manish Singh <yosh@picman.org>

	* app/layer_cmds.[ch]: pdbgened, header file removed

	* app/internal_procs.c: use pdbgen register for layer funcs

	* app/*_cmds.c: various pdbgen formatting fixes

	* app/Makefile.am: removed layer_cmds.h

	* app/layer.c
	* app/layerF.h: changed AddMaskType enum to capitals

Sat Apr 24 11:30:34 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/plug_in.c (plug_in_open): Add OS/2 patches. Setting pipes
	in binary mode.

	* libpicman/picmanenv.c (picman_data_directory): Set picman_data_dir (OS/2).

	* libpicman/picman.c (set_picman_PLUG_IN_INFO): Set the PLUG_IN_INFO
	structure in a normal way (at run-time). 
	The UNIX PLUG_IN_INFO is set at linking time!

	The read/writechannel is set in BINARY mode (OS/2 version). 

	* libpicman/picman.h (MAIN): Add MAIN macro for OS/2 plugins.

1999-04-24  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/bucket_fill.c: added a "BG Color Fill" radio button.
	Toggling FG/BG with <shift> works in both color fill modes now.

	* app/brush_select.c: session management sets the size of the
	dialog again (depending on the current paint options mode because
	bad things happen if the brush preview's size is reduced beyond
	it's minimum).

Thu Apr 22 22:14:02 PDT 1999 Manish Singh <yosh@picman.org>

	* app/picmandrawable.c: gave parasite undo a MISC_UNDO class for now
	so it compiles

	* app/tools_cmds.c: fix crop invoker to give correct args to 
	crop_image

	* app/color_cmds.c: s/GRAY/GRAY_LUT/g;

	* app/brush_select.[ch]: removed PDB procs, export brush_active_dialogs,
	brush_select_dialog, s/active_dialogs/brush_active_dialogs/

	* app/gimage_cmds.[ch]
	* app/channel_ops.[ch]: removed channel ops PDB procs, moved duplicate
	function from gimage_cmds to channel_ops, export offset and duplicate

	* app/picmanbrushlist.[ch]: removed PDB procs

	* app/gradient.[ch]: removed PDB procs,

	* app/gradient_header.h: exported G_SAMPLE, GradSelect, num_gradients,
	grad_active_dialogs, gradient_select_dialog

	* app/gradient_select.c: removed PDB procs,
	s/active_dialogs/grad_active_dialogs/

	* app/patterns.[ch]: removed PDB procs

	* app/pattern_select.[ch]: removed PDB procs,
	s/active_dialogs/pattern_active_dialogs/

	* app/procedural_db.c: removed PDB procs and supporting functions

	* app/procedrual_db.h: fiddled with enums

	* app/channel_cmds.[ch]
	* app/drawable_cmds.[ch]
	* app/parasite_cmds.[ch]: pdbgenned now, removed header files

	* app/picmanparasite.c: minor cleanup

	* app/internal_procs.c: use pdbgen stuff

	* app/tools_cmds.c
	* app/text_tool_cmds.c: updated from pdbgen

	* app/brushes_cmds.c
	* app/brush_select_cmds.c
	* app/gradient_cmds.c
	* app/gradient_select_cmds.c
	* app/patterns_cmds.c
	* app/pattern_select_cmds.c
	* app/procedural_db_cmds.c: new pdbgen files

	* app/Makefile.am: file shuffle (see above)

Fri Apr 23 17:11:42 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/temp_buf.c: 
	* app/patterns.c: 
	* app/palette_select.c: 
	* app/palette.c: 
	* app/general.c: 
	* app/errorconsole.c: Add <sys/types.h>

1999-04-23  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/brush_select.[ch]
	* app/pattern_select.[ch]: made the previews change their size in
	sync with resizing the dialog. The previews auto-resize with their
	parent frame now. Connect to the preview's "size_allocate" signal,
	not to the frame's, don't "signal_connect_after". Get the size of
	the preview from it's allocation and not from it's requisition.
	There's no need to remember width, height and the frame in the
	structures anymore, so I kicked them out. Tweaked the code to look
	more similar.

Fri Apr 23 08:31:50 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* app/picmanbrushlist.c: <sys/types.h> before <sys/stat.h>

	* plug-ins/lic/lic.c: MAIN at the end of file.
	* plug-ins/despeckle/despeckle.c: 
	* plug-ins/destripe/destripe.c: 
	* plug-ins/png/png.c: 
	* plug-ins/sgi/sgi.c:  Use MAIN() macro.

1999-04-22  Jay Cox  <jaycox@picman.org>

	* app/edit_selection.c: removed some nonfunctional code.

	* app/paint_core.c: remove the alt toggles perfectmouse behaviour.

	* app/paintbrush.c: when ctl (or alt) is held set the fg (or bg) color.

	* app/picmanparasite.[ch]: made char *name parameters const.

	* app/parasitelist.c: removed unused static variable.

	* app/picmandrawable.c, app/picmanimage.c, app/undo.[ch]: added
 	support for undoing parasite changes.

	* libpicman/picman.h, libpicman/picmanimage.c: added
 	picman_undo_push_group_start and picman_undo_push_group_end

	* libpicman/parasite.[ch]: added undoable flag.

	* plug-ins/gdyntext/font_selection.c: fixed c++ style comment.

	* plug-ins/gdyntext/gdyntext.c: use the new undoable parasites.

	* plug-ins/rcm/rcm_misc.c: arctg can't be inline because it is
 	used in other .c files

	* plug-ins/waterselect/waterselect.c,
	* plug-ins/rotators/rotators.c, app/tips_dialog.c, app/plug_in.c:
 	fixed some warnings

Fri Apr 23 01:31:29 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.c: autocrop used to miss the bottom line
	* plug-ins/autocrop/autocrop.c: same fix here

1999-04-22  Michael Natterer  <mitschel@cs.tu-berlin.de>

	First version of per-tool paint options. No PDB interface yet.
	The tool options dialog got rather big when in per-tool mode, so
	it will probably have to become a notebook.

	It's not yet 100% consistent. If switched off, everything should
	behave exactly like before.

	* app/Makefile.am
	* app/paint_options.h: new file

	* app/tool_options.c: PaintOptions gui. Maintain a list of all
	paint tools' ToolOptions to enable switching between global and
	per-tool paint options.

	* app/brush_select.[ch]: changed packing boxes, tables, ...
	The paint options in the brush selection can be hidden now.
	Moved create_paint_mode_menu() to paint_options.h and
	tool_options.c and renamed it to paint_mode_menu_new().

	* app/gimage_mask.c
	* app/picmanbrush.[ch]
	* app/picmanbrushlist.[ch]
	* app/paint_core.c: moved picman_brush_[set|get]_spacing() from
	picmanbrushlist.[ch] to picmanbrush.[ch].
	Moved picman_brush_[get|set]_[opacity|paint_mode]() to
	paint_options.h and tool_options.c and renamed them to
	paint_options_*_*().  They are "global paint options" now.

	* app/airbrush.c
	* app/blend.c
	* app/bucket_fill.c
	* app/clone.c
	* app/convolve.c
	* app/eraser.c
	* app/ink.c
	* app/paintbrush.c
	* app/pencil.c: all paint tools' options are derived from
	"PaintOptions" now. Opacity and paint mode are obtained through
	macros which take into account the current paint options mode.

	* app/buildmenu.h: #include <gtk/gtk.h>

	* app/color_picker.c
	* app/text_tool.c: changed spacings.

	* app/picmanrc.[ch]: new picmanrc option "global-paint-options"

	* app/preferences_dialog.c: Added a "Tool Options" page. Code
	cleanup. Some work on the convenience constructors test site.

	* app/tools.c: fixed "unused variable" warning.

Thu Apr 22 16:05:10 1999  ape@lrdpf.spacetec.no  (Asbjorn Pettersen)

	* plug-ins/CEL/CEL.c: 
	* plug-ins/sharpen/sharpen.c: Use MAIN() macro.

Thu Apr 22 08:47:50 1999  ape@.spacetec.no  (Asbjorn Pettersen)

	* libpicman/picmanfileselection.c: Add #include <sys/types.h> for OS/2 v.

Wed Apr 21 00:36:03 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/menus.c: only add file to the 'recently opened' list if
	    it's not there already.

Tue Apr 20 21:53:01 PDT 1999 Manish Singh <yosh@picman.org>

	* app/color_cmds.c: moved a bunch of PDB stuff here

	* app/color_balance.[ch]: removed PDB proc, exported TransferMode
	enum, ColorBalanceDialog, color_balance_create_lookup_tables, and
	color_balance

	* app/curves.[ch]: removed PDB procs, exported SMOOTH and GFREE
	#defines, CurvesDialog, curves_lut_func and curves_calculate_curve

	* app/desaturate.[ch]: removed PDB proc, exported desaturate

	* app/equalize.[ch]: removed PDB proc, exported equalize

	* app/histogram_tool.[ch]: removed PDB proc, exported HISTOGRAM_WIDTH
	and HISTOGRAM_HEIGHT #defines, HistogramToolDialog,
	histogram_tool_histogram_range

	* app/hue_saturation.[ch]: removed PDB proc, exported HueRange enum,
	HueSaturationDialog, hue_saturation_calculate_transfers,
	hue_saturation

	* app/invert.[ch]: remove PDB proc, export invert

	* app/threshold.[ch]: remove PDB proc, export ThresholdDialog and
	threshold_2

	* internal_procs.c: changes for pdbgen

	* app/picmanrc.c: removed leftover declaration

	* app/image_map.h: add #include "picmandrawableF.h"

	* app/lut_funcs.h: add ALPHA_LUT to ChannelLutType

Wed Apr 21 01:21:55 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.c: optimized the autocrop algorithm

Tue Apr 20 23:38:26 BST 1999  Austin Donnelly  <austin@picman.org>

	* app/bezier_select.c: add the new args to picman-paintbrush PDB
	    calls.

	* app/blend.c
	* app/bucket_fill.c
	* app/invert.c: check return from procedural_db_run_proc() rather
	    than dereferencing NULL.

	* app/paintbrush.c: plumb the non-gui fade_out option into the
	    functions that actually do the work, rather than using
	    an uninitialised value.

	* app/procedural_db.c: better error messages on PDB typecheck fail
	    in procedural_db_run_proc.  Also now valid to
	    procedural_db_destroy_args() on a NULL pointer.
	* app/procedural_db.h: pdb_type_name() function added, plus
	    comment urging people to keep the enum and strings in step.

	* tools/pdbgen/README: added paragraph on how to run pdbgen.pl

	* tools/pdbgen/pdb/tools.pdb: fade_out parameter is valid to be 0
	* app/tools_cmds.c: new version of generated file

Tue Apr 20 21:18:10 MEST 1999 Sven Neumann <sven@picman.org>

	* app/blend.c: moved the "Adaptive supersampling" option into
	the frame
	* app/transform_tool.c: sensitive setting for the "Grid density"

Tue Apr 20 10:05:07 PDT 1999 Manish Singh <yosh@picman.org>

	* app/tools_cmds.c: doh, I'm dumb. s/rotate_invoker/rotate/g

Tue Apr 20 13:09:03 MEST 1999 Sven Neumann <sven@picman.org>

	* modules/colorsel_triangle.c
	* app/tips_dialog.c: put the previews into sunken frames

	* app/color_select.c: enlarged the hex triplet entry

Tue Apr 20 00:48:18 CEST 1999 Marc Lehmann <pcg@goof.com>

	* configure.in: bump minimum perl version from 5.004 to 5.004_4.

Mon Apr 19 23:31:17 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/gap: Changes to the GAP plug-in as they were sent to
	me by Wolfgang Hofer.

1999-04-19  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/penstroke.xpm: Punched a hole inside the icon - it 
	shouldnt be filled I guess..

	* pixmaps/yes.xpm, pixmaps/no.xpm: Changed the icons (X and V) 
	to the ones that are also used in gnome - we can look more
	consistent this way  :)

1999-04-19  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* plug-ins/png/png.c: applied picman-ruth-990413-0.patch. Modified
	it to leave the image's unit untouched because png has only
	resolution and no unit info. Fixed some unrelated warnings.

Sun Apr 18 14:19:36 PDT 1999 Manish Singh <yosh@picman.org>

	* app/tools_cmds.c: new file, containes the PDB stuff for most
	of the tools

	* app/picmanrc_cmds.c: new file, PDB interface stuff for picmanrc
	access

	* app/Makefile.am: added tools_cmds.c and picmanrc_cmds.c

	* app/airbrush.[ch]
	* app/blend.[ch]
	* app/bucket_fill.[ch]
	* app/by_color_select.[ch]
	* app/clone.[ch]
	* app/color_picker.[ch]
	* app/convolve.[ch]	
	* app/crop.[ch]
	* app/ellipse_select.[ch]
	* app/eraser.[ch]
	* app/flip_tool.[ch]
	* app/free_select.[ch]
	* app/fuzzy_select.[ch]
	* app/picmanrc.[ch]
	* app/paintbrush.[ch]
	* app/pencil.[ch]
	* app/perspective_tool.[ch]
	* app/rect_select.c app/rect_select.h
	* app/rotate_tool.[ch]
	* app/scale_tool.[ch]
	* app/shear_tool.[ch]: bye bye PDB stuff (exported necessary enums
	functions, vars, etc.)

	* app/internal_procs.c: use register_foo functions

	* app/blend.[ch]: GradientType enum case changed

	* app/bucket_fill.[ch]: s/FillMode/BucketFillMode/, made the enum
	more consistent

	* app/clone.[ch]: capitalized the CloneType enum

	* app/color_picker.[ch]: changed get_color to pick_color so we don't
	conflict with colormaps.c get_color

	* app/convolve.[ch]: capitalized the ConvolveType enum

	* app/paint_core.h: made a GradientPaintMode enum

	* app/transform_core.h: BoundingBox enum

	* app/scale_tool.c: use the generic bounding box enum for X1, Y1, etc.

	* app/shear_tool.[ch]: turned HORZ and VERT into a ShearType enum

1999-04-18  Seth Burgess <sjburges@picman.org>
    
	* app/internal_procs.c
	* app/picmanrc.h
	* app/picmanrc.c: wrote a function to save arbitrary "token" "value"
	pairs in the user picmanrc and added picmanrc_set to the PDB.

1999-04-18  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/paintbrush.c: fixed a sensitive setting bug I introduced
	with the last change.

	* app/text_tool.c: added a toggle button which enables calling
	gDynText.

	* app/tool_options.c: the toggle callback does some more sensitive
	settings.

1999-04-18  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/bucket_fill.c
	* app/clone.c
	* app/convolve.c
	* app/flip_tool.c
	* app/ink.c
	* app/paintbrush.c
	* app/transform_tool.c: remember all radio buttons in the
	ToolOptions structures. This enables arbitrary default values and
	gui feedback for the "toggle key" feature.

Sat Apr 17 11:15:35 PDT 1999 Manish Singh <yosh@picman.org>

	* app/text_tool_cmds.c: doh, decipoints not decipixels

Thu Apr 15 23:04:17 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/color_picker.c

	Must account for layer offsets.

Thu Apr 15 14:41:01 PDT 1999 Manish Singh <yosh@picman.org>

	* applied picman-lecorfec-99041[02]-0, changes follow

	* plug-ins/FractalExplorer/Dialogs.h (make_color_map):
	replaced free with g_free to fix segfault.

	* plug-ins/Lighting/lighting_preview.c (compute_preview):
	allocate xpostab and ypostab only when needed (it could also be
	allocated on stack with a compilation-fixed size like MapObject).
	It avoids to lose some Kb on each preview :)
	Also reindented (unfortunate C-c C-q) some other lines.

	* plug-ins/Lighting/lighting_main.c (run):
	release allocated postabs.

	* plug-ins/Lighting/lighting_ui.c:
	callbacks now have only one argument because gck widget use
	gtk_signal_connect_object. Caused segfault for scale widget.

	* plug-ins/autocrop/autocrop.c (doit):
	return if image has only background (thus fixing a segfault).

	* plug-ins/emboss/emboss.c (pluginCore, emboss_do_preview):
	replaced malloc/free with g_malloc/g_free (unneeded, but
	shouldn't everyone use glib calls ? :)

	* plug-ins/flame/flame.c :
	replaced a segfaulting free, and several harmless malloc/free pairs.

	* plug-ins/flame/megawidget.c (mw_preview_build):
	replaced harmless malloc/free pair.
	Note : mwp->bits is malloc'ed but seems to be never freed.

	* plug-ins/fractaltrace/fractaltrace.c (pixels_free):
	replaced a bunch of segfaulting free.
	(pixels_get, dialog_show): replaced gtk_signal_connect_object
	with gtk_signal_connect to accomodate callbacks (caused STRANGE
	dialog behaviour, coz you destroyed buttons one by one).

	* plug-ins/illusion/illusion.c (dialog):
	same gtk_signal_connect_object replacement for same reasons.

	* plug-ins/libgck/gck/gckcolor.c :
	changed all gck_rgb_to_color* functions to use a static GdkColor
	instead of a malloc'ed area. Provided reentrant functions with
	the old behaviour (gck_rgb_to_color*_r). Made some private functions
	static, too.
	gck_rgb_to_gdkcolor now use the new functions while
	gck_rgb_to_gdkcolor_r is the reentrant version.
	Also affected by this change: gck_gc_set_foreground and
	gck_gc_set_background (no more free(color)).

	* plug-ins/libgck/gck/gckcolor.h :
	added the gck_rgb_to_gdkcolor_r proto.

	* plug-ins/lic/lic.c (ok_button_clicked, cancel_button_clicked) :
	segfault on gtk_widget_destroy, now calls gtk_main_quit.
	(dialog_destroy) : segfault on window closure when called by
	"destroy" event. Now called by "delete_event".

	* plug-ins/megawidget/megawidget.c (mw_preview_build):
	replaced harmless malloc/free pair.
	Note : mwp->bits is malloc'ed but seems to be never freed.

	* plug-ins/png/png.c (load_image):
	replaced 2 segfaulting free.

	* plug-ins/print/print-ps.c (ps_print):
	replaced a segfaulting free (called many times :).

	* plug-ins/sgi/sgi.c (load_image, save_image):
	replaced a bunch of segfaulting free, and did some harmless
	inits to avoid a few gcc warnings.

	* plug-ins/wind/wind.c (render_wind):
	replaced a segfaulting free.
	(render_blast): replaced harmless malloc/free pair.

	* plug-ins/bmp/bmpread.c (ReadImage):
	yet another free()/g_free() problem fixed.

	* plug-ins/exchange/exchange.c (real_exchange):
	ditto.

	* plug-ins/fp/fp.h: added Frames_Check_Button_In_A_Box proto.
	* plug-ins/fp/fp_gtk.c: closing subdialogs via window manager
	wasn't handled, thus leading to errors and crashes.
	Now delete_event signals the dialog control button
	to close a dialog with the good way.

	* plug-ins/ifscompose/ifscompose.c (value_pair_create):
	tried to set events mask on scale widget (a NO_WINDOW widget).

	* plug-ins/png/png.c (save_image):
	Replaced 2 free() with g_free() for g_malloc'ed memory.
	Mysteriously I corrected the loading bug but not the saving one :)

Thu Apr 15 14:08:51 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in
	* plug-ins/gdyntext: new plugin

Thu Apr 15 21:20:45 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/color_picker.c

	Added UI feedback to the tool when using the sample average
	option. 
	Fixed the scale of the sample area to be integral (is this right?).

Thu Apr 15 12:14:30 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.c: fixed an off-by-one error and renamed the tool
	to "Resize & Crop"
	* app/tools.c: reflect the name change 

Thu Apr 15 01:32:58 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.c: The autocrop mechanism now first checks if there's
	transparency to crop. If there are no transparent borders it
	tries to crop uniformly colored areas from the borders.

Wed Apr 14 14:27:51 CEST 1999 Marc Lehmann <pcg@goof.com>

	* app/app_procs.c, app/module_db.[ch]: call module_unload 
	functions on all modules when we quit (don't close it, though).

Wed Apr 14 00:27:53 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* Makefile.am

	Added new pixmap file to Makefile.am EXTRA_DIST

Tue Apr 13 22:17:23 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/bezier_select.c 
	* app/bezier_select.h 
	* app/pathsP.h 
	* app/paths_dialog.c 
	* app/transform_core.c 
	* app/transform_core.h 
	* app/undo.c 	

	New:-

	* pixmap/locked.xpm

	New image. (Your welcome to improve upon it...)

	Paths can now be locked down for transformations. Click next to the
	paths preview and a icon will appear. This path will "locked" during
	transformations (via the transforms tool). Undo for these path 
	transformations is also available.

	Fixed bug when creating a path for the first time when no paths dialog
	visible.	

Tue Apr 13 00:01:24 PDT 1999 Manish Singh <yosh@picman.org>

	* configure.in: bumped up to 1.1.5

	* libpicman/picmanfeatures.h.in: added PICMAN_CHECK_VERSION macro and
	a features #define for 1.1.5

	* app/misc_cmds.c: added a picman_version PDB function that
	returns the current version (new file)

	* app/internal_procs.c: register picman_version PDB function

Mon Apr 12 21:54:48 PDT 1999 Manish Singh <yosh@picman.org>

	* app/boundary.c: code cleanup

	* app/levels.c: applied picman-lecorfec-990314-0, added spin buttons
	to the levels dialog

	* plug-ins/script-fu/scripts/font-map.scm: changes for updated
	picman_text interface

Tue Apr 13 02:27:26 CEST 1999 Marc Lehmann <pcg@goof.com>

	* libpicman/parasite.[ch]: Removed the parasite load/save functions.
	* app/paraslitelist.[ch]: Same as above, for the list load/save
	functions.

Mon Apr 12 23:44:14 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.c: The "From Selection" functionality is back and works 
	consistently with the "Current Layer only" option. Additionally
	I have used some code from the autocrop plug-in and you can now
	let The PICMAN automatically select the crop-area for you. 
	Eventually this need some optimization. For sure the GUI needs to 
	be worked on a bit...

1999-04-12  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/airbrush.c
	* app/bezier_select.c
	* app/blend.c
	* app/brightness_contrast.c
	* app/bucket_fill.c
	* app/by_color_select.c
	* app/clone.c
	* app/color_balance.c
	* app/color_picker.c
	* app/convolve.c
	* app/crop.c
	* app/curves.c
	* app/ellipse_select.c
	* app/eraser.c
	* app/flip_tool.c
	* app/free_select.c
	* app/fuzzy_select.c
	* app/histogram_tool.c
	* app/hue_saturation.c
	* app/ink.c
	* app/iscissors.c
	* app/levels.c
	* app/magnify.c
	* app/move.c
	* app/paintbrush.c
	* app/pencil.c
	* app/posterize.c
	* app/rect_select.[ch]
	* app/text_tool.c
	* app/threshold.c
	* app/transform_tool.c

	* app/tools.[ch]
	* app/toolsF.h: again: all tools :( 

	* app/Makefile.am
	* app/tool_options.[ch]
	* app/selection_options.h
	* app/tool_options_ui.h: new files.

	Ok, this time it's general enough for future extensions:

	- The tool options structures are organized like the gtk object
	  system to allow derived tool options.
	- Renamed all create and reset functions to *_options_new() and
	  *_options_reset() to reflect this.
	- Changed tools_register() again. Now it takes just a pointer to a
	  ToolOptions structure.
	- Moved almost the entire tool options gui code to tool_options.c.
	- Visually separated the common selection options from the
	  tool-specific ones. I'd like to do the same with opacity/paint
	  mode in all paint tool options but I think this needs some more
	  discussion.

	* app/histogram_tool.c: changed packing boxes, label alignments.

	* app/paintbrush.c: some more sensitive settings. The gradient
	feature can now be toggled with a button. Hopefully didn't break
	anything.

Sun Apr 11 23:35:31 CEST 1999 Marc Lehmann <pcg@goof.com>

	* app/general.c: save string token length into "token_int".
	Fixed parsing of escape sequences, added '\0' and '"' sequences.

	* app/picmanrc.c: implement new type "parasite".

	* app/picmanparasite.c: load and save parasiterc in "semi-ascii".

	* libpicman/parasite.[ch]: new function parasite_flags.

Sat Apr 10 23:33:26 PDT 1999 Manish Singh <yosh@picman.org>

	* app/color_picker.c: added a sample average feature (requested
	by Xach) that picks a color from the average of all the pixels
	from the source point within a given radius

1999-04-11  Tuomas Kuosmanen  <tigert@picman.org>

	* pixmaps/delete.xpm: I put the delete icon from gnome here,
	IMHO it looks nice.

Sat Apr 10 14:43:24 PDT 1999 Manish Singh <yosh@picman.org>

	* app/text_tool_cmds.c: doh, XLFD stuff is in decipoints

	* app/color_cmds.h: removed

	* app/color_cmds.c: pdbgened file now

	* app/lut_funcs.h: export ChannelLutType enum

	* app/internal_procs.c: register pdbgened color procs

	* app/menus.c: reverted keyboard underlines since they need more
	discussion

Sat Apr 10 15:48:46 BST 1999 Adam D. Moss <adam@picman.org>

	* app/ink.c: Velocity-sensitivity added to ink tool.

Fri Apr  9 21:45:10 PDT 1999 Manish Singh <yosh@picman.org>

	* app/text_tool_cmds.c: new file (from pdbgen)

	* app/Makefile.am: add new file, use AM_CPPFLAGS instead of CPPFLAGS

	* app/internal_procs.c: register pdbgened text_tool procs

	* app/text_tool.c: remove PDB stuff, export text_render and
	text_get_extents and SizeType and SUPERSAMPLE symbols

	* app/text_tool.c: remove PDB stuff

	* app/blend.[ch]
	* app/bucket_fill.[ch]
	* app/clone.[ch]
	* app/convolve.[ch]: export some enums

	* app/channel.h
	* app/paint_core.h: #define->enum

	* app/channel.c
	* app/picmanparasite.c
	* app/parasitelist.c
	* app/pixel_processor.c: warning cleanup

	* app/convert_cmds.c
	* app/paths_cmds.c: slight pdbgen changes

1999-04-09  Jay Cox  <jaycox@picman.org>

	* app/picmanhistogramF.h: new file containing typedef for
 	PicmanHistogram.

	* app/picmanhistogram.h: moved PicmanHistogram typedef to
 	picmanhistogramF.h

	* app/lut_funcs.h: include picmanhistogramF.h again now that the
 	file actually exists.

Fri Apr  9 18:58:41 1999  Raph Levien  <raph@picman.org>

	* app/lut_funcs.h: changed the include to "picmanhistogram.h" rather
	tha "picmanhistogramF.h". I could have split the typedef struct
	_PicmanHistogram PicmanHistogram into a newly created picmanhistogramF.h
	file as some modules seem to do, but chose this because it seemed
	like a less drastic fix.

1999-04-08  Jay Cox  <jaycox@picman.org>

	* app/Makefile.am: build color_cmds, lut_funcs, and pixel_processor
	* app/app_procs.c: feedback in the splash screen when loading
 	parasites.
	* app/boundary.c: Optimized find_empty_segs.
	
	* app/brightness_contrast.[ch]
	* app/levels.[ch]
	* app/posterize.[ch]:
 	moved pdb and lut calculation code.  These files now contain only 
	GUI functions.

	* app/channel.c: Optimized channel_bounds (fewer compares, better
 	use of registers).  Use color_region instead of channel_*_segment
 	in channel_combine_rect.  Optimized channel_combine_ellipse by
 	skipping pixels inside of the ellipse.  Use
 	pixel_region_process_parallel in channel_combine_mask.  Use a
 	PicmanLut in channel_invert, and channel_sharpen.

	* app/invert.c
	* app/equalize.c: moved the lut functions to lut_funcs.c
	
	* app/picmandrawable.c, app/picmandrawableP.h
	* app/picmanimage.c, app/picmanimageP.h: removed unused picmanmatrix 
	variables/includes.
	
	* app/picmanlut.[ch]: added new function picman_lut_process_inline
 	that operates on a single PixelRegion.

	* app/picmanparasite.[ch]: new functions to save/load parasiterc
	
	* app/parasitelist.[ch]: new functions to save/load ParasiteLists
 	in/from files.
	
	* libpicman/parasite.[ch]: new functions to load/save parasites.
	
	* app/internal_procs.c: get some procs from new location in 
	color_cmds.h.
	
	* app/pixel_region.[ch]: moved pixel_regions_process_parallel
 	related functions to a new file.

	* app/color_cmds.[ch]: new files for PDB
 	definitions/implementations of color correction functions.

	* app/lut_funcs.[ch]: new files to hold lut creation functions.

	* app/pixel_processor.[ch]: new files that contain the
 	pixel_regions_process_parallel routines.  Added some new
 	capabilities that are currently unused.
	
Fri Apr  9 01:52:23 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/autocrop/autocrop.c: Fixed a Bad Bug(TM).

1999-04-08  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/airbrush.c
	* app/bezier_select.c
	* app/blend.c
	* app/brightness_contrast.c
	* app/bucket_fill.c
	* app/by_color_select.c
	* app/clone.c
	* app/color_balance.c
	* app/color_picker.c
	* app/convolve.c
	* app/crop.[ch]
	* app/curves.c
	* app/ellipse_select.c
	* app/eraser.c
	* app/flip_tool.c
	* app/free_select.c
	* app/fuzzy_select.c
	* app/histogram_tool.c
	* app/hue_saturation.c
	* app/ink.c
	* app/iscissors.c
	* app/levels.c
	* app/magnify.c
	* app/move.c
	* app/paintbrush.c
	* app/pencil.c
	* app/posterize.c
	* app/rect_select.[ch]
	* app/text_tool.[ch]
	* app/threshold.c
	* app/transform_tool.c

	* app/tools.[ch]
	* app/toolsF.h: in other words: all tools

	Implemented the "reset tool options" feature.
	- All tools register with a title string and a reset function now.
	- The tool options' variables have two related <var>_d (default)
	  and <var>_w (widget) variables to restore the default values.

	"Standardized" the tool options UI:
	- Put the stuff info a frame to give a hint that the dialog's
	  contents will change. 
	- table layout, sensitive setting, spacings, borders, ...
	
	As I had them all in my emacs simultaneously, I couldn't resist to
	standardize the tools' *.c files declaration parts ;) Ansi stuff.

Thu Apr  8 21:19:05 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/image_map.c
	
	Fixed boundary problem in new function image_map_get_color_at().

Thu Apr  8 07:12:10 MEST 1999 Sven Neumann <sven@picman.org>

	* app/crop.[ch]: Ok, this is a little bit more than what we 
	discussed on the list: Basically, it allows to use the crop 
	tool as usual or as a resize-tool for layers and the image.
	
	The defaults are the new behaviour. Holding the <Alt>-Key
	when creating the selection toggles the "Allow-expand" mode,
	holding the <Shift>-key when cropping, gives you the opposite
	of your default setting for "Crop layers".

	The button for "Selection" is gone, but will reappear somewhere
	else soon. But first, I need some sleep...
	
Wed Apr  7 23:53:22 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/curves.c
	
	Just noticed a bug that has been around for ages. The preview
	update does not work in the curves dialog when free curve
	mode is selected. Fixed it. 

Wed Apr  7 22:44:02 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/curves.c
	* app/image_map.c
	* app/image_map.h

	Curves dialog now has "interactive feedback". Press and drag the 
	mouse button in the image window and a marker will appear in the
	curves dialog showing the channel value at that point.
	
Wed Apr  7 00:50:13 MEST 1999 Sven Neumann <sven@picman.org>

	* app/rect_select.c: when using fixed_size selections create the
	selection into the direction the user moved the mouse

1999-04-06  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/rect_select.h: oops, didn't commit this one.

1999-04-06  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/picmanunit.c
	* libpicman/picmanunit.[ch]
	* libpicman/picmanunitmenu.c
	* libpicman/picmansizeentry.[ch]: enabled "percent" pseudo-unit.
	New function picman_size_entry_set_size() to set the values which
	will be treated as 0% and 100%.

	* app/crop.c
	* app/rotate_tool.c
	* app/scale_tool.c: enable "percent".

	* app/rect_select.c fixed size selections can be made in units and
	percent now, table layout, label adjustment.

Mon Apr  5 23:24:30 BST 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/bezier_select.c 
	* app/bezier_selectP.h
	* app/paths_cmds.c 
	* app/pathsP.h 
	* app/paths_dialog.c 
	* app/xcf.c
	* tools/pdbgen/pdb/paths.pdb

	New PDB functions. 
	  picman_path_get_point_at_dist (gets the x,y of a point a given distance 
	                          along the curve & the normal at the point).
	  picman_path_get_tattoo 
	  picman_get_path_by_tattoo


       	Paths now have tattoos (similar to the layer and image tattoos).

	* app/move.c 
	* app/scroll.c 

	Try to fix the problem where mouse events from the rulers get
	mixed up with those from the canvas causing guides & image dragging
	to "jump" around when the mouse enters the ruler areas.

Mon Apr  5 23:59:37 MEST 1999 Sven Neumann <sven@picman.org>

	* app/color_balance.c: Color-balance didn't work when used
	from a script because the LUTs weren't set. This is fixed now 
	and SOTA-Chrome works again.

Mon Apr  5 22:28:01 MEST 1999 Sven Neumann <sven@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/rcm: Added RotateColorMap plug-in. This is a rewrite
	of the original plug-in by Pavel Grinfeld done by Sven Anders
	(anderss@fmi.uni-passau.de)

1999-04-05  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/action_area.h: #include <gtk/gtk.h>.

	* app/devices.c: made the "Input Devices" dialog follow the action
	area conventions. Grab pointer in the pattern/brush preview popups.

	* app/errorconsole.c: use the actionarea functions.

	* app/picmanunit.c: had the wrong copyright header.

	* app/info_dialog.c: correctly set the spinbuttons' digits.

	* app/perspectice_tool.c: removed #include <stdio.h> again but
	didn't forget to s/sprintf/g_snprintf/ this time.

	* app/preferences_dialog.c: unified order of varible definitions,
	removed some unused variables.

	* app/crop.c
	* app/file_new_dialog.c
	* app/info_dialog.[ch]
	* app/interface.c
	* app/preferences_dialog.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* libpicman/picmansizeentry.[ch]
	* libpicman/picmanunitmenu.[ch]: prepared for "percent" in size
	entries.

Sat Apr  3 22:58:17 PST 1999 Manish Singh <yosh@picman.org>

	* tools.h: #include <gtk/gtk.h>

	* toolsF.h: #include <gdk/gdk.h>

	* perspective_tool.c: #include <stdio.h>

	* picmanhistogram.c: #ifdefed a var for threads

	* picmanimage.h: added chop hint to PicmanImageType enum

	* paint_funcs.h: made layer mode #defines an enum

	* palette.c
	* picmanunit.c: removed PDB stuff

	* picmanunit_cmds.h: removed

	* convert_cmds.c
	* paths_cmds.c: pdbgen updates

	* palette_cmds.c
	* unit_cmds.c: new files

	* app/internal_procs.c: use the pdbgen register_foo functions

	* app/Makefile.am: changes for the above

Sat Apr  3 20:42:48 1999  ape@spacetec.no  (Asbjorn Pettersen)

	* app/paintbrush.c:  Skip //  comments.
	* app/paint_core.c : Use /* */ intead of //.  IRIX ver. fails

1999-04-03  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/shear_tool.c: forgot this file. Should compile again now,
	sorry :(

1999-04-02  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/gimage_mask.[ch]: made function headers ansi compliant.

	* app/file_new_dialog.c
	* app/preferences_dialog.c: minor GUI and signal handling
	changes. Added a WM hint pixmap to the prefs dialog but commented
	it out because it looked ugly. If someone has a nice pixmap,
	please try it and tell me ;)

	* app/color_picker.c
	* app/crop.c
	* app/info_window.c
	* app/perspective_tool.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/info_dialog.[ch]: the info_dialog allows scales, spinbuttons
	and sizeentries now. Made some dialogs use these widgets and
	added unit support. Sprinkled some g_snprintf's, removed
	#include's, ansi issues, ...

	* app/session.c: don't call a NULL callback.

	* libpicman/picmansizeentry.[ch]: new function
	picman_size_entry_add_field() which allows a more flexible GUI
	layout. More intelligent signal handling.

Tue Mar 30 22:17:43 BST 1999  Adam D. Moss  <adam@picman.org>

	* app/fileops.c: Thumbnails save with checkerboard-alpha.
	Saved thumbnail comments include the file size.

Tue Mar 30 20:50:21 BST 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/gif/gif.c:
	3.00.01 - Round image timing to nearest 10ms instead of
	truncating.  Insert a mandatory 10ms minimum delay
	for the frames of looping animated GIFs, to avoid
	generating an evil CPU-sucking animation that 'other'
	GIF-animators sometimes like to save.

Mon Mar 29 19:05:03 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.4 release

Mon Mar 29 23:39:49 BST 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/gee/gee.c: Squeezed out a little more fun.

Mon Mar 29 22:51:43 MEST 1999  Sven Neumann <sven@picman.org>

	* plug-ins/gap/README: doh, forgot to commit that one yesterday

1999-03-29  Pavel Machek  <pavel@artax.karlin.mff.cuni.cz>

	* app/menus.c (toolbox_entries): underline letters so keyboard is
	bit more usable

Sun Mar 28 14:03:59 1999  Raph Levien  <raph@picman.org>

	* plug-ins/sharpen/sharpen.c (rgba_filter, gray_filter,
	graya_filter): fixed a stupid bug causing sharpen to fail in the
	cases other than plain rgb.

Sun Mar 28 23:56:46 MEST 1999 Sven Neumann <sven@picman.org>

	* plug-ins/gap/README: reflect the fact that GAP is now part of
	the distribution
	* plug-ins/gap/picman_1.0.2: removed since the files were duplicates
	* plug-ins/gap/*.c: use g_getenv, g_malloc, g_new and g_free 

Sat Mar 27 22:37:35 PST 1999 Manish Singh <yosh@picman.org>

	* app/procedural_db.h: #include <glib.h>

	* app/channel_ops.[ch]: exported OFFSET_BACKGROUND and
	OFFSET_TRANSPARENT as an enum

	* app/convert.[ch]: exported MACNUMCOLORS, theCustomPalette,
	convert_image, removed PDB procs

	* app/text_tool.[ch]: exported PIXELS and POINTS as an enum

	* app/convert_cmds.c
	* app/edit_cmds.c
	* app/floating_sel_cmds.c
	* app/gdisplay_cmds.c
	* app/paths_cmds.c
	* app/undo_cmds.c: pdbgen autogenerated files now

	* app/internal_procs.c: use the pdbgen register_foo functions

	* app/edit_cmds.h
	* app/floating_sel_cmds.h
	* app/gdisplay_cmds.h
	* app/paths_cmds.h
	* app/undo_cmds.h: removed

	* app/Makefile.am: reflect above changes

	* Makefile.am: paths.xbm->path.xbm, fix typo in EXTRA_DIST

Sun Mar 28 00:28:57 EST 1999 Adrian Likins <adrian@picman.org>

	* app/paintbrush.[ch]: added the ability to select the 
	gradient repeat mode from the gui. Made the gradient
	length slider hopefully a bit more useful (ie, a
	more useful range)


1999-03-27  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/brush_select.c
	* app/channels_dialog.c
	* app/color_select.c
	* app/devices.c
	* app/file_new_dialog.c
	* app/gradient_select.c
	* app/palette_select.c
	* app/pattern_select.c: applied a patch from Marco Lamberto
	<lm@geocities.com> which unifies actionareas ("Cancel" rightmost
	and default). Did the same in some more dialogs.

	* libpicman/picmanfileselection.c
	* libpicman/picmanpatheditor.c
	* app/preferences_dialog.[ch]: completely reworked the preferences
	dialog:

	- select the notebook's pages with a tree.
	- reordered the categories. Please give me feedback, this really
	  needs to be intuitive.
	- removed lots of unused #include's.
	- turned the prefs. dialog into a test site for new convenience
	  constructors. These changes are however not visible. Flame me
	  until they're perfect ;) When finished, this stuff can save
	  *many* lines of gtk+ code.

	* modules/colorsel_gtk.c: made it circular.

1999-03-25  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* unitrc: corrected a typo

	* app/commands.c
	* app/global_edit.c
	* app/gradient.c
	* app/interface.[ch]
	* app/palette.c
	* app/paths_dialog.c: the query_[string|..]_boxes connect their
	close callback to a user provided signal now.

	* libpicman/picmanimage.c: picman_image_get_unit() doesn't need a
	g_return_if_fail()

	* libpicman/picmanunitmenu.c: memory leak & compiler warning

	* configure.in
	* picmanrc.in
	* user_install
	* user_install.bat
	* plug-ins/Makefile.am
	* plug-ins/FractalExplorer/*: added the FractalExplorer plugin.

	* app/install.c: ditto and made the install help text more
	editable by moving it to an array.

Thu Mar 25 22:44:36 GMT 1999 Andy Thomas <alt@picman.org>

	Ok. I'll add the file this time..

Thu Mar 25 22:40:36 GMT 1999 Andy Thomas <alt@picman.org>

	The paths .pdb stub for Yosh to look at.

1999-03-25  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.[ch]: Added an edge_lock parameter to
 	thin_region.  Split the radius parameter into xradius and yradius
 	in thin_region and fatten_region.

	* app/channel.c: fixed a bug in channel_bounds that I introduced
 	last time I tried to fix a bug in channel_bounds.  Minor
 	modifications to work with the improved thin/fatten region
 	functions.

Wed Mar 24 11:05:38 CET 1999 Marc Lehmann <pcg@goof.com>

	* configure.in: use AC_PATH_PROGS to find perl.

Tue Mar 23 12:59:20 MET 1999 Sven Neumann <sven@picman.org>

	* configure.in
	* plug-ins/Makefile
	* plug-ins/xjt: added xjt plug-in created by Wolfgang Hofer.

Tue Mar 23 12:01:48 MET 1999 Sven Neumann <sven@picman.org>

	* configure.in
	* plug-ins/gap/Makefile.am
	* plug-ins/gap/.../Makefile.am (all subdirs)
	Cleaned up the mess I left when adding the gap plug-in. Sorry!

	* plug-ins/gap/gap_filter_foreach.c: Use g_getenv, g_malloc 
	and g_free.

Sun Mar 21 23:11:31 EST 1999  Adrian Likins <adrian@picman.org>

	* app/paintbrush.c: oops, forgot to make fade work
	again after the gradient stuff. Fixed.

Mon Mar 22 00:38:20 GMT 1999 Andy Thomas <alt@picman.org>

	Changed:-
	* Makefile.am
	* internal_procs.c
	* pathsP.h
	* paths_dialog.c
	* paths_dialog.h
	* xcf.c

	New:-
	* paths_cmds.c
	* paths_cmds.h

	PDB functions for paths. (More to follow).
	Functions are:-
		picman_path_list
		picman_path_get_points
		picman_path_get_current
		picman_path_set_current
		picman_path_set_points
		picman_path_stroke_current	
	
Sun Mar 21 15:29:38 GMT 1999  Adam D. Moss  <adam@picman.org>

	* app/disp_callbacks.c app/edit_selection.c app/move.c:
	Happy-fun opaque layer moves.

	* app/edit_selection.c: I doubt that using button3 to abort
	a layer move has worked for a long time.  I rewrote some
	stuff and moved the 'abort' button to button2.  Hold it down
	when you release button1, to abort the current move.  It
	doesn't actually abort, it just automatically does an undo.

Sat Mar 20 22:51:51 GMT 1999  Adam D. Moss  <adam@picman.org>

	* fileops.c: The file revert operation clears the undo stack
	upon a revert to get rid of the actions caused by the open
	operation.

Sat Mar 20 21:55:53 GMT 1999  Adam D. Moss  <adam@picman.org>

	* disp_callbacks.c: Reduce some possibly-redundant re-renders
	on expose.

	* gdisplay.c gdisplay.h: Export a function to idly refresh from
	the composite buffer without doing a re-render.

Sat Mar 20 17:22:56 GMT 1999  Adam D. Moss  <adam@picman.org>

	* configure.in plug-ins/Makefile.am plug-ins/gif/gif.c
	* plug-ins/gifload/gifload.c plug-ins/gifload/Makefile.am

	Split gif load-only code into separate plugin.

Fri Mar 19 20:24:20 PST 1999 Manish Singh <yosh@picman.org>

	* acinclude.m4
	* config.guess
	* config.sub
	* ltconfig
	* ltmain.sh: upgrade to libtool 1.2f

	* autogen.sh: libtool is not required to autogen picman

	* acconfig.h: remove WITH_SYMBOL_UNDERSCORE (not explictly
	needed)

	* app/actionarea.h: made the label in ActionAreaItem const

	* app/convert.[ch]: made FOO_PALETTE #defines into an enum

	* libpicman/parasite.c
	* app/brightness_contrast.c
	* app/color_picker.c
	* app/colormap_dialog.i.c
	* app/curves.c
	* app/equalize.c
	* app/picmanlut.c
	* app/histogram_tool.c
	* app/invert.c
	* app/levels.c
	* app/paint_funcs.c
	* app/pixel_regions.c
	* app/posterize.c
	* app/rect_select.c
	* app/threshold.c
	* app/xcf.c: remove unused vars, other minor code cleanups

	* Makefile.am: add README.perl to EXTRA_DIST

Fri Mar 19 04:01:04 EST 1999 Adrian Likins <adrian@picman.org>
	
	* plug-ins/mail/mail.c: added a from: field, made
	it check picmanrc for a gump-from field (per request
	by tigert). fixed it so it would actually use
	the last vals properly.

	* plug-ins/gap/Makefile.am: removed the SUBDIRS line
	so it at least builds. Probabaly not the right fix,
	but while I'm committing...

1999-03-18  Jay Cox  <jaycox@picman.org>

	* app/ops_buttons.h: removed a c++ style comment

	* app/paint_funcs.c: applied Craig Wiegert's patch to fix
 	the rounding errors in the scaling code.
	
	* app/paint_funcs.c: Use a mutex lock in disolve pixels instead of
 	rand_r on linux systems since linux's rand_r appears to be broken.

	* app/bezier_select.c: applied Shuji Narazaki's patch that corrects
 	for layer offsets in bezier_stroke.

Thu Mar 18 19:35:48 EST 1999  Adrian Likins <adrian@picman.org>

	* app/paintbrush.c
	* app/paint_core.c
	* app/paint_core.h: moved all the code for figuring out the
	paint_core->distance to color stuff to paint_core.[ch]. Updated
	paintbrush.c to use the new function. Also now can either loop
	thorugh the gradient (sawtooth, start->end, start->end or 
	triangle start->end,end->start). Also mode for going
	thought the gradient once, forwards or backwards. None of these
	options are available from the gui or the PDB yet though.

Thu Mar 18 02:12:26 MET 1999 Sven Neumann <sven@picman.org>

	* configure.in
	* plug-ins/Makefile.am
	* plug-ins/gap/* (new files)
	Added the GAP (PICMAN Animation Plugin) created by Wolfgang
	Hofer. Eventually we'll think about making this a 
	seperate package, but now it's here for testing and your
	pleasure.

1999-03-18  Tor Lillqvist  <tml@iki.fi>

	* configure.in plug-ins/Makefile.am: Add wmf plug-in.

	* plug-ins/wmf: New subdirectory. Wmf plug-in finally works OK
	on X11 now, with a workaround for a GDK bug.

Wed Mar 17 21:46:08 MET 1999 Sven Neumann <sven@picman.org>

	* app/plug-ins/exchange/exchange.c: fixed NON_INTERACTIVE
	and RUN_WITH_LAST_VALS modes

Tue Mar 16 23:39:26 EST 1999 Adrian Likins <adrian@picman.org>

	* app/paintbrush.c: paintbrush_motion, added the ability
	to paint with the colors from a gradient. In 
	create_paint_options, added a scale for the length
	of the gradient to paint. Also added a PDB call.

	*  app/paintbrush.h, internal_procs.c: exported
	 picman_paintbrush_extended_gradient to the PDB

Tue Mar 16 19:12:08 CET 1999 Marc Lehmann <pcg@goof.com>

	* app/batch.c: make the perl-server independent of script-fu. This
	also speeds up starup considerably.

1999-03-16  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/gdisplay.h: double the length of the cursor_format_str as
	users may define strange units now

	* app/xcf.c: forgot a sanity check when loading/saving the user
	unit property

1999-03-16  Michael Natterer  <mitschel@cs.tu-berlin.de>

	This implements the rest of the unit system (unitrc loading and
	saving and full PDB interface)

	* Makefile.am
	* picman.1
	* user_install
	* user_install.bat
	* unitrc: new file (default unit database) and some documentation

	* app/Makefile.am
	* app/picmanunit.c
	* app/picmanunit_cmds.h
	* app/unitrc.h: new files enabling the unit database and PDB
	access to the unit system

	* app/app_procs.c: parse and save unitrc
	* app/picmanrc.[ch]: enable unit parsing. New function
	init_parse_buffers() to enable unitrc to be loaded before picmanrc

	* app/gimage_cmds.[ch]: new PDB procedures which set/return an
	image's unit 

	* app/install.c: mention unitrc installation

	* app/internal_procs.c: install unit procedures

	* app/xcf.c: new xcf property for user defined units. An image's
	unit is saved as either an integer ID (built in units) or as
	a full unit definition without any ID

	* libpicman/Makefile.am: moved picmanunit.o from libpicmani.a to
	libpicman.a

	* libpicman/picman.h
	* libpicman/picmanimage.c: get/set an image's unit with PDB calls

	* libpicman/picmanunit.h: this file is now the header for both
	app/picmanunit.c and libpicman/picmanunit.c

	* libpicman/picmanunit.c: does the unit calls as PDB calls now

	* libpicman/picmanunitmenu.[ch]: enable user unit functionality and a
	unit selection dialog

	* libpicman/picmansizeentry.c: disble hilighting on focus_in_event and
	minor bugfixes

	* plug-ins/tiff/tiff.c: set image unit to "mm" if tiff unit is
	"cm", save "cm" if image unit is metric

Mon Mar 15 14:40:29 1999  Raph Levien  <raph@picman.org>

	* plug-ins/sharpen/sharpen.c: Fixed the algorithm so that it
	doesn't make the image lighter for high sharpness values. Also,
	increased the accuracy of the algorithm so that it won't degrade
	the bit depth.

Mon Mar 15 01:34:08 MET 1999 Sven Neumann <sven@picman.org>

	* app/ops_buttons.[c|h]: implemented a way to catch the 
	modifier key that was pressed when the button was clicked

	* app/[layers|channels|paths]_dialog.c: changed the ops_button
	arrays to reflect the changes described above and implemented
	a few power-user features in the dialogs:
	( Shift->Layer Up / Layer Down  moves to top/bottom
	  Shift->Channel To Selection   adds the channel to the sel
	  Ctrl->Channel To Selectio     subtracts from the selection ) 

1999-03-14  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* picmanrc.in: removed two unused directories from plug-in-path.

	* app/file_new_dialog.c: make the first spinbutton grab the focus
	and one more unit initialisation bugfix

	* app/interface.c: grab focus in query_[string|int|..]_box()
	This still needs to be done in many dialogs to be consistent.

	* app/preferences_dialog.c: made the module-path configurable

	* libpicman/picmanpatheditor.[ch]: change the order of the buttons to
	match the order in the L&C dialog

	* libpicman/picmansizeentry.[ch]: enabled highlighting of the
	spinbuttons' contents on focus_in_event.
	Ugly new function picman_size_entry_grab_focus() because it seems
	impossible to implement gtk_widget_grab_focus(sizeentry). 

Sun Mar 14 17:56:14 MET 1999 Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: correctly set the status of the
	chain_button in the monitors section when creating the dialog

Sun Mar 14 13:26:11 MET 1999 Sven Neumann <sven@picman.org>

	* app/app_procs.c: reverted Michaels change as it is defintely
	wrong. The current behaviour is probably not perfect and I'll try
	to fix that.

1999-03-14  Jay Cox  <jaycox@picman.org>

	* app/xcf.c:

	Improved the rle compression routine.  It compresses
 	photographic images ~8% better and is fully backwards compatible.
	
  	Modified the tile load/save routines to buffer their data and
 	only make one read/write call per tile.  This results in a 3-4X
 	improvement in load and save times.

	Modified the path load/save routines to work properly when gint is
 	not a 32 bit type.

	* app/pathsP.h: Changed the types of some struct data members
	to be consistant with what is saved in the xcf files.

1999-03-14  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* libpicman/picmanpatheditor.c: checked in a buggy version before ;)

1999-03-14  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/app_procs.c: only save sessionrc if the corresponding
	preferences option is enabled

	* app/preferences_dialog.c: preferences renovation part I: the
	directories page uses the new widgets from libpicman

	* libpicman/Makefile.am
	* ligbimp/picmani.def
	* libpicman/picmanfileselection.[ch]
	* libpicman/picmanpatheditor.[ch]: new widgets which enable a more
	comfortable file and searchpath selection

	* Makefile.am
	* pixmaps/no.xpm
	* pixmaps/yes.xpm: pixmaps used by the new widgets

Sat Mar 13 19:46:54 MET 1999 Sven Neumann <sven@picman.org>

	* Makefile.am
	* pixmaps/ptoselection.xpm -> pixmaps/toselection.xpm
	* app/channels_dialog.c
	* app/paths_dialog.c: Provide a button to convert a channel
	into a selection. Share the xpm with the paths-dialog. Add two new
	menu entries that allow to add or subtract the channel to/from the 
	current selection (as suggested by Wolfgang Hofer). 

1999-03-12  Michael Natterer  <mitschel@cs.tu-berlin.de>

	Moved all pixmaps and bitmaps from app/ and libpicman/ to pixmaps/

	* app/tools/*
	* libpicman/chain.xpm: removed these files

	* pixmaps/*.[xpm|xbm]: new directory containing all pixmaps

	* app/Makefile.am
	* libpicman/Makefile.am
	* Makefile.am: changed list of EXTRA_DIST files accordingly

	* app/channels_dialog.c
	* app/layers_dialog.c
	* app/paths_dialog.c
	* app/palette.c
	* libpicman/picmanchainbutton.c: adjusted some #include's

Fri Mar 12 21:30:57 GMT 1999 Andy Thomas <alt@picman.org>

	Changed:-

	* app/bezier_select.c
	* app/paths_dialog.c

	Some code cleanups and bug fixes. Fixed problem with "copy" path
	producing very long names. 

	Added functionality to import/export paths to files. (It was 
	there before!)

	Also added some new bezier_stroke code that Shuji Narazaki posted
	to the picman-devel list.

	* plug-ins/plugindetails/plugindetails.c

	Removed unwanted <regex.h>. 
	Thanks to Tan Koan-Sin <freedom@csie.nctu.edu.tw> for pointing 
	this out.

Fri Mar 12 22:15:49 CET 1999 Marc Lehmann <pcg@goof.com>

	* libpicman/picman.c: split picman_quit into two functions, picman_quit
	and picman_close. Let picman_main return to the calling function in
	the common cases (i.e. not in the error case).

1999-03-12  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/preferences_dialog.c: correct resolution size_entry
	initialisation.

	* libpicman/picmansizeentry.c: fixed the update bug reported by Marc.
	Works now but still needs discussion...

1999-03-11  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c: made the INT_MULT3 macro be more accurate.

1999-03-12  Michael Natterer  <mitschel@cs.tu-berlin.de>

	This is mostly unit stuff and code cleanup
	
	* libpicman/picmani.def: add some functions

	* libpicman/picmansizeentry.[ch]: new function
	picman_size_entry_set_refval_digits() which allows for float pixel
	input. SIGFPE bugfix from Yasuhiro Shirasaki
	<yasuhiro@awa.tohoku.ac.jp>, minor bugfixes.

	* libpicman/picmanunitmenu.[ch]: add a separator after "pixels",
	bugfixes.

	* app/interface.[ch]: split up the old query_string_box() into
	query_[string|int|float|size]_box(). All functions take an
	optional GtkObject* parameter and connect to that object's
	"destroy" signal, this fixes some segfaults. And a global
	s/container_border_width/container_set_border_width/

	* app/commands.s: grow, shrink, border, feather now use the
	query_size_box. Used MIN(xres,yres) for now for the pixel<->unit
	calculations. Fixed some memory leaks.

	* app/global_edit.c
	* app/gradient.c
	* app/palette.c
	* app/paths_dialog.c: changed the query_string_box() calls

Thu Mar 11 19:42:12 CET 1999 Marc Lehmann <pcg@goof.com>

	* configure.in, config.h.in: added test for _exit (mirrors the
	change in plug-ins/perl/etc/configure.frag)

1999-03-10  Jay Cox  <jaycox@picman.org>

	* plug-ins/wind/wind.c, plug-ins/bumpmap/bumpmap.c: Set
 	appropriate values for the tile cache.  This makes a large speed
 	difference.

1999-03-10  Michael Natterer  <mitschel@cs.tu-berlin.de>

	* app/devices.c: don't let session management set the size of the
	"Device Status" dialog, as the number of devices may change
	between sessions

Mon Mar  8 16:45:06 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.3 release

	* picmanrc.5.in: use @PICMAN_VERSION@

Mon Mar  8 16:27:25 PST 1999 Manish Singh <yosh@picman.org>

	* app/hue_saturation.c: comment out Raph's saturation changes,
	didn't work in all cases

1999-03-08  Tor Lillqvist  <tml@iki.fi>

	* app/devices.c (devices_write_rc): A line had been deleted by
 	mistake.

	* app/frac.c: Removed some CRs.

	* app/install.c (install_run): Typo.

	* modules/module.def: New file.

	* Makefile.am app/Makefile.am libpicman/Makefile.am
 	modules/Makefile.am: Added Win32 implementation files to
 	distributed file set.

Mon Mar  8 21:23:10 CET 1999 Marc Lehmann <pcg@goof.com>

	* app/layer_cmds.c: updated picman_layer_new and picman_layer_set_mode to
	accept a DIVIDE_MODE argument.

1999-03-08  Jay Cox  <jaycox@picman.org>

	* app/plug_in.c: use g_io_channel_close/unref pairs instead of close
	in plug_in_open().

1999-03-07  Tor Lillqvist  <tml@iki.fi>

	Second batch of Win32 merging. This time also some Unix code is
	affected, but the semantics should stay the same. Plug-in
	communication now uses GIOChannels, not plain file descriptors
	(this change only affects a few files).
	
	* README.win32,config.h.win32,picmanrc.win32,user_install.bat: New files.
	
	* libpicman/picmanenv.[ch]: New files. picmanenv contains functions that
	handle directory and file names specific to the PICMAN installation
	and runtime environment.

	* libpicman/picman.h: Include picmanenv.h. Declare variables with
	__declspec on Win32. MAIN() defines also WinMain() on Win32.
	picman_gtkrc() declaration moved to picmanenv.h.
	
	* libpicman/{picman.c,picmanmenu.c,picmanprotocol.[ch],
	picmantile.c,picmanwire.[ch]}: Use GIOChannels instead of file
	descriptors.

	* libpicman/picman.c: (picman_extension_process): Calculate microsecond
	value in timeval correctly from millisecond parameter.
	
	* libpicman/{picmanmatrix.c,gserialize.c}: Include <string.h>.

	* libpicman/picmanmenu.c: (picman_setup_callbacks): Call
	picman_request_wakeups().

	* libpicman/picmanmodule.h: Don't declare module_init and
	module_unload when compiling the module itself, because of clashes
	with the G_MODULE_EXPORT.

	* libpicman/picmanwire.c: Use g_warning instead of g_print. No
	terminating newlines necessary in g_error calls.
	
	* libpicman/Makefile.am: Add picmanenv.[ch].
	(CPPFLAGS): Define DATADIR.

	* libpicman/{makefile.msc,picmanfeatures.h.win32,picman.def,
	picmani.def,picmanui.def}: New files.
	
	* modules/Makefile.am (CPPFLAGS): Define MODULE_COMPILATION.

	* modules/makefile.msc: New file.

	* app/{about_dialog.c,app_procs.c,picmanrc.c,install.c,
	tips_dialog.c}: Use picman_data_directory() instead of DATADIR.

	* app/app_procs.c (app_init): Use picman_gtkrc() and g_get_tmp_dir().

	* app/batch.c: Need <io.h> with MSC. (batch_init): Fix brace bug.

	* app/{color_notebook.c,docindexif.c,ink.c}: Include <string.h>.

	* app/{devices.c,docindex.c,picmanrc.c,menus.c,plug_in.c,session.c}:
	Use picman_personal_rc_file().

	* app/docindexif.h: IDEAPATH unneeded.

	* app/errors.c: Use g_error() on Win32, at least. Don't use
	g_on_error_query() on Win32.

	* app/general.c (get_token): Handle \r, \n and \z (control-Z).

	* app/picmanrc.c (open_backup_file): Redone. Now you can pass in the
	name of a secondary file to use if the primary one doesn't exist.

	* app/picmanrc.[ch]: picman_directory() removed, is now in
	libpicman/picmanenv.[ch].

	* app/install.c (install_run): Add Win32 code. We cannot use popen
	as in Unix, because the Microsoft runtime library's _popen doesn't
	work in GUI applications. So just run the bat file in a console
	window and let the user spot any errors...

	* app/interface.c: Include dialog_handler.h.

	* app/layer.c: Include libpicman/parasite.h.

	* app/plug_in.c: No terminating newline necessary in g_message()
	calls.

	* app/{plug_in.c,session.c}: Open settings files that *are* text
	in text mode, not binary.
	
	* app/plug_in.c: Add Win32 code. (plug_in_write_rc_string): Escape
	problematic characters (\r, \n and control-Z). Use
	plug_in_write_rc_string() to write program name, too (contains
	backslashes on Win32...). Use GIOChannels.

	* app/text_tool.c: Shouldn't use gdk_colormap_alloc_color() to
	allocate black and white on Win32 after all.

	* app/tile_swap.c: Include <stdio.h>

	* app/{picman.def,picman.rc,makefile.msc,wilber.ico}: New
	files. Thanks to Paolo Bonzini for the Wilber icon.

	* app/Makefile.am (CPPFLAGS): PICMANDIR or DATADIR not needed,
	handled by libpicman/picmanenv.c functions.

	* plug-ins/script-fu/scripts/{alien-glow-button,beveled-button,
	beveled-pattern-button,beveled-pattern-heading,picman-headers,
	picman-labels,hsv-graph,i26-gunya2,image-structure,pupi-button,
	,title-header}.scm: Use the picman-text*-fontname forms
	calls. Register having corresponding SF-FONT parameters. Thanks to
	Piet van Oostrum for this.

1999-03-07  Jay Cox  <jaycox@picman.org>

	* app/brush_select.c: pop up the brush-edit dialog whenever the
 	user creates a new brush.

Sat Mar  6 03:04:31 MET 1999 Sven Neumann <sven@picman.org>

	* app/gdisplay.c: correctly initialize the zoom indicator
	in the title and the statusbar

Fri Mar  5 21:45:39 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	This is a bit of a biggy. Added paths to layers & channels 
	dialog. This is not complete yet (it still has some rough edges ;-)

	New:-

	* paths_dialog.c
	* paths_dialog.h
	* pathsP.h

	These are the core parts of the paths dialog & interaction.

	* tools/penadd.xpm 
	* tools/pendel.xpm 
	* tools/pennorm.xpm
	* tools/penedit.xpm
	* tools/penstroke.xpm

	New images found in the dialog. Maybe someone with a better
	artistic flair could replace these?

	Changed:-

	* Makefile.am

	Added new files for build

	* layers_dialog.c
	
	Added new tab for paths.

	* bezier_select.h
	* bezier_selectP.h
	* bezier_select.c

	Rearrangement & fixes. Not finished yet.

	* iscissors.c

	Header file changes. (Need to include more headers).

	* gdisplay.c
	* gdisplay.h

	Hmmm... Added a function that did a mapping from gimage to gdisp.
	This is a little bit of a "hack", but it was needed.. really.

	* ops_buttons.h
	* ops_buttons.c

	Enhanced to create more types of button ops. Used in the paths dialog.

	* channels_dialog.c

	Header file changes?

	* xcf.c

	Paths stored in new PROP. Yosh.. I did as you and Adam suggested. 

	* picmanimage.c
	* picmanimage.h
	* picmanimageP.h

	Added paths items to the image structures.


1999-03-04  Tomas Ogren  <stric@ing.umu.se>

	* app/picmanrc.c: Added a g_strdup() on DEFAULT_IMAGE_TITLE_FORMAT,
	otherwise it would try to free a constant string when cancling out of
	prefs or changing the title-style.

Wed Mar  3 18:38:31 MET 1999 Sven Neumann <sven@picman.org>

	More unit/resolution stuff (most of it from Michael).
	
	* app/picmanimage.c: use defaults from picmanrc

	* app/gdisplay.c: a new format_string for coordinates

	* blend.c
	* crop.c
	* edit_selection.c
	* rect_select.c: use the new format when displaying sizes
	in the statusbar

	* file_new_dialog.c: cleaned up the advanced/simple cases

Wed Mar  3 17:59:09 MET 1999 Sven Neumann <sven@picman.org>

	* picmanrc.5.in
	* picmanrc.in
	* libpicman/picmanunit.[ch]
	* libpicman/picmanunitmenu.c : Seems that Michael had created some
	more patches I didn't knew of.
	This commit now should bring it all uptodate. 

Wed Mar  3 15:39:01 MET 1999 Sven Neumann <sven@picman.org>

	* libpicman/picmanchainbutton.[ch]: that looks much better now

Wed Mar  3 13:24:00 MET 1999 Sven Neumann <sven@picman.org>

	* picmanrc.5.in
	* picmanrc.in
	* libpicman/picmanunit.c
	* libpicman/picmanunit.h
	* app/file_new_dialog.c
	* app/picmanrc.c
	* app/picmanrc.h
	* app/preferences_dialog.c: Hopefully synced the work on 
	real-world-units by applying (most of) the patches Michael
	Natterer has provided. Fixed a few minor and cosmetic bugs 
	in those patches.

Tue Mar  2 01:24:41 MET 1999 Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/chain.xpm
	* libpicman/picmanchainbutton.c
	* libpicman/picmanchainbutton.h: a mockup for a new widget that 
	indicates that two entries are connected. Please feel free to
	hack this as I'm afraid I won't find the time to finish this.

	* app/file_new_dialogs: a first attempt to make the dialog 
	easier to use w/o loosing the flexibility it provided.

1999-02-28  Jay Cox  <jaycox@picman.org>

	* app/Makefile.am: added picmanhistogram*, histogramwidget*, 
	removed histogram.[ch]

	* app/histogram.[ch]: removed.  replaced with histogramwidget.[ch].

	* app/{picmanhistogramP.h, picmanhistogram.h, picmanhistogram.c}: new
 	functions that calculate histograms in parallel and perform
 	calculations on them.
	
	* app/histogramwidget.[ch]: Same as old histogram.[ch], only it is
 	now a real widget, and it uses PicmanHistograms instead of arrays of
 	values.

	* app/curves.c: #include picmanhistogram.h instead of histogram.h.
	
	* app/equalize.c: use PicmanHistogram and PicmanLut.
	
	* app/picmanbrush.c, app/picmanimage.c, app/picmanset.c: use 
	GTK_RUN_FIRST in calls to picman_signal_new.

	* app/histogram_tool.c, app/levels.c, app/threshold.c: modified to
 	use the new HistogramWidget.

	* app/paint_funcs.c: removed some unused variables.
	
	* app/preferences_dialog.c: only display the num-processor field
 	if we are configured --with-mp
	
	* plug-ins/gee/gee.c: removed a couple of c++ style comments.
	
Sun Feb 28 23:48:17 CET 1999 Marc Lehmann <pcg@goof.com>

	* configure.in: loosened check for perl version, perl5.004 is now
 	supposed to work with picman-perl.

Sat Feb 27 23:25:55 EST 1999 Adrian Likins <adrian@picman.org>

	* plug-ins/script-fu/scripts/xach-effect.scm: removed
	some old dead code that was keeping it from working. 
	Now xach's name is untarnished again.

Sat Feb 27 18:07:53 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/scale.c: use image's units, not the ruler units, when
	    dimentioning the rulers.  Picmanrc ruler-units syntax has no
	    use anymore.

	* app/gdisplay.[ch]: applied statusbar unit display patch from
 	    Michael Natterer.

Sat Feb 27 16:54:51 GMT 1999  Adam D. Moss  <adam@picman.org>

	* app/gimage_cmds.c: When a gimage's colourmap is changed,
	implicitly queue an update of the whole gimage.

	* plug-ins/vinvert/vinvert.c: Speed up - iterate over
	regions, not rows.

	* plug-ins/autostretch_hsv/autostretch_hsv.
	* plug-ins/c_astretch/c_astretch.c
	* plug-ins/normalize/normalize.c
	* plug-ins/vinvert/vinvert.c:
	Remove the explicit (and actually incorrect) update when
	changing a gimage's colourmap.

Fri Feb 26 21:19:10 GMT 1999  Adam D. Moss  <adam@picman.org>

	* app/convert.c: 
	Many revisions to the box-cut quantizer used in RGB->INDEXED
	conversion.  Box to be cut is chosen on the basis of posessing an
	axis with the largest sum of weighted perceptible error, rather
	than based on volume or population.  The box is split along this
	axis rather than its longest axis, at the point of error mean
	rather than simply at its centre.  Error-limiting in the F-S
	dither has been disabled - it may become optional again later.  If
	you're convinced that you have an image where the old dither looks
	better, let me know.

Thu Feb 25 11:40:36 1999  Raph Levien  <raph@picman.org>

	* app/hue_saturation.c (hue_saturation_calculate_transfers):
	Made increasing the saturation more subtle - which is what
	you want for enhancing the color in photos.

Thu Feb 25 12:19:50 MET 1999 Sven Neumann <sven@picman.org>

	* app/file_new_dialog.c
	* app/preferences_dialog.c: make use of the new PicmanSizeEntry
	widget (patch provided by Michael Natterer). 
	I'm not yet content with the way two entries are glued together
	by "Force equal ...", but I'm working on it.

Thu Feb 25 02:21:52 CST 1999 Shawn T. Amundson <amundson@picman.org>

	* app/menus.c: special case Close/Quit in <Image>/File
	  to always be at the bottom of the menu.

Wed Feb 24 19:19:07 MET 1999 Sven Neumann <sven@picman.org>

	* libpicman/picmansizeentry.[ch]: applied the patch Michael Natterer
	sent me. This makes the picmansizeentry much more flexible.

Tue Feb 23 02:57:16 CET 1999 Marc Lehmann <pcg@goof.com>

	* app/drawable_cmds.c: fix documentation for
	drawable_type_with_alpha.

Tue Feb 23 00:05:39 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/plug_in.c
	app/plug_in.h: Moved the RunModeType enum
	into the header so we can use it elsewhere (e.g. fileops)

	* plug-ins/gif/gif.c
	plug-ins/jpeg/jpeg.c: Don't show progress-bars if we're
	running noninteractively.  This makes thumbnail updating
	look more pleasant.  Try to do the same for all file plugins
	(and others)!

	* app/fileops.c: Reworked the thumbnail display again, fixed
	some buglets, file_open_image() is RunMode aware, added some
	tweaks, rhubarb rhubarb, merged in some 'cosmetic' tweaks
	from Marco.

Mon Feb 22 14:08:59 CET 1999 Marc Lehmann <pcg@goof.com>

	* app/procedural_db.h, app/internal_procs.c, app/procedural_db.c
	libpicman/picmanfeatures.h.in: "picman_procedural_db_get_data_size"
	exists, but has never been registered (of course it was buggy as
	well). This is especially funny since the function in _picman-perl_
	that should be using it since half a year tested the wrong symbol
	for its presence, so this went undetected. One could argue that
	this is the least used picman function ever ;->

1999-02-22 adam, blah blah

	* app/appenv.h: fixed a macro bug waiting to happen

	* plug-ins/gee/gee.c: some crappy tweaks

	* plug-ins/psd/psd.c: debugging turned off

1999-02-22  Jay Cox  <jaycox@picman.org>

	* app/channel.c: fixed bug in channel_bounds

Sun Feb 21 22:37:56 MET 1999 Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picmanentry.[ch]: removed
	* libpicman/picmansizeentry.[ch]: new files
	Moved the picmanentry stuff to picmansizeentry and changed it to use
	the new picmanunit functionality.

Sun Feb 21 20:43:00 MET 1999 Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picmanunitmenu.[ch]: new files
	Added the picmanunitmenu-widget Michael Natterer contributed.
	Now lets see how this integrates with the picmanentry-widget...

Sat Feb 20 16:12:33 CST 1999 Shawn T. Amundson <amundson@picman.org>

	* app/tips_dialog.c: Add default to Cancel button, remove
	  unset GTK_RECEIVES_DEFAULT from prev/next buttons (they
	  are like toolbar buttons), changed abreviated prev to
	  previous, prev/next button are now same size, cancel button
	  is in a button box.  Added vboxes where necessary to prevent
	  prev/next and check button from filling vertically.

	* app/app_procs.c: when splashscreen dialog is larger than the 
	  logo, (due to huge font), center logo.

	* app/file_new_dialog.c: patch from Marco Lamb <lm@geocities.com>
	  disallows resizing, changes vertical expanding of widgets to 
	  not occur

	* app/palette.c: patch from Marco Lamb <lm@geocities.com>.  Makes
	  +/- buttons for zoom pixmaps (eventually, these can be replaced
	  with a magnifying glass with a little +/- I think), so that they
	  no longer expand as they did before.  I modified his patch so it
	  did not create a misused toolbar.  I did some other stuff here too,
	  moved Close button to the left, made it the window's default,
	  and unset GTK_RECEIVES_DEFAULT off of the non-bottom buttons.

	* app/actionarea.c: another patch from Marco Lamb <lm@geocities.com>.
	  This one changes buttons to be put in a button box which is right
	  justified.  If we decide later that spread is better, we can 
	  change this easy enough.

	* app/tools/zoom_in.xpm, app/tools/zoom_out.xpm: + and - graphics.

	* libpicman/picmanunit.h
	  libpicman/picmanunit.c: New files from Michael Natterer 
	  <mitschel@cs.tu-berlin.de>, picman_unit_* routines.

	* app/gimage.h
	  app/picmanimage.h
	  app/picmanimage.c
	  app/picmanimageP.h
	  app/xcf.c: Patches from Michael Natterer <mitschel@cs.tu-berlin.de>,
	  which keep a unit assocated with an image. 

1999-02-21  Tor Lillqvist  <tml@iki.fi>

	First batch of changes to merge the Win32 version. This will be
	done in pieces, don't expect to be able to compile on Win32 from
	these sources yet.  And of course, the official version of GTk+
	doesn't include the Win32 stuff yet.
 	
	* configure.in acconfig.h: Check for <sys/param.h> and
	<sys/times.h>. Check for rint().

	* app/appenv.h: There shouldn't be any need to include
	<gdk/gdkx.h>. GDK hides the windowing system. Thus we cannot use
	GDK_DISPLAY either, and the DISPLAY macro must go.
	
	* app/*.c: Guard inclusion of Unix-only headers. Include config.h
	(as first header) where needed. Use G_DIR_SEPARATOR(_S) and
	G_SEARCHPATH_SEPARATOR(_S) where appropriate.

	* app/app_procs.c: Unreference fonts after use.

	* app/asupsample.c: Include <stdlib.h> for size_t.

	* app/batch.c (batch_init): No batch mode from stdin on Win32.

	* app/blob.c app/picmanbrushgenerated.c: Define M_PI if needed.

	* app/clone.c app/disp_callbacks.c app/rotate_tool.c
	app/scale_tool.c: Use GDK constants instead of Xlib ones (with
	identical value).

	* app/color_area.c app/color_select.c app/gdisplay.c
	app/parasitelist.c app/preferences_dialog.c app/tile_manager.c:
	Include <string.h> as we use functions from there.

	* app/colormap_dialog.i.c (ipal_draw_cell): Watch out for
	allocation width and height calues that are in fact
	negative. (This can happen at least on Win32 for some reason.)

	* app/datafiles.c: Define S_IS* macros for MSC.

	* app/docindex.c: Reorder header files. Otherwise guint32
	isn't available for picmanimageF.h, for instance.

	* app/docindexif.h: No need to incude <gdk/gdkprivate.h>.

	* app/errorconsole.c: Define S_I[RW]USR for MSC.

	* app/general.c: Define S_ISREG for MSC.

	* app/fileops.c: Include <process.h> and <direct.h> for MSC.

	* app/picmanbrushgenerated.c app/paint_funcs.c app/posterize.c:
	Define rint() using floor if necessary.

	* app/picmanbrushgenerated.c: Use unsigned char for lookup table.

	* app/picmandrawable.c: Use <string.h>, not <strings.h>.

	* app/main.c: Conditionalize on signal names.

	* app/module_db.c: Include <time.h> for time_t. Handle Win32 DLL
	names.

	* app/palette.c (palette_create_entries): If no HOME, ignore ~.

	* app/procedural_db.c app/tips_dialog.c: No need to open text
	files in binary mode.

	* app/temp_buf.c: Include <process.h> for MSC.

	* app/text_tool.c: Use GDK to get black and white pixel values. 

1999-02-19  Tuomas Kuosmanen  <tigert@picman.org>

	* plug-ins/tiff/tiff.c (save_dialog): Changed the plugin dialog 
	labels to remind the most common cases: PC vs Mac byte order.
	This is more useful information to an artist :)

Wed Feb 17 23:36:45 1999  Tor Lillqvist  <tml@iki.fi>

	* app/color_balance.c (struct _ColorBalanceDialog): lookup tables
 	should be size 256, not 255.

1999-02-16  Jay Cox  <jaycox@picman.org>

	* app/picmanlutP.h: fixed error in struct declaration
	
1999-02-16  Jay Cox  <jaycox@picman.org>

	* app/picmanlut[FP].h: oops, these should have been added with the
 	last commit.

1999-02-16  Jay Cox  <jaycox@picman.org>

	* app/picmanlut.[ch]: new source files that implement pixel Look Up
 	Table functions.
	
	* app/Makefile.am: build picmanlut.[ch]

	* app/brightness_contrast.c
	* app/curves.c
	* app/invert.c
	* app/levels.c
	* app/posterize.c: Use the new lut functions.  Use
 	pixel_region_process_parallel in the PDB versions of these routines.

	* libpicman/parasite.h
	* libpicman/parasite.c: new functions parasite_name and
 	parasite_compare.
	
	* app/picmandrawable.c:
	* app/picmandrawable.h: new function
 	picman_drawable_get_color_at(...) returns the RGBA[color index]
 	value at a specified position in the drawable.  Don't set the dirty
 	bit on the image if a new parasite is the same as the old.
	
	* app/picmanimage.c
	* app/picmanimage.h new function
 	picman_image_get_color_at(...) returns the RGBA[color index]
 	value at a specified position in the drawable.  Don't set the dirty
 	bit on the image if a new parasite is the same as the old.
	
	* app/by_color_select.c
	* app/color_picker.c: use the new picman_*_get_color_at
 	functions instead of messing with the tiles.
	
	* app/layer.c: fixed a minor warning.

	* app/commands.c: 
	don't scale the image if the new size == the old size
	
	* app/channel.c: optimized channel_bounds by only checking the
 	pixels in a tile if it is not already entirely within the
 	currently computed bounds.
	
Mon Feb 15  21:14:00 CST 1999 Seth Burgess <sjburges@picman.org>
	* plug-ins/perl/examples/prep4gif.pl
	* plug-ins/perl/examples/alpha2color.pl
	* plug-ins/perl/examples/windy.pl
	* plug-ins/perl/examples/feedback.pl 
	* plug-ins/perl/examples/xachlego.pl 
	* plug-ins/perl/examples/xachshadow.pl: added email addresses and 
       put things in a more sane spot in the menus

Mon Feb 15 05:23:18 1999  Tor Lillqvist  <tml@iki.fi>

	* app/color_balance.c (color_balance): Use the rgb_to_l function.

Sun Feb 14 22:16:16 1999  Tor Lillqvist  <tml@iki.fi>

	* app/paint_funcs.c app/paint_funcs.h : New function rgb_to_l for
 	when we only want the luminosity.  (rgb_to_hls): Use "else if" for
 	case which can't be true if previous test succeeded.

	* app/color_balance.c (struct _ColorBalanceDialog): use
	lookup tables with unsigned values for the RGB components.

Sun Feb 14 23:27:57 CET 1999 Marc Lehmann <pcg@goof.com>

	* docs/parasites.txt: Added some suggestions from Jay Cox.

Sun Feb 14 4:28:00 CST 1999 Seth Burgess <sjburges@picman.org>
	* plug-ins/sinus/sinus.c: changed macro definition supplied by
	Thomas to allow tilable sinus again.

Sun Feb 14 23:11:30 CET 1999 Marc Lehmann <pcg@goof.com>

	* libpicman/picmantile.c (picman_tile_cache_ntiles): Round up, not down,
	when setting the tilecachesize, in case we ever do 63x63 tiles ;)

Sun Feb 14 20:43:55 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/channels_dialog.c: don't #include resize.h - it's not needed
	* app/preferences_dialog.c: ditto.

	* app/resize.c: do all dialog creation here to factor out lots of
	     common code in commands.c and layers_dialog.c.  Also cancel
	     resize/scale dialog on destruction/removal of images/layers -
	     proper fix for Peter Teichman's bug.
	* app/resize.h: new prototype for resize_widget_new() - beginnings
	     of resolution-aware scaling.
	* app/commands.c: pull all the resize/scale dialog creation stuff
	     out to resize.c
	* app/layers_dialog.c: same again.

	* app/layer.c: add REMOVED signal, sent when a layer is removed
	     from an image.  Layers typically aren't destroyed until their
	     undo info expires.
	* app/layer.h: prototype for layer_removed() call.
	* app/picmanimage.c: send out removed signal.

Sun Feb 14 02:33:42 CET 1999 Marc Lehmann <pcg@goof.com>

	* app/gimage_cmds.c: Corrected argument name.
	* docs/parasites.txt: Add some thoughts about parasite
	data formats.

1999-02-14  Jay Cox  <jaycox@picman.org>

	* app/layers_dialog.c: applied Michael Natterer's fix for the
 	layer movement bug.

Sun Feb 14 01:27:29 GMT 1999  Austin Donnelly  <austin@picman.org>

	New manpage plus bumper fun pack of bugfixes.

	* picmanrc.5.in: NEW FILE: beginnings of some docs on picmanrc file
	     format.
	* configure.in: generate picmanrc.5 from picmanrc.5.in
	* Makefile.am: install picmanrc.5
	* .cvsignore: ignore picmanrc.5, it's auto generated.

	* picman.1: fix a few paths and URLs.  Mention the modules/
	     directory in user's picmandir.

	* app/commands.c: cancel resize or scale dialogs when image
 	     they're for is destroyed, rather than segfaulting when Ok is
 	     clicked.  Thanks to Peter Teichman <peter@zeno.dorm.duke.edu>
 	     for pointing this one out.  Layer resize/scale still suffers
 	     from same problem, but Adam's working on L&C at the moment.

	* app/gdisplay.c: off-by one error on bounds check in making image
	     title.

	* app/module_db.c: some would consider it foolish returning to
 	     code you've just unloaded.  So don't do that.

	* app/plug_in.c: when superceeding a PDB function with a newer one
	     of the same name, remove pointers to the old one from the
	     plugins that originally registered them.  Fixes Nick Lamb's
	     pluginrc file corruption thing, and catches the (common?)
	     error of copying a plugin to a different name but failing to
	     change what it registers.  Also, if registering a file
	     loader/saver, make sure it has set an extension, prefix, or
	     magic number it's interested in - that way code that relies
	     on checking this doesn't get confused.

Sat Feb 13 19:05:16 CET 1999 Marc Lehmann <pcg@goof.com>

	* app/internal_procs.c
	* app/parasite_cmds.h
	* app/parasite_cmds.c
	* app/picmanparasite.h
	* app/picmanparasite.c
	* app/gimage_cmds.h
	* app/gimage_cmds.c
	* app/picmanimage.h
	* app/picmanimage.c
	* app/drawable_cmds.h
	* app/drawable_cmds.c
	* app/picmandrawable.h
	* app/picmandrawable.c
	
	Added parasite_list functions for global parasites, drawables and
	images as internal (C) and pdb functions.

Wed Feb 10 23:44:00 MET 1999 Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: provide a simple way to change the 
	image_title_format string
	* app/scale.c: also update the title when using the zoom tool

Mon Feb  8 18:47:00 CST 1999 Seth Burgess <sjburges@picman.org>
	* plug-ins/perl/examples/feedback.pl 
	* plug-ins/perl/examples/xachblocks.pl 
	* plug-ins/perl/examples/xachshadows.pl: Updated version
	information on my Picman-Perl plugins that were improved by Marc
	Lehmann so I can keep track better.

Mon Feb  8 19:17:58 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/layer.c
	* app/selection.c: Turn off a layer's bounding box when
	it is deselected.

Mon Feb  8 12:12:18 CST 1999 Shawn T. Amundson <amundson@picman.org>

	* app/bezier_select.c: applied patch from Shuji Narazaki 
	  <narazaki@picman.org> which adds bezier stroke.

Sun Feb  7 22:06:04 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/dialog_handler.c
	* app/fileops.c: Various bugfixes and speedups w.r.t.
	thumbnail loading.  Now has a 'generate thumbnail' button.

	* app/brightness_contrast.c
	* app/color_balance.c
	* app/curves.c
	* app/hue_saturation.c: Changed some gint to gint32.  It
	doesn't matter right now, but it might if the optimized
	CLAMP0255 gets fixed.

Sun Feb  7 18:29:26 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/fileops.c: A unidirectional error-spread makes
	the saddest little thumbnails taste full of country
	goodness.

	* app/appenv.c: Wow, CLAMP0255() has a bug that I can't
	quite see, or my compiler does.  Worked around it.

Sun Feb  7 15:04:23 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/fileops.c: More robust and kickin' thumbnail support.

	* app/edit_selection.c app/layer.c app/layer.h: Working
	on lazy opaque layer moves.  Disabled for now.

	* app/gdisplay.c
	* app/gimage.h
	* app/picmanimage.c
	* app/picmanimage.h
	* app/image_render.c
	* app/tile_manager.c: Errr, I don't remember.  No, seriously.
	Nothing of consequence.

Sun Feb  7 02:44:44 PST 1999 Manish Singh <yosh@picman.org>

	* configure.in: fix setting of $localedir, and use $CONFIG_SHELL
	to run config.status (variation upon picman-joke-990122-1)

	* plug-ins/fp/fp_gtk.c: make label code consistent so we
	don't get confused (picman-ruth-990131-0)

	* app/app_procs.c: toast stale swap files on startup

	* app/general.[ch]: removed prune_filename

	* app/by_color_select.c
	* app/colormap_dialog.i.c
	* app/fileops.c
	* app/gdisplay.c
	* app/gdisplay_ops.c
	* app/picmanbrush.c
	* app/gradient.c
	* app/info_window.c
	* app/menus.c
	* app/palette.c
	* app/patterns.c: s/prune_filename/g_basename/

Sat Feb  6 18:16:57 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/gdisplay.c: gdisplay_format_title now parses a format string
	      set by the user to control what goes in the image window
	      titles. 
	* app/gdisplay.h: gdisplay_update_title() prototype.
	* app/picmanrc.c
	* app/picmanrc.h: image-title-format added.
	* app/scale.c: update a display's title when zooming in/out
	
	* picmanrc.in: sample image-title-format setting

Sat Feb  6 16:22:36 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	Changed:-
		plug-ins/plugindetails/plugindetails.c
		app/devices.c

	Tidy up of plugindesc UI. Can now resize correctly.

	Fixed problem with session saving. If the active dialog 
	was not one on the toolbox (eg Histogram) then an error would
	be produced the next time picman is run up.

Sat Feb  6 15:11:26 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/picmanset.c
	* app/picmanset.h: remove the member_modified hacks
	* app/module_db.c: make module_info a proper object emitting a
	    modified signal.

1999-02-05  Jay Cox  <jaycox@picman.org>

	* app/clone.c: merged the registered clone option from the
 	hollywood branch.  Made the source for unaligned clones reset
 	after each stroke.  Make sure we don't crash if the source
 	drawable gets destroyed.

Thu Feb  4 17:22:25 EST 1999 Peter Teichman  <pat4@acpub.duke.edu>

	* app/convolve.c: added pressure support for the Convolve tool

Wed Feb  3 18:12:19 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.2 release

	* configure.in: add plugindetails

	* libpicman/Makefile.am: add shared lib deps for glib/gtk

	* libpicman/picmanmatrix.c: use sizeof(PicmanMatrix) instead of
	sizeof(double)*9, memcpy in picman_matrix_duplicate instead
	of nested for loop

Thu Feb  4 00:23:26 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	Tried again to add the plugin dir & files.

Thu Feb  4 00:07:13 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	Changed:-

	* plug-ins/Makefile.am

	New plugin located in plug-ins/plugindetails. Allows you to browse
	the plugin menu system.

Wed Feb  3 23:46:12 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/fileops.c: More work on thumbnailing - the
	Load Dialog now knows about thumbnails and shows them.
	Still some UI and code tidy-up remaining.

Tue Feb  2 23:34:37 PST 1999 Manish Singh <yosh@picman.org>

	* libpicman/picman.c
	* app/datafiles.c
	* app/docindex.c
	* app/picmanrc.c
	* app/gradient.c
	* app/palette.c: use g_get_home_dir () instead of getenv ("HOME")

	* app/fileops.c: #warning is a gccism

	* app/invert.[ch]: minor cleanup

	* app/menus.c: more cleanups

	* app/blob.c: even more cleanups

	* libpicman/parasite.c: YACU

	* ltconfig
	* ltmain.sh: CVS libtool 1.2e

	* modules/Makefile.am: use -module and -avoid-version flags

	* lic/Makefile.am
	* mapcolor/Makefile.am
	* xbm/Makefile.am: don't link with libjpeg here

	* picman1_1_splash.ppm: new Adrian splash

1999-02-02  Owen Taylor  <otaylor@gtk.org>

	* app/blob.[ch] app/ink.c: Let the user choose between
	elliptical, square, and diamond shaped brushes for
	the ink tool.

Tue Feb  2 22:25:57 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/fileops.c: PICMAN now automagically saves
	xv-compatible thumbnails upon image save.  More
	work soon.

	* app/fileops.c: Disabled gimage_set_save_proc()
	call which was causing files to continue saving
	in the same format regardless of the user's selected
	format.  Needs attention.

Tue Feb 02 20:58:40 1999  Tor Lillqvist  <tml@iki.fi>

	* app/picmandrawable.c (picman_drawable_set_name): Fix adding of
 	numbers after drawable copies. We used to get pairs of duplicates
 	after adding the same name several times. Thanks to Piet van Oostrum
	for reporting and diagnosing this.

1999-01-31  Jay Cox  <jaycox@picman.org>

	* app/color_balance.c: optimized by using a lookup table
	
	* app/paint_funcs.c: parallelized apply_mask_to_region, 
	combine_mask_and_region, and initial_region.  Use rand_r
	if we are multithreaded.

Sun Jan 31 18:02:46 1999  Owen Taylor  <otaylor@gtk.org>

	* app/blob.c: Merged in changes from gsumi. This
	revision replaces the unstable conic-tracing code
	with old-fashioned floating point trig calls to
	compute the ellipses.

Sun Jan 31 19:42:26 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/tile.c, app/tile_manager.c:

	Fixed the tile-corruption bug which has been around
	since early PICMAN-1.1.  When dirtying a copy-on-write
	tile, a pointer to nonsense data was being returned
	when the c-o-w'd tile source was swapped out to disk.
	Now the c-o-w'ing routine ensures that the tile data
	is correctly locked into memory before duplicating it
	for dirtying.

Sun Jan 31 17:13:46 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	Changed:-

	* app/plug_in.c

	A mysterious semi-colon crept in....

Sun Jan 31 16:51:18 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/paint_funcs.c: Fix segfault when combining very
	tiny inten_a_inten_a regions (ie. when painting).

Sat Jan 30 23:51:04 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	Changed:-

	* app/dialog_handler.c
	* app/dialog_handler.h
	* app/gimage.c
	* app/picmanrc.c
	* app/plug_in.c
	* app/plug_in.h

	Fixed problem with TAB key hiding all dialogs. With some WM
	you could hide all the windows with TAB then close the last image
	down... opps how do you get back to the main dialog. Main 
	dialog is now poped up when last image is closed and we had
	used TAB key to hide it.

	New PDB functions to query plugin info. Plugin to follow...

Sat Jan 30 23:47:37 1999  Tor Lillqvist  <tml@iki.fi>

	* app/menus.c (menus_init_mru): Don't g_snprintf into a NULL pointer.

Wed Jan 27 21:52:43 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/scale.c: oops - should use the image resolution, not the
	    screen resolution.  D'oh!

	* app/picmandrawable.c: only merge shadow image if there actually is
	    one.

	* plug-ins/emboss/emboss.c: small optimisation: use
 	    picman_drawable_mask_bounds() to calculate only the pixels that
 	    are actually in the selection.

Wed Jan 27 12:25:00 CST 1999 Seth Burgess <sbjurges@picman.org>
	
	* plug-ins/script-fu/scripts/add-bevel.scm: fixed the SF-ADJUSTMENT
	so that it shows up again.

Tue Jan 26 22:17:57 PST 1999 Manish Singh <yosh@picman.org>

	* app/blob.c: s/(NONE|LEFT|RIGHT)/EDGE_$1/g to clear up namespace

	* app/menus.c: create dummy var to i18n File/MRU item
	(picman-joke-9901122-1.patch)

	* app/tips_dialog.c: #include <config.h> (picman-joke-9901122-1.patch)

Mon Jan 25 20:40:26 GMT 1999  Austin Donnelly  <austin@picman.org>

	* user_install: create modules/ directory in user's ~/.picman-1.1 dir
	* app/install.c: include description of ~/.picman-1.1/modules, plus
	    scroll info back to top when done inserting text since it
	    looks nicer.  Also make window that holds result of running
	    user_install a little larger so we see all messages at once.

	* app/gdisplay.h: FUNSCALE_{X,Y} macros for floating point
	    unscales.
	* app/scale.c: show rulers in real-world units (inches/cm/pixels)
	    if dot-for-dot is turned off, plus smoother ruler updates by
	    using FUNSCALE so we don't jump in pixel steps at high
	    magnification factors.
	* app/interface.c: don't set the ruler metrics for now - it's
 	    easier to do the calculations in pixels.  Need to rethink this
 	    a little anyway.

	* docs/parasites.txt: added jpeg parasite info.

Sat Jan 23 20:36:06 GMT 1999  Austin Donnelly  <austin@picman.org>

	* app/color_select.c: don't try and gdk_window_get_size() when we
	    haven't been realised yet.

	* app/picmanset.[ch]: allow the use of GTK_TYPE_NONE for storing
	    sets of things that aren't GTK_OBJECTs.  Set can also emit new
	    signal "member_modified" when picman_set_member_modified (set,
	    ob) is called.

	* app/layers_dialog.c: show main dialog shell last, to avoid ugly
 	    window manager interaction.

	* app/module_db.c: can now handle not having any modules at all
	    without segfaulting, plus proper updates on changes.  Also now
	    has refresh button to re-scan the filesystem for modules.

	* modules/colorsel_triangle.c: added module_unload() function.
  	    Still needs someone to spruce up the UI.  Volunteers?

	* plug-ins/script-fu/scripts/select_to_image.scm: create display
 	    for newly duplicated image, otherwise you don't see anything.

Sat Jan 23 18:43:23 GMT 1999  Adam D. Moss  <adam@picman.org>

	* plug-ins/gif/gif.c: Multi-line comments, a little more
	sanity-checking.
	
	* app/convert.c: Cosmetic changes to the warning about having
	too many colours for saving transparent/animated GIFs.

	* app/gdisplay.c: Titlebar is correctly updated upon revert.

	* app/paint_funcs.c: Minor improvement.
	
	* docs/parasites.txt: Minor amendments.

	* plug-ins/jpeg/jpeg.c: Minor code comment amendments.

1999-01-22  Jay Cox  <jaycox@picman.org>

	* app/pixel_region.c, app/pixel_region.h: new function 
	pixel_regions_process_parallel
	
	* app/paint_funcs.c: use pixel_regions_process_parallel in 
	combine_regions.  fixed bug in combine_inten_a_and_inten_a_pixels
	
	* app/picmanrc.c, app/picmanrc.h, app/preferences_dialog.c: added 
	num-processors variable

	* config.h.in, configure.in, acconfig.h: add configure option
 	--with-mp and define ENABLE_MP.
	
Thu Jan 21 22:58:00 PST 1999 Manish Singh <yosh@picman.org>

	* picman1_1_splash.ppm: new splash, from Shaw Terwilliger
	<sterwill@io.nu>

	* modules/colorsel_triangle.c: turn DITHER_MAX on

Thu Jan 21 15:16:18 PST 1999 Manish Singh <yosh@picman.org>

	* app/bucket_fill.c: correct typo in pdb invoker

Thu Jan 21 14:01:35 PST 1999 Manish Singh <yosh@picman.org>

	* modules/colorsel_triangle.c: friggin C++ comments

Wed Jan 20 22:19:54 PST 1999 Manish Singh <yosh@picman.org>

	* Made 1.1.1 release

Wed Jan 20 20:45:23 PST 1999 Manish Singh <yosh@picman.org>

	* HACKING: updated

	* configure.in: version number bump to 1.1

	* plug-ins/deinterlace/Makefile.am: don't list files from other
	directories

1999-01-20  Raja R Harinath  <harinath@cs.umn.edu>

	Satisfy a more pedantic `automake'.
	* plug-ins/blur/Makefile.am (blur_SOURCES): Don't list files from
	other directories.
	* plug-ins/borderaverage/Makefile.am (borderaverage_SOURCES): 
	Likewise.
	* plug-ins/emboss/Makefile.am (emboss_SOURCES): Likewise.
	* plug-ins/hot/Makefile.am (hot_SOURCES): Likewise.
	* plug-ins/nlfilt/Makefile.am (nlfilt_SOURCES): Likewise.
	* plug-ins/randomize/Makefile.am (randomize_SOURCES): Likewise.
	* plug-ins/sinus/Makefile.am (sinus_SOURCES): Likewise.
	* plug-ins/waves/Makefile.am (waves_SOURCES): Likewise.
	* plug-ins/gfig/gfig-examples/Makefile.am (EXTRA_DATA): Remove
	spurious variable.
	* plug-ins/script-fu/scripts/Makefile.am (EXTRA_DATA): Likewise.
	* plug-ins/webbrowser/Makefile.am (EXTRA_DATA): Likewise.

	Clean up handling of `tools/gcg' (partly due to a more pedantic
	automake).
	* configure.in (AC_OUTPUT): Emit tools/Makefile.
	* Makefile.am (SUBDIRS): Remove @GCG@, add `tools'.
	* tools/Makefile.am: New file.
	(SUBDIRS): Conditionally build `gcg' subdir.
	* app/Makefile.am (GCG): Work for srcdir != builddir.
	(GCGMAKEDEPEND): Likewise.
	
Wed Jan 20 19:57:34 EST 1999 Mandrake <mandrake@mandrake.net>

	* app/gradients.c
	  app/menus.c: 
	  s/gtk_check_menu_item_set_state/gtk_check_menu_item_set_active/
	  configure.in: upped gtk+ requirement to 1.1.13, since that's
	  where it first occurs.

Thu Jan 21 00:10:33 GMT 1999  Adam D. Moss  <adam@picman.org>

	* app/picmanimage.c: Backed out last change for now, since I'm a
	coward and yosh was threatening to make a release...!

Wed Jan 20 22:37:13 GMT 1999  Adam D. Moss  <adam@picman.org>

	* app/picmanimage.c: Enabled the gimage->projection copy-on-write
	hack for RGBA/GRAYA single-layer images.  Masks/channels
	probably don't show yet when this is active.  Report strangeness.
	Thanks.

1999-01-20  Jay Cox  <jaycox@picman.org>

	* app/layers_dialog.c: connect the destroy signal of images to
 	lc_dialog_update_cb

1999-01-19  Jay Cox  <jaycox@picman.org>

	* app/brush_select.c: make the edit button active if the default
 	brush is a generated brush.  Make sure brush spacing >= 1.0
	* app/picmanbrushlist.c: do not add a brush to the brush list if it
 	failed to load
	* app/gradient.c:  Fix typo that caused a crash with --no-data
	* app/main.c: be more forgiving of fp rounding in gserialize tests

Mon Jan 18 23:36:57 1999  Austin Donnelly  <austin@picman.org>

	* app/menus.c: include module browser, plus re-instate the 'swap
	     colors' and other options that got killed by mistake.  Clean
	     up the odd extra separator too.

	* app/color_notebook.c: hide newly created colour selectors so we
	     know the PICMAN one will be the default page.

	* app/module_db.[ch]: NEW FILEs: module database / browser.
	* app/Makefile.am: add module_db.[ch] stuff
	* app/app_procs.c: initialise the module_db
	* app/commands.[ch]: callback to create a module browser.
	* app/plug_in.c: move module loading out to module_db.c
	* libpicman/picmanmodule.h: API change: module_init() should return
	     additonal info (author, purpose, date, etc.)   Also optional
	     module_unload() function.
	* modules/colorsel_gtk.c: add module info, plus an unload function

	* modules/Makefile.am: build triangle colour selector module
	* modules/colorsel_triangle.c: NEW FILE: colour selector from 
	     Simon Budig <Simon.Budig@unix-ag.org>.

	* MAINTAINERS: changed my email address

Mon Jan 18 22:55:19 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/picmanimage.c app/picmanimage.h:

	Part one of an effort to allow a one-layer gimage
	to share tiles with its own projection courtesy of
	copy-on-write, where sane.  This can save megabytes
	when working with such images.

	The code is 'mostly working' rather than 'perfect',
	so it's disabled until I have time to finish it.

Mon Jan 18 18:56:05 GMT 1999 Adam D. Moss <adam@picman.org>

	* plug-ins/psd/psd.c: Better guess at how PSD files store
	Guide position precision.

Sun Jan 17 22:42:26 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/gdisplay.c app/gdisplay.h app/gimage_cmds.c:
	
	An image's projection is now copy-on-write duplicated
	upon duplication of the image.  This should save some
	time and memory for 'duplicate'.

	This needed a new function which is prototyped in gdisplay.h:
	gdisplays_finish_draw() which completes all outstanding
	idlerendered-projections (we don't want to c-o-w an
	incomplete projection).

	* app/interface.c: #include "dialog_handler.h"

Sun Jan 17 20:36:45 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/gimage_cmds.c app/picmanimage.c app/layers_dialog.c

	Guides are now duplicated upon image duplication.
	Guides are now scaled upon image scaling.
	Lowering, raising, and renaming a layer now correctly
	mark the image as dirty.

Sun Jan 17 18:28:58 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/gdisplay.c app/paint_funcs.c: Fixed a thinko/bug
	in the recent optimizations.

Sun Jan 17 16:56:25 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/blend.c app/bucket_fill.c app/convert.c app/crop.c
	app/cursorutil.c app/cursorutil.h app/dialog_handler.c
	app/dialog_handler.h app/fuzzy_select.c app/gdisplay.c
	app/gimage_cmds.c app/picmanimage.c app/scroll.c
	app/transform_core.c app/xcf.c

	Hourglasses also apply to all registered dialogs.  Hourglasses
	added in a couple more important places.  New hack lets
	hourglasses be added and automagically removed again when
	picman/gtk re-enters the idle loop.

Sat Jan 16 18:21:58 GMT 1999  Austin Donnelly  <austin@greenend.org.uk>

	* plug-ins/jpeg/jpeg.c: re-wrote the picman-comment stuff so it
 	works with older libjpeg libraries without cinfo.marker_list
 	support.  While there, added support for loading and saving
 	resolution info.

1999-01-15  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* Updated gtk_toggle_button_set_state() to
	gtk_toggle_button_set_active() in all the files.

Wed Jan 13 16:12:35 PST 1999 Manish Singh <yosh@picman.org>

	* app/colormaps.c
	* app/devices.h
	* app/tips_dialog.h: minor cleanups

	* app/picmanimage.c: the dirty/clean handling seemed weird, and wasn't
	correct in all cases. Just do a straight increment/decrement to
	try to fix it.

Thu Jan 14 00:02:56 MET 1999 Sven Neumann <sven@picman.org>

	* acconfig.h
	* config.h
	* configure.in: check for progressive mode in libjpeg

	* plug-ins/jpeg/jpeg.c: applied a patch from 
	Pete <pwhiting@fury.ittc.ukans.edu> that introduces comments
	and progressive saving for JPEGs

	
Tue Jan 12 23:25:46 PST 1999 Manish Singh <yosh@picman.org>

	* app/menus.c: doh, we build tool menus on the fly

	* configure.in: add nl.po to ALL_LINGUAS

	* acinclude.m4
	* ltconfig
	* ltmain.sh: upgrade to libtool 1.2d (with fixes for irix6 and osf)

Mon Jan 11 18:11:32 PST 1999 Manish Singh <yosh@picman.org>

	* plug-ins/tiff/tiff.c: small patch from Nick Lamb that
	does "The Right Thing (TM)" for RGB tiff images

Mon Jan 11 17:30:06 PST 1999 Manish Singh <yosh@picman.org>

	* commands.[ch]
	* fileops.[ch]
	* gdisplay.[ch]
	* menus.c: implemented File->Revert

Mon Jan 11 22:02:10 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/paint_funcs.c:
	The bottleneck combine_inten_a_and_inten_a_pixels()
	function is a couple of times faster when there is a
	layer mask, for the common case, due to working with whole
	word-aligned ints where feasible instead of a char at a time.
	The same optimization could be implemented in lots of other
	places, but I'm going to bed.  Good night!

	* app/gimage_cmds.c: #include "cursorutil.h"

Mon Jan 11 21:35:44 MET 1999 Sven Neumann <sven@picman.org>

	* configure.in: build the Makefile in the modules directory

1999-01-10  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (AC_OUTPUT): Use `test -f' instead of `test -e'.
	(AC_OUTPUT): Generate `plug-ins/perl/*' after `plugins/Makefile',
	so that the `plug-ins' directory exists before the `mkdir
	plug-ins/perl' is executed.

Sun Jan 11 00:24:21 GMT 1999  Austin Donnelly  <austin@greenend.org.uk>

	Bit of a large checkin this - it's basically three things:
	  1 - PicmanModules using gmodules to dynamically load and
	       initialise modules at picman start of day.
	  2 - Color selectors now register themselves with a color
	       notebook.
	  3 - progress bars have been cleaned up a bit, so now have
	       progress indictations on all transform tool and gradient
	       fill operations.  Not done bucket fill, but that seems to
	       be the next candidate.

	New directories:
	* modules/: new directory for dynamically loadable modules.

	New files:
	* modules/.cvsignore
	* modules/Makefile.am
	* modules/colorsel_gtk.c: GTK color selector wrapped up as a
	    color selector the picman can use.

	* app/picmanprogress.[ch]: progress bars within picman core, either as
	    popups, or in the status bar.  This is mainly code moved out
	    of plug-in.c

	* app/color_notebook.[ch]: color selector notebook, implementing
	    very similar interface to color_select.h so it can be used as
	    a drop-in replacement for it.

	* libpicman/color_selector.h: API color selectors need to implement
	    to become a page in the color_notebook.

	* libpicman/picmanmodule.h: API picman modules need to implement to be
	    initialised by picman at start of day.

	Modified files:
	* Makefile.am: add modules/ to SUBDIRS
	* libpicman/Makefile.am: install picmanmodule.h and color_selector.h
	* app/picmanrc.[ch]: recognise module-path variable.
	* picmanrc.in: set module-path variable to something sensible
	    (currently "${picman_dir}/modules:${picman_plugin_dir}/modules").
	* app/Makefile.am: build color notebook and picmanprogress
	* app/app_procs.c: register internal PICMAN color selector with
	    color notebook.
	* app/asupsample.c: call progress function less frequently for
	    better performance.
	* app/asupsample.h: progress_func_t typedef moved to picmanprogress.h
	* app/blend.c: make callbacks to a progress function
	* app/color_area.c: use a color notebook rather than a color selector
	* app/color_panel.c: ditto
	* app/color_select.c: export color selector interface for notebook
	* app/color_select.h: color_select_init() prototype
	* app/flip_tool.c: flip the image every time, rather than every
	    second click.
	* app/interface.c: move progress bar stuff out to
	    picmanprogress.c.  Make the code actually work while we're at it.
	* app/interface.h: move prototypes for progress functions out to
	    picmanprogress.h
	* app/plug_in.c: load and initialise modules (if possible). Move
	    progress bar handling code out to picmanprogress.c
	* app/plug_in.h: keep only a picman_progress * for each plugin, not
	    a whole bunch of GtkWidgets.
	* app/scale_tool.c
	* app/rotate_tool.c
	* app/shear_tool.c
	* app/perspective_tool.c: progress bar during operation.
	    De-sensitise the dialog to discourage the user from running
	    two transforms in parallel.
	* app/transform_core.c: recalculate grid coords when bounding box
	    changes.  Only initialise the action area of the dialog once,
	    to avoid multiple "ok" / "reset" buttons appearing.  Undraw
	    transform tool with correct matrix to get rid of handle
	    remains on screen.  Call a progress function as we apply the
	    transform matrix.  A few new i18n markups.  Invalidate
	    floating selection marching ants after applying matrix.
	* app/transform_core.h: transform_core_do() takes an optional
	    progress callback argument (and data).
	* plug-ins/oilify/oilify.c: send progress bar updates after every
	    pixel region, not only if they processed a multiple of 5
	    pixels (which was quite unlikely, and therefore gave a jerky
	    progress indication).

Sun Jan 10 23:31:45 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/blend.c app/bucket_fill.c app/convert.c app/crop.c
	app/cursorutil.c app/cursorutil.h app/fuzzy_select.c
	app/gdisplay.c app/gdisplay.h app/gimage_cmds.c
	app/picmanimage.c app/transform_core.c app/xcf.c:

	Most lengthy UI-blocking operations now put up an
	hourglass so the user can see that PICMAN is working.
	Let me know if there are other vital cases.

Sun Jan 10 22:41:51 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	New
	* app/dialog_handler.c
	* app/dialog_handler.h

	Changed
	* app/disp_callbacks.c
	* app/gradient_select.c
	* app/tools.c
	* app/interface.c
	* app/patterns.c
	* app/picmanbrushlist.c
	* app/palette.c
	* app/layers_dialog.c
	* app/devices.c
	* app/errorconsole.c

	Can now hide/show all main dialogs using the TAB key in any window.
	However....
	there is a bug in gtk that causes the Picman the crash if you show
	and then hide a lot of dialogs (eg if you have all dialogs visible
	and press the TAB key repeatedly). I have email-ed an example to
	the gtk bug list.
	Also I can't seem to be able to catch the SHIFT-TAB combination
	(suggestions welcome ;-) so the first press of the tab hide all 
	dialogs the second press reshows only the toolbox and the third
	press reshows all. Comments please if you find this behaviour 
	non-intuitive.

Sun Jan 10 21:42:11 GMT 1999  Austin Donnelly  <austin@greenend.org.uk>

	* app/brush_select.c
	* app/channels_dialog.c
	* app/disp_callbacks.c
	* app/histogram_tool.c
	* app/info_dialog.c
	* app/layer_select.c
	* app/pattern_select.c
	* plug-ins/gfig/gfig.c
	* plug-ins/newsprint/newsprint.c: More changes of the form
 	       s/gtk_label_set/gtk_label_set_text/

Sun Jan 10 20:44:07 GMT 1999 Adam D. Moss <adam@picman.org>

	* app/paint_funcs.c: Disabled debug output of [.!..!!] for COW

Sun Jan 10 20:13:13 GMT 1999 Adam D. Moss <adam@picman.org>

	* plug-ins/psd/psd.c: 
	Greatly reduced memory requirements for layered image loading -
	we now do just-in-time channel unpacking.  Some little
	cleanups too.

Sat Jan  9 21:24:20 PST 1999 Manish Singh <yosh@picman.org>

	* autogen.sh: rework to do gcg by ourselves

Sun Jan 10 01:43:06 EST 1999  Peter Teichman  <pat4@acpub.duke.edu>

	* plug-ins/MapObject/mapobject_ui.c: didn't realize that there
	were more errors of the same type.. The wrong callback argument
	was being dereferenced for most GtkScale objects.

Sat Jan  9 03:42:30 EST 1999 Peter Teichman  <pat4@acpub.duke.edu>

	* plug-ins/MapObject/mapobject_ui.c (angle_update): fixed a
	segfault.. The wrong argument to angle_update was being dereferenced.

Thu Jan  7 15:45:14 PST 1999 Manish Singh <yosh@picman.org>

	* configure.in: added pl to ALL_LINGUAS

Thu Jan  7 21:33:39 EET 1999 Lauri Alanko <nether@picman.org>

	* autogen.sh
	* configure.in
	* Makefile.am:

	Added stuff to make gcg by default (for maintainers)
	
	* app/Makefile.am
	* app/app_procs.c
	* app/appenv.h
	* app/colormap_dialog.gc
	* app/colormap_dialog.i.c
	* app/commands.c
	* app/convert.c
	* app/gimage.c
	* app/picman.gh
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanset.c
	* app/picmanset.h
	* app/picmansetP.h
	* app/main.c
	* app/preferences_dialog.c
	* app/undo.c:

	Redid the indexed palette dialog to not crash, to be a bit more
	usable, and to be a cleaner module. A first shot at using gcg in
	actual practice..

	If something is screwed, let me know!
	
	* libpicman/picman.c
	* libpicman/picman.h:

	Now keep a local copy of temp proc names

Wed Jan  6 23:30:03 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	* app/indexed_palette.c

	Fixed crash when image->dialog->indexed palette invoked on
	an RGB image.

Mon Jan  4 23:21:56 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	* app/blend.c
	* plug-ins/script-fu/script-fu.c

	A patch from Federico to add a spiral gradient type. The patch
	has been slightly modified to allow both clockwise and anticlockwise
	spirals and the numbers used to represent these types of gradients
	have been made to follow on from currently allocated numbers (I hope
	this will not break any scripts). 

Sun Jan  3 14:40:27 PST 1999 Manish Singh <yosh@picman.org>

	* plug-ins/ps/ps.c: new version

Sun Jan  3 22:18:48 MET 1999 Sven Neumann <sven@picman.org>

	* app/palette.c: applied a patch from Michael Natterer
	that fixes a segfault in the palette dialog.

Sat Jan  2 23:22:29 GMT 1999 Andy Thomas <alt@picnic.demon.co.uk>

	* app/palette.c
	* app/palette_select.h
	* app/palette_select.c

	An attempt at a better/improved palette dialog using a notebook
	style for selection.

Sat Jan  2 15:26:31 PST 1999 Manish Singh <yosh@picman.org>

	* app/Makefile.am
	* plug-ins/script-fu/scripts/Makefile.am: use -DREGEX_MALLOC,
	seems to be more portable

	* plug-ins/png/png.c: use a default gamma of 2.2 when gamma
	correction isn't enabled

Fri Jan  1 19:28:23 PST 1999 Manish Singh <yosh@picman.org>

	* app/blend.c: remove bogus constification

	* po/sv.po: updates from Tomas Ogren <stric@ing.umu.se>

Fri Dec 25 10:01:19 PST 1998 Manish Singh <yosh@picman.org>

	* i18n markings from Daniel Egger (mostly removal of tags around
	PDB stuff), some constification

	* I went on a sprintf pogrom. Use g_snprintf or g_strdup_printf
	where applicable, to prevent overflows, especially with filenames
	and translated strings. suid picman is now more secure. ;)

Thu Dec 24 01:06:26 PST 1998 Manish Singh <yosh@picman.org>

	* Made 1.1.0 release

Wed Dec 23 17:00:47 PST 1998 Manish Singh <yosh@picman.org>

	* autogen.sh: bitch if we can't find gtk.m4 or gettext.m4

Wed Dec 23 16:48:34 PST 1998 Manish Singh <yosh@picman.org>

	* README
	* INSTALL: administrivia

Wed Dec 23 23:59:52 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/palette.c
	* app/Makefile.am

	New:-

	* app/palette_select.h
	* app/palette_select.c

	New smaller palette select dialog. This has an edit button
	which invokes the palette editor. 

1998-12-22  Chris Lahey  <clahey@umich.edu>

	* app/docindex.c, app/docindex.h, app/docindexif.c,
	app/docindexif.h: Fixed multiple file drop.  Brought docindex.c
	and docindex.h to to be consistent with go's versions of the same.
	
1998-12-22  Tuomas Kuosmanen  <tigert@picman.org>

	* TODO: added some GUI ideas..

Mon Dec 21 22:00:59 PST 1998 Manish Singh <yosh@picman.org>

	* NEWS: nice file from Xach

	* libpicman/parasite.c
	* app/picmandrawable.c: warning fixups

Tue Dec 22 17:43:08 EST 1998 Adrian Likins <adrian@picman.org>

	* picman1_1_splash.ppm: Replaced tigert's lovely splash
	screen with something more approriate for a unstable
	development release. 

Sun Dec 20 23:34:37 MET 1998 Sven Neumann <sven@picman.org>

	* app/rect_select.c: another patch from Xach. Eek, I should have
	waited for him to finish his changes, but it seems to work 
	correctly now.

Sat Dec 19 15:46:27 CST 1998 Shawn T. Amundson <amundson@gtk.org>

	* app/brush_edit.c:
	  app/by_color_select.c:
	  plug-ins/script-fu/script-fu-scripts.c: 
	  plug-ins/compose/compose.c:
	  plug-ins/fp/fp.c:
	  plug-ins/fp/fp_gdk.c:
	  plug-ins/fp/fp_gtk.c:
	  plug-ins/maze/maze_face.c: s/gtk_label_set/gtk_label_set_text/g

Sun Dec 20 00:55:21 MET 1998 Sven Neumann <sven@picman.org>

	* app/rect_select.c: applied the second patch from Xach with
	a slight modification to get centered fixed-size selections
	right.
	
Sat Dec 19 19:19:22 MET 1998 Sven Neumann <sven@picman.org>

	* app/rect_select.c: applied the patch from Xach. Corrects the
	behaviour of ratio-constrained selections. 

Sat Dec 19 15:13:47 MET 1998 Sven Neumann <sven@picman.org>

	* app/session.c: use new gtk_window_set_default_size() to
	restore the size of dialog-windows

Sat Dec 19 00:01:49 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	Missed app/Makefile.am. Need to add palette_entries.h

Fri Dec 18 23:46:11 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	Changed the palette dialog. New functionality. Better previews. 
	Can display larger palettes. Can import palettes from images and from 
	gradients. Fixed colour selection so that the hightlighted
	square says in sync on redraws.
	
	* app/convert.h
	* app/palette.h
	* app/palette.c
	* app/gradient.c
	* app/gradient_select.c
	* app/gimage.c
	* app/picmanimage.c
	* app/picmanimage.h

	New file:-	

	* app/palette_entries.h

Thu Dec 17 03:50:51 PST 1998 Manish Singh <yosh@picman.org>

	* app/Makefile.am: added some missing files

	* README, NEWS, AUTHORS: various sundry changes

Thu Dec 17 03:37:43 PST 1998 Manish Singh <yosh@picman.org>

	* app/crop.c
	* app/picmanimage.c: warning pogrom

1998-12-16  Jay Cox  <jaycox@picman.org>

	* app/xcf.c: fixed bug in the resolution saving code and
	added a sanity check to the resolution loading.

Wed Dec 16 13:27:23 PST 1998 Manish Singh <yosh@picman.org>

	* plug-ins/gfig/gfig.c: removed my_gtk_label_set, since the underlying
	implementation changed. Why was this there anyway?

1998-12-16  Jay Cox  <jaycox@picman.org>

	* app/paint_funcs.c: fixed a bug in combine_inten_and_inten_a_pixels.
	Use INT_MULT and friends everywhere possible.

1998-12-16  Jay Cox  <jaycox@picman.org>

	* libpicman/gserialize.c
	* libpicman/gserialize.h: Changed the enum values to allow for
 	simpler future expansion.
	
	* libpicman/parasite.c
	* libpicman/parasite.h: s/persistant/persistent/.
 	new accessor functions for parasites.  #defines for new flags.

	* app/paintbrush.c: added timeing code for brush strokes.
  	It is #ifed out, and is only valid for shift clicks.
	
	* app/parasite_cmds.h: fixed a warning
	
	* app/parasitelist.h
	* app/parasitelist.c: added _for_each and _length functions
	
	* app/picmandrawable.c:  set the dirty flag when adding or removing a
 	persistent parasite
	
	* app/picmanimage.c: set the dirty flag when adding or removing a
 	persistent parasite.  Fixed bug and removed debug statements in
 	merge_down.

	* app/xcf.c: save and load resolution, parasites, and tattoos.

	* app/main.c: updated the deserialize test.
	
	* plug-ins/tiff/tiff.c
	* plug-ins/gif/gif.c: use PARASITE_PERSISTENT define instead of 1

	* plug-ins/bmp/bmp.c
	* plug-ins/bmp/bmp.h: declare some struct variable as extern.
	
	* app/paint_funcs.c: Lots of optimizations aimed at speeding up
 	painting.  Should see a 2-4X speed up on most painting
 	(depending on paint modes, brush size etc.)

	* app/drawable.c: check for NULL drawable in drawable_ID.
  	this stops us from being crashed by ill-behaved plug-ins

Tue Dec 15 16:18:40 PST 1998 Manish Singh <yosh@picman.org>

	* app/*: stuff from patches/i18n by Daniel Egger

	* app/channels_dialog.c: fixes minor buglets in the channels
	dialog

Mon Dec 14 18:56:42 PST 1998 Manish Singh <yosh@picman.org>

	* removed intl virtual modules, use them new fangled
	autogen.sh's

Sun Dec 13 21:11:24 MET 1998 Sven Neumann <sven@picman.org>

	* plug-ins/dbbrowser/dbbrowser_utils.c: added help display

Sun Dec 13 19:48:50 MET 1998 Sven Neumann <sven@picman.org>

	* app/gdisplay.[ch]
	* app/gimage.c
	* app/interface.c: I guess finally we have the coordinates 
	display working with all font sizes and even after scaling the
	image

Sat Dec 12 17:36:51 GMT 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/interface.c
	* app/gdisplay.c: tweak to make status bar update correctly (most
 	of the time).  As Sven has already noted, there seems to be a GTK
 	bug involved.

	* app/disp_callbacks.c: only update the cursor co-ords if we
 	actually know them.  Gets rid of silly (0,0) announcements.

Thu Dec 10 19:09:53 CET 1998 Marc Lehmann <pcg@goof.com>

	* configure.in: check only for "perl", not "perl5.005xx".

Sat Dec  5 21:31:57 GMT 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/commands.[ch]
	* app/edit_selection.c
	* app/gdisplay.[ch]
	* app/gdisplay_ops.[ch]
	* app/image_render.c
	* app/info_window.c
	* app/magnify.c
	* app/menus.c
	* app/scale.c: image rendering now happens with float scale
	factors, independent in X and Y axes.  Turning on dot-for-dot in view
	menu does what picman always used to do (ie one image pixel becomes
	one monitor pixel).  Dot-for-dot is on by default so people
	shouldn't notice any difference unless they load an image that's
	not at 72 dpi and also turn off dot-for-dot.

	* app/app_procs.c
	* app/picmanrc.[ch]
	* app/preferences_dialog.c: new picmanrc options
	(monitor-xresolution <float>) and corresponding
 	(monitor-yresolution <float>).  Uglyness in preferences dialog to
	add a "Monitor" page to the notebook, allowing user to set their
	monitor's resolution or take it from the X server instead.  This
	badly needs cleaned up :(

	* plug-ins/newsprint/newsprint.c: oops - this hasn't been working
	for grayscale images since my last checkin.  Now fixed.

Sat Dec  5 02:40:52 PST 1998 Manish Singh <yosh@picman.org>

	* libpicman/Makefile.am: add line continuator so all files needed
	are built for libpicmanui

Fri Dec  4 22:21:39 PST 1998 Manish Singh <yosh@picman.org>

	* app/docindex.c: add tree using gtk_scrolled_window_add_with_viewport

Sat Dec  5 04:27:44 MET 1998 Sven Neumann <sven@picman.org>

	* libpicman/Makefile.am
	* libpicman/picmanentry.[ch]: New files. Adds a new widget 
	that allows to specify lengths in pixels, inches and centimeters.
	It is tested, but not yet used anywhere.  As I don't have the time 
	to finish this now, I add this here for later use or for someone else 
	to integrate it into all picman dialogs...

Fri Dec  4 01:43:59 EST 1998 Nick Fetchak <nuke@bayside.net>

	* app/crop.[ch]: Added option to crop the active layer only

Thu Dec  3 16:51:42 CST 1998 Shawn T. Amundson <amundson@gtk.org>

	* app/channel_ops.c
	* app/color_balance.c
	* app/color_select.c
	* app/commands.c
	* app/convert.c
	* app/curves.c
	* app/docindex.c
	* app/errorconsole.c
	* app/file_new_dialog.c
	* app/fileops.c
	* app/gdisplay_ops.c
	* app/histogram_tool.c
	* app/info_dialog.c
	* app/layer_select.c
	* app/levels.c
	* app/pattern_select.c
	* app/plug_in.c
	* app/posterize.c
	* app/resize.c
	* app/threshold.c
	* app/tips_dialog.c: use gtk_container_set_border_width and
	  gtk_window_set_position instead of deprecated versions


Tue Dec  1 22:12:08 CST 1998 Larry Ewing  <lewing@picman.org>

	* app/bezier_select.c: fixed the dialog destroy handling in the
	bezier extends dialog.  

Wed Dec  2 02:40:34 MET 1998 Sven Neumann <sven@picman.org>

	* app/drawable_cmds.[ch]
	* app/internal_procs.c: Export picman_drawable_set_image() to the
	PDB.. Needed for the GAP plug-in.

Tue Dec  1 15:12:29 PST 1998 Manish Singh <yosh@picman.org>

	* app/gradient.c
	* app/gradient_select.c:
	s/gtk_clist_set_border/gtk_clist_set_shadow_type/

	* configure.in
	* libpicman/Makefile.am
	* app/Makefile.am: use PICMAN_THREAD_FOO substitution

	* app/gimage_cmds.c: initialize some vars to quell warnings

Fri Nov 27 22:44:01 PST 1998 Manish Singh <yosh@picman.org>

	* plug-ins/dbbrowser/dbbrowser_utils.c: scrolled window fix

Sat Nov 28 03:36:54 MET 1998 Sven Neumann <sven@picman.org>

	* /app/gimage_mask_cmds.c: fixed an obvious bug (thanks to 
	Wolfgang Hofer <wolfgang.hofer@siemens.at> for reporting it)

Fri Nov 27 17:34:57 1998  Owen Taylor  <otaylor@redhat.com>

	* app/ink.c: Use MAX when combining multiple blobs,
	instead of previous technique.	This gives _much_ 
	better results.

Fri Nov 27 11:45:03 1998  Raph Levien  <raph@picman.org>

	* app/devices.c (devices_restore): changed silent return on
	device_info == NULL to a g_warning_if_fail (now that Gtk+ is fixed,
	this case should never happen).

Wed Nov 25 18:37:44 1998  Owen Taylor  <otaylor@redhat.com>

	* plug-ins/gz/gz.c: We don't need GTK+, and we
	don't use GTK_CFLAGS, so don't include <gtk/gtk.h>.

Wed Nov 25 22:26:11 1998  Raph Levien  <raph@picman.org>

	* app/ink.c (ink_pen_ellipse): Added yet another slider, this time
	for an angle adjustment.

Wed Nov 25 21:41:52 1998  Raph Levien  <raph@picman.org>

	* app/devices.c (devices_restore): Fixed a segv - now it returns
	when there are no devices configured.

Wed Nov 25 22:12:50 CET 1998 Marc Lehmann <pcg@goof.com>

	* plug-ins/script-fu/scripts/line-nova.scm,
	plug-ins/script-fu/scripts/text-circle.scm,
	plug-ins/script-fu/scripts/unsharp-mask.scm: applied update by Shuji
	Narazaki <narazaki@picman.org>.

Wed Nov 25 09:52:23 1998  Raph Levien  <raph@picman.org>

	* app/ink.c (ink_pen_ellipse, create_ink_options): Added tilt
	sensitivity.

Mon Nov 23 06:44:10 PST 1998 Manish Singh <yosh@picman.org>

	* applied picman-stric-981116-1, lots o files changes in app. i18n
	patch.

	* plug-ins/gfig/gfig.c: applied picman-tml-981121-0, use proper PDB
	params

Mon Nov 23 01:17:57 PST 1998 Manish Singh <yosh@picman.org>

	* configure.in: require GTK+ 1.1.5

	* app/bezier_select.c
	* app/channels_dialog.c
	* app/global_edit.c
	* app/layers_dialog.c
	* plug-ins/film/film.c
	* plug-ins/gfig/gfig.c
	* plug-ins/xd/xd.c
	* plug-ins/libgck/gck/gcklistbox.c: fixes for new scrolled window
	viewport behavior

	* libpicman/picmanwire.c
	* app/xcf.c: use g_htonl and friends

	* app/main.c: ditch some unused variables

	* app/Makefile.am: removed unused pixmap references

Thu Nov 19 21:17:19 MET 1998 Sven Neumann <sven@picman.org>

	* app/gdisplay.[ch]
	* app/interface.c: set a proper size for the coordinates display 
	in the statusbar 

Wed Nov 18 17:35:38 MET 1998 Sven Neumann <sven@picman.org>

	* app/app_procs.c: fixed a longstanding bug in the splash-screen.
	Finally it shouldn't resize even with LARGE fonts.

Wed Nov 18 16:44:32 MET 1998 Sven Neumann <sven@picman.org>

	* app/ops_buttons.[ch]
	* app/layers_dialog.c
	* app/channels_dialog.c: new GTK feature greys out buttons
	automatically. Much simpler code now.

	* app/tools/*_is.xpm: removed pixmaps for insensitive state

Tue Nov 17 17:34:34 1998  Raph Levien  <raph@acm.org>

	* plug-ins/waterselect/waterselect.c: Trying to make the response
	a little more polished (i.e. it only picks up paint when you press
	down, not when you pick up). Some Gtk 1.0 fixes.

Mon Nov 16 21:46:39 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/edit_cmds.c
	* app/gimage_mask_cmds.c: fix warnings about using uninitialized
	gimage args + one real uninited variable bug.

Mon Nov 16 19:04:54 MET 1998 Sven Neumann <sven@picman.org>

	* app/gimage_cmds.[ch]
	* app/internal_procs.c: new function to get the drawable a
	floating selection is attached to (for the gap plug-in)

Sun Nov 15 19:36:02 MET 1998 Sven Neumann <sven@picman.org>

	* app/floating_sel_cmds.[ch]
	* app/internal_procs.c: export floating-selection functions
	to the PDB (needed for the XJT-plug-in by Wolfgang Hofer)

Sun Nov 15 17:54:18 MET 1998 Sven Neumann <sven@picman.org>

	* plugins/script-fu/scripts/waves-anim.scm: cosmetic fix

	* app/app_procs.c: cosmetic fix

	* app/gimage.h
	* app/gimage_cmds.[ch]
	* app/picmanimage.[ch]
	* layer_cmds.[ch]
	* layers_dialog.c: first set of changes to integrate GAP
	(Picman Animation Plugin written by Wolfgang Hofer)
	new functions: picman_layer_[get|set]_linked
	               picman_image_raise_layer_to_top
		       picman_image_lower_layer_to_bottom		 

Sun Nov 15 15:05:22 MET 1998 Sven Neumann <sven@picman.org>

	* app/gdisplay.h
	* app/interface.c: fixed my latest changes

1998-11-15  Tuomas Kuosmanen  <tigert@picman.org>

	* picman.spec: changed wilbur to wilber in RPM/*.xpm,
	updated picman.spec accordingly. Can someone like Marc
	check that I didnt break anything, I tried to be very 
	gentle :)
	

Sun Nov 15 13:09:43 CET 1998 Marc Lehmann <pcg@goof.com>

	* app/blend.c: allow the use of DIVIDE_MODE.

Sat Nov 14 23:16:55 GMT 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/picmanimage.h
	* app/picmanimageP.h
	* app/picmanimage.c
	* app/gimage_cmds.c
	* app/file_new_dialog.c
	* app/info_window.c
	* libpicman/picman.h
	* libpicman/picmanimage.c
	* plug-ins/newsprint/newsprint.c
	* plug-ins/tiff/tiff.c: picman_image_{get,set}_resolution() calls
	now get and set both X and Y resolutions.  Picman image struct now
	has two resolution fields, one for each direction.  I've updated
	the two plugins which used the info (TIFF and newsprint).

Sat Nov 14 20:15:46 CET 1998 Marc Lehmann <pcg@goof.com>

	* plug-ins/script-fu/scripts/*: removed the image
	argument from functions that no longer need it.

Sat Nov 14 20:02:31 GMT 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/rect_select.c: deal with zero-size selections correctly (ie,
	select the whole image but don't show marching ants).

	* app/app_procs.c: sort out colourmap before creating splash
	window, so if we need to install a private cmap then everything
	will use it.

	* plug-ins/newsprint/newsprint.c: delete spurious debugging printf.

Fri Nov 13 23:07:22 MET 1998 Sven Neumann <sven@picman.org>

	* app/gdisplay.[ch]
	* app/interface.c: applied the patch from 
	Kevin Cozens <kcozens@interlog.com>:

	size of area displaying cursor position
 	is now adjusted to fit maximum possible cursor values
 	
Fri Nov 13 16:48:10 CET 1998 Marc Lehmann <pcg@goof.com>

	* app/airbrush.c, app/blend.c, app/brightness_contrast.c,
	app/bucket_fill.c by_color_select.c, app/channel_ops.c, app/clone.c,
	app/color_balance.c color_picker.c, app/convolve.c, app/curves.c,
	app/desaturate.c, app/edit_cmds.c equalize.c, app/eraser.c,
	app/flip_tool.c, app/fuzzy_select.c, gimage_mask_cmds.c
	app/histogram_tool.c, app/hue_saturation.c, app/invert.c, levels.c,
	app/pencil.c app/paintbrush.c, app/perspective_tool.c,
	app/posterize.c, rotate_tool.c app/scale_tool.c, app/shear_tool.c,
	app/text_tool.c, app/threshold.c:

	API-mega-break-it-all patch part one: removed the unnecessary
	PDB_IMAGE argument from many functions.

1998-11-12  Jay Cox  <jaycox@picman.org>

	* app/drawable_cmds.c, app/gimage_cmds.c
	* app/parasite_cmds.c, libpicman/parasite.[ch],
	* libpicman/picman.c, libpicman/picmanprotocol.c
	* tiff.c, gif.c, script-fu.c: removed all references to
 	parasite_error() and parasite_is_error().  Enable the
	passing of null parasites in the pdb.  Return a copy of the
	parasite instead of the orginal in all pdb functions.

Wed Nov 11 04:18:57 PST 1998 Manish Singh <yosh@picman.org>

	* configure.in: fix buglet with making GLIB_LIBS (shouldn't have
	been tripped, but bug nevertheless)

Wed Nov 11 02:27:46 CET 1998 Marc Lehmann <pcg@goof.com>

	* libpicman/picman.c (picman_run_procedure2): fixed a memory leak,
	(picman_destroy_paramdefs) new function.
	* libpicman/picman.h (picman_destroy_paramdefs): added prototype.
	* libpicman/picmanfeatures.h.in (PICMAN_HAVE_DESTROY_PARAMDEFS): new macro.
	* plug-ins/script-fu/script-fu.c (init_procedures): fixed a
	big memory leak (this also applied to perl!)

Tue Nov 10 23:44:07 MET 1998 Sven Neumann <sven@picman.org>

	* libpicman/picmanmatrix.[ch]
	* app/transform_core.c: minimal speedup

	* app/scale_tool.c: Use transform_core_do() for scaling too.
	This gives a consistent behaviour regarding the corrective transform
	and seems to be faster anyway...

Mon Nov  9 16:20:33 MET 1998 Sven Neumann <sven@picman.org>

	* app/session.c: use gdk_window_get_root_origin to get the window
	position

	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/scripts/test-sphere.scm: small cosmetic fixes

Sun Nov  8 17:51:52 PST 1998 Manish Singh <yosh@picman.org>

	* Makefile.am
	* README.i18n: new file, explains i18n stuff

	* plug-ins/script-fu/scripts/(lots of files): applied
	picman-ruth-981108-0, use nice SF-FONT and SF-FILENAME stuff

	* plug-ins/png/png.c: applied picman-ruth-981108-1, fixes loader for
	some indexed pngs. Also default to level 6 compression, level 9
	compression is cpu hungry and isn't much of a win compared to 6.

	* plug-ins/tiff/tiff.c: applied picman-ruth-981108-2, major tiff
	rework

1998-11-08  Raja R Harinath  <harinath@cs.umn.edu>

	* configure.in (sendmail_path): Prefer /usr/sbin/sendmail to
	/usr/lib/sendmail.

1998-11-07  Jay Cox  <jaycox@picman.org>

	* libpicman/{picman.h, picmanchannel.c, picmandrawable.c, picmanlayer.c}:
	export the tattoo functions to the plug-ins

	* libpicman/gserialize.c, libpicman/gserialize.h: new files for
	serializing structures

	* main.c: test the gserialize functions

	* picmansignal.h: declare picman_sigtype_* as extern

Thu Nov  5 16:42:21 PST 1998 Manish Singh <yosh@picman.org>

	* Makefile.am: added MAINTAINERS to EXTRA_DIST

	* configure.in: nicer -Wall, -ansi, etc. adding for CFLAGS with gcc

	* libpicman/parasite*.h
	* libpicman/picmanintl.h
	* app/Makefile.am
	* po/Makefile.in.in
	* configure.in: portablity, locale patch (picman-joke-981028-0)

	* configure.in
	* plug-ins/Makefile.am: added lic, mapcolor, and xbm plug-ins

	* app/app_procs.c
	* app/menus.c: cosmetic message fixes

	* libpicman/parasite.c: use %p to print pointers

	* plug-ins/dbbrowser/dbbrowser_utils.[ch]: changes for new clist
	stuff

	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/scripts/carved-logo.scm
	* plug-ins/script-fu/scripts/chrome-it.scm
	* plug-ins/script-fu/scripts/crystal-logo.scm
	* plug-ins/script-fu/scripts/neon-logo.scm
	* plug-ins/script-fu/scripts/sota-chrome-logo.scm: applied
	picman-ruth-981103-0, adds a filesel to script-fu and SF-FILENAME
	param type. Make some scripts use this.

Thu Nov  5 21:55:46 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/gradient.c
	* app/gradient_select.c

	Changes due to gtk+ updates. Clist have been changed recently
	in gtk which required changes to source code. These changes
	have only been tested with the gtk version that introduced these
	changes. (so lets get all those updates going...)

Wed Nov  4 11:24:55 EST 1998   Adrian Likins <adrian@picman.org>

	* MAINTAINERS: added a list of current maintainers
	  and developers and what they work on.

Wed Nov  4 22:23:18 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/gradient.c
	* app/Makefile.am

	New files

	* app/gradient_select.c
	* app/gradient_header.h

	Split gradient selector dialog out of the main gradient code.
	New gradient headerfile that contains the key gradient structures
	and #defines.

Tue Nov  3 21:47:53 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* plug-ins/script-fu/scripts/comic-logo.scm
	* plug-ins/script-fu/scripts/glossy.scm
	* plug-ins/script-fu/scripts/land.scm
	* plug-ins/script-fu/scripts/lava.scm
	* plug-ins/script-fu/scripts/rendermap.scm

	Updated these scripts to use the new SF-GRADIENT Script-fu type.

Tue Nov  3 04:39:40 EST 1998  Adrian Likins <adrian@picman.org>

	* plug-ins/script-fu/scripts/swirl-tile.scm: ooops, I accidently
	committed a broken file again. Found by Nick Lamb.

Sun Nov  1 21:20:04 1998  Austin Donnelly  <austin@greenend.org.uk>

	* libpicman/picmanfeatures.h.in: new feature: PICMAN_HAVE_RESOLUTION_INFO
	* plug-ins/newsprint/newsprint.c: updated to version 0.50:
	 - use resolution info from images to set initial value of "Input
	   SPI" slider.
	 - Sliders now locked togther correctly.
	 - Got rid of timing message.
	 - Fixed compile warnings on Alphas.
	 - Option menu to select the channel to edit to save screen real
 	   estate (tickles a cosmetic bug in gtk, get the latest version).
	 - Moved from <Image>/Filter/Misc to .../Render

Sat Oct 31 21:47:14 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/gradient.c

	Fixed for problems with renaming + fix for interactions between editor
	and gradient selection popups.

Sat Oct 31 14:57:40 GMT 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/gradient.c
	* app/gradient.h
	* app/internal_procs.c
	* app/plug_in.c
	* app/session.c
	* app/session.h
	* libpicman/Makefile.am
	* libpicman/picmanmenu.h
	* libpicman/app/picmanrc.c
	* libpicman/libpicmanmenu.c
	* plug-ins/script-fu/scripts/test-sphere.scm
	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/script-fu-scripts.c

	New file:-

	* libpicman/picmangradientmenu.c

	New gradient selector widget (smaller than the editor). This can now
	be controlled via the PDB.

	New widget which gives easy way to do gradient selections. This
	new widget is used by script-fu (see the test->sphere script).

	gradient.c needs to be split up (source is almost already split
	I will complete this RSN).

Sat Oct 31 01:37:23 CET 1998 Marc Lehmann <pcg@goof.com>

	* configure.in: make perl use the GLIB_CFLAGS/LIBS vars properly.

Tue Oct  6 11:07:56 CEST 1998 Marc Lehmann <pcg@goof.com>

	* app/drawable_cmds.c: corrected documentation for picman_drawable_fill.

Fri Oct 30 01:53:56 1998  Jay Cox  (jaycox@picman.org)

	* app/parasitelist.c
	* app/parasitelist.h
	* app/parasitelistF.h
	* app/parasitelistP.h: new files to implement a list class for
	storing parasites in hash tables.

	* app/picmanparasite.c
	* app/picmanparasite.h: new files for attaching parasites to the picman.

	* app/Makefile.am, app/app_procs.c, app/channel.c, app/channel.h,
	* app/file_new_dialog.c, app/gimage_cmds.c, app/gimage_cmds.h,
	* app/picmandrawable.c, app/picmandrawable.h, app/picmandrawableP.h,
	* app/picmanimage.c, app/picmanimage.h, app/picmanimageF.h, app/picmanimageP.h,
	* app/internal_procs.c, app/layer.c, app/layer.h, app/parasite_cmds.c,
	* app/parasite_cmds.h, app/plug_in.c:  various changes to utillize
	the above new files

 	* app/preferences_dialog.c: remove unecessary #include

	* libpicman/picmanfeatures.h.in: #define PICMAN_HAVE_PARASITES

	* plug-ins/script-fu/script-fu-console.c: ugly work around for a bug
	I can't track down.  Posibly in gtk+, or unique to my system.

	* plug-ins/script-fu/script-fu.c: fix a bug in parasite parsing

	* libpicman/Makefile.am, libpicman/picman.h, libpicman/picmandrawable.c,
	* libpicman/picmanimage.c, libpicman/picmanparasite.c, libpicman/parasite.c
	: removed parasite_slist functions.  added new parasite functions.

	* libpicman/picmanmatrix.h, libpicman/parasite.h: added extern "C"

Tue Oct 27 01:21:17 PST 1998 Manish Singh <yosh@picman.org>

	* app/indexed_palette.c: applied picman-ruth-981025-0, cosmetic fix
	for indexed palette dialog

	* app/fileops.[ch]
	* app/gimage.h
	* app/picmanimage.[ch]
	* app/picmanimageP.h: applied picman-ruth-981025-1, remember LAST_VALS
	for image save

Sun Oct 25 18:59:56 CET 1998 Marc Lehmann <pcg@goof.com>

	* configure.in: changed order in library search path
	for the perl plug-in.

Sat Oct 24 22:42:10 PDT 1998 Manish Singh <yosh@picman.org>

	* applied picman-joke-981006-0, portabilty patch

Sat Oct 24 22:05:16 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: sinclude by hand to work around automake 1.3 bug

Sat Oct 24 14:53:19 EDT 1998  Adrian Likins <adrian@picman.org>

	* app/plug_in.c: fix from Tor Lillqvist <tml@iki.fi>
	to make scriptfu work again (argc = 1; line 2281)

Fri Oct 23 00:58:37 CEST 1998 Marc Lehmann <pcg@goof.com>

	* configure.in: got rid of the ugly but harmless autoconf warning
	in line 117.

Thu Oct 22 20:28:18 CEST 1998 Marc Lehmann <pcg@goof.com>

	New directory tree plug-ins/perl/*

	The picman-perl extension: many, many new files and directories (see
	plug-ins/perl/MANIFEST for a list).

	It uses a private ChangeLog in plug-ins/perl/Changes.

	* configure.in, plug-ins/Makefile.am, INSTALL: changed to accomodate
	the new extension.

	* config.h.in: added HAVE_VSNPRINTF, removed duplicate HAVE_VPRINTF.

Thu Oct 22 04:35:43 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/checkerboard/checkerboard.c: fixed a buglet that
	caused an FP exception in PsychoBilly mode

	* added borderaverage, wind, jigsaw, and newsprint plug-ins

Thu Oct 22 02:30:38 PDT 1998 Manish Singh <yosh@picman.org>

	* libpicman/Makefile.am
	* configure.in: fix --disable-static compilation

	* picmantool.in: use the right dir for scripts. Strip out path
	from the compiled bin

	* app/colormaps.c: comment out unused gamma_correct function

	* app/layer.c: #include "libpicman/parasite.h"

	* app/paint_funcs.c: convert icky C++ comments

	* plug-ins/mosaic/mosaic.c
	* plug-ins/cubism/cubism.c: cleanups

	* plug-ins/libgck/gck/gckcolor.c: fix adaptive supersampling bug

Wed Oct 21 23:37:01 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	Fixed a problem in gradient.c where if a gradient was selected
	via the PDB and the editor has not been displayed on the screen
	picman would crash.


Wed Oct 21 22:38:07 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* plug-ins/script-fu/scripts/beveled-pattern-arrow.scm
	* plug-ins/script-fu/scripts/beveled-pattern-bullet.scm
	* plug-ins/script-fu/scripts/beveled-pattern-button.scm
	* plug-ins/script-fu/scripts/beveled-pattern-heading.scm
	* plug-ins/script-fu/scripts/beveled-pattern-hrule.scm
	* plug-ins/script-fu/scripts/chip-away.scm
	* plug-ins/script-fu/scripts/glossy.scm
	* plug-ins/script-fu/scripts/test-sphere.scm
	* plug-ins/script-fu/scripts/textured-logo.scm

	These scripts use new script-fu type

	* plug-ins/gfig/gfig.c

	Redid yosh fix since I broke backwards compat. in
	picman_interactive_selection_brush().

Wed Oct 21 20:15:14 CEST 1998 Marc Lehmann <pcg@goof.com>

	* app/plug_in.h, app/plug_in.c, app/procedural_db.c: Added an "argc"
	parameter to plug_in_run and changed all callers so that they only
	pass as much arguments as necessary (should be done for
	procedural_db_execute as well).

Tue Oct 20 18:34:38 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/gfig/gfig.c: make it compile. Does it work?
	Mr. Tootums knows!

Tue Oct 20 23:20:40 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/brush_select.h
	* app/brush_select.c
	* app/internal_procs.c
	* app/picmanbrushlist.c
	* libpicman/Makefile.am
	* libpicman/picmanmenu.h
	* libpicman/picmanmenu.c
	* plug-ins/script-fu/scripts/3d-outline.scm
	* plug-ins/script-fu/scripts/test-sphere.scm
	* plug-ins/script-fu/scripts/trochoid.scm
	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c

	New file libpicman/picmanbrushmneu.c.

	Brush dialog can now be fully controlled via the PDB. New widget (not
	true widget) type added to libpicmanui (picman_brush_select_widget()).
	Plugins should easily be able to control & select brushes. Script-fu
	updated to use new widget. See the test script for example.

	Started to change some of the scripts to use the new widget types.

1998-10-19  Christopher James Lahey  <clahey@umich.edu>

	* app/docindex.c: New Drag & Drop works now.

1998-10-19  Christopher James Lahey  <clahey@umich.edu>

	* app/docindex.c: Updated document index to use new Drag & Drop
	interface.

	* app/docindex.c, app/docindexif.c, app/docindexif.h: Moved
	internationalization #include to make docindex work with go again.

Sun Oct 18 16:26:51 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/paleete.c: ooops, commited a work in progress
	(ie,  broken...) palette.c. Reverted.

Sun Oct 18 21:20:25 BST 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/clone.c: don't bail if we don't have a source drawable if
	we're actually using a pattern as source.

	* app/file_new_dialog.c: set new image resolution correctly.
	Previously wasn't taking into account the units, and assuming
	dpi.  When using existing image as a template for size, take
	resolution too.  Make sure cm/inch option menus are persistent
	across dialog popups.

Wed Oct 14 17:46:15 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/*, po/de.po, de/POTFILES.in, libpicman/picmanintl.h:
	Lots of ii8n stuff here and some additions to the de.po.
	Applied picman-egger-981005-1 ,picman-egger-981006-1,
	picman-egger-981007-1, picman-egger-981008-1,
 	picman-egger-981009-1.patch, picman-egger-981010-1.patch.
	Patches provided by Daniel Egger <Daniel.Egger@t-online.de>

	* plug-in/guillotine/guillotine.c: added the coordinates
	of the split images from the original image to the title.
	ie foo.jpg (0,0) for the image in the topleft.

	* plug-in/script-fu/scripts/neon-logo.scm,
	perspective-shadow.scm, predator.scm,rendermap.scm,
	ripply-anim.scm, select_to_image.scm,swirltile.scm,
	xach-effect.scm: updated scripts to use new script-fu stuff

Wed Oct 14 22:58:04 BST 1998  Austin Donnelly  <austin@greenend.org.uk>

	* app/color_select.c: fix silly bug with off-by-one error in
 	redraw of crosshair.
	* HACKING: update of anon-cvs info to track new location.

Tue Oct 13 19:24:03 1998  Jay Cox  (jaycox@picman.org)

	* app/parasite.c
	* app/parasite.h
	* app/parasiteF.h
	* app/parasiteP.h : use a single name field instead of seperate
	creator/type fields.  moved to libpicman/parasite*

	* libpicman/Makefile.am
	* libpicman/picman.c
	* libpicman/picman.h
	* libpicman/picmandrawable.c
	* libpicman/picmanimage.c
	* libpicman/picmanprotocol.c
	* libpicman/picmanprotocol.h
	* app/Makefile.am
	* app/channel.c
	* app/channel.h
	* app/channel_cmds.c
	* app/channel_cmds.h
	* app/drawable_cmds.c
	* app/gimage_cmds.c
	* app/picmandrawable.c
	* app/picmandrawable.h
	* app/picmandrawableP.h
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanimageP.h
	* app/internal_procs.c
	* app/layer.c
	* app/layer.h
	* app/layer_cmds.c
	* app/layer_cmds.h
	* app/parasite_cmds.c
	* app/plug_in.c
	* app/procedural_db.c: Add tattoos to layers and drawables.
	Use new style parasites.

	* libpicman/picmanmatrix.c
	* libpicman/picmanmatrix.h: new files for matrix math.

	* app/perspective_tool.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/shear_tool.c
	* app/transform_core.c
	* app/transform_core.h: use PicmanMatrix instead of the old matrix
	code from transform_core.

	* lipicman/picmanparasite*: removed.  now useing the same source
	for plug-ins and the core.

	* plug-ins/script-fu/script-fu.c
	* plug-ins/tiff/tiff.c
	* plug-ins/gif/gif.c: updated to use new style parasites.

Tue Oct 13 22:01:41 BST 1998  Andy Thomas <alt@picnic.demon.co.uk>

	app/brush_select.[ch] Fixed problem with resizing the brush popup
	dialogs.

Tue Oct 13 00:27:21 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	app/gradients.c. Added gradient preview and a couple of buttons.


Mon Oct 12 10:25:05 EEST 1998 Tuomas Kuosmanen <tigert@picman.org>

	* plug-ins/MapObject/mapobject_main.c: changed the
	location in the menus - appears now under Filters->Map
	instead of Filters->Distort

Sun Oct 11 15:45:21 PDT 1998 Manish Singh <yosh@picman.org>

	* libpicman/picman.h
	* plug-ins/jpeg.c
	* plug-ins/tiff.c: applied picman-austin-981010-0, fixes compilation
	warnings for jpeg and tiff plugin

	* plug-ins/tiff/tiff.c: applied picman-austin-981011-0, adds comment
	parasite support to tiff plugin

	* app/color_select.c: applied picman-austin-981011-1, fixes color
	selector redraw bug

	* app/layer.c: applied picman-austin-981011-2, fixes marching ants
	weirdness (doesn't move when selection moved)

Sat Oct 10 00:48:30 PDT 1998 Manish Singh <yosh@picman.org>

	* app/temp_buf.c: applied picman-entity-980929-1, adds
	write error handling

	* app/picmanrc.c
	* app/install.c
	* app/tips_dialog.c: allow use of PICMAN_DATADIR to override
	compiled in default

	* HACKING
	* autogen.sh: we need libtool 1.2b now

Fri Oct  9 18:52:52 BST 1998  Adam D. Moss  <adam@picman.org>

	* plug-ins/gif/gif.c: Added support for persistant GIF
	Comments through the PICMAN 1.1 Parasite mechanism where available.
	Did some user-interface tweaks.  Fixed a bug when trying to save
	a GIF smaller than five pixels high as interlaced.

	* app/convert.c: Minor text amendment

	* docs/parasites.txt: Started a central list of parasite types
	and their creators.

Thu Oct  8 01:01:18 1998  Jay Cox  (jaycox@picman.org)

	* app/Makefile.am
	* app/channel.c
	* app/drawable_cmds.c
	* app/drawable_cmds.h
	* app/gimage_cmds.c
	* app/gimage_cmds.h
	* app/picmandrawable.c
	* app/picmandrawable.h
	* app/picmandrawableP.h
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanimageP.h
	* app/internal_procs.c
	* app/layer.c
	* app/plug_in.c
	* app/procedural_db.c
	* app/procedural_db.h
	* libpicman/Makefile.am
	* libpicman/picman.c
	* libpicman/picman.h
	* libpicman/picmandrawable.c
	* libpicman/picmanenums.h
	* libpicman/picmanimage.c
	* libpicman/picmanprotocol.c
	* libpicman/picmanprotocol.h
	* libpicman/picmanprotocol.h
	* libpicman/picmanparasite.c (new file)
	* libpicman/picmanparasite.h (new file)
	* app/parasite.h (new file)
	* app/parasite.c (new file)
	* app/parasiteP.h (new file)
	* app/parasiteF.h (new file)
	* app/parasite_cmds.c (new file)
	* app/parasite_cmds.h (new file)
	* plug-ins/dbbrowser/dbbrowser_utils.c
	* plug-ins/script-fu/script-fu.c:
	Allow plug-ins (and scripts) to attach arbitrary data
	(parasites) to images, layers and channels that can be read
	back at a later time.

	* plug-ins/tiff/tiff.c: Utilize parasites to keep track of the
	compression type and byte ordering of tiff files.

Wed Oct  7 01:52:01 PDT 1998 Manish Singh <yosh@picman.org>

	* app/text_tool.[ch]: applied picman-austin-981007-0, use gtkfontsel
	for the text tool

	* app/about_dialog.c: some nice people ;)

Mon Oct  6 21:51:00 CST 1998 Seth Burgess <sjburges@picman.org>

	* plug-ins/tile/tile.c: Fixed typo in description, changed data
	type to sensible ones, gave second paramter a .type

Mon Oct  5 01:08:11 CST 1998 Seth Burgess <sjburges@picman.org>

	*  app/layer_cmds.c: Changed "is_floating_sel" from PDB_CHANNEL
	to PDB_INT32

	* plug-ins/script-fu/scripts/add-bevel.scm
	* plug-ins/script-fu/scripts/bovinated-logo.scm
	* plug-ins/script-fu/scripts/comic-logo.scm
	* plug-ins/script-fu/scripts/gradient-bevel-logo.scm
	* plug-ins/script-fu/scripts/pupi-button.scm:
	removed extra paramters from some function calls that
	didn't break script-fu but were wrong anyway.

	Many thanks to Marc Lehman for reporting these.  More to come.

Mon Oct  5 23:56:09 EEST 1998 Lauri Alanko <nether@picman.org>

	* po/fr.po: fixed a compile-halting typo

Mon Oct  5 16:18:08 EDT 1998  Matthew Wilson  <msw@picman.org>

	 * app/channels_dialog.c: fixed assignment in g_return_if_fail
	 pointed out by Ben Jackson

Mon Oct  5 02:42:47 PDT 1998 Manish Singh <yosh@picman.org>

	* app/general.c: applied picman-bjj-980922-0, makes get_token's
	EOF report "sticky"

	* app/devices.c: applied picman-bjj-980922-1, sanity check our
	saved device info for NULL pointers

	* app/file_new_dialog.c
	* app/gimage_cmds.[ch]
	* app/picmanimage.[ch]
	* app/info_window.c
	* app/internal_procs.c
	* libpicman/picman.h
	* libpicman/picmanimage.c
	* plug-ins/tiff/tiff.c: applied picman-austin-980916-0, adds resolution
	info to PicmanImage, with accessors, and support in the tiff plug-in

Mon Oct  5 00:28:58 PDT 1998 Manish Singh <yosh@picman.org>

	* po/de.po
	* configure.in: added German translation from Daniel Egger
	<Daniel.Egger@t-online.de>

Sun Oct  4 22:18:11 BST 1998 Adam D. Moss <adam@picman.org>

	* app/palette.c: Had a look at making the window resizable,
	got scared.  Made the palette dialog a bit smaller.

	* app/indexed_palette.c: The window is now resizable without
	falling foul to previously existing bugs.  It won't win you
	anything though.

Sun Oct  4 21:07:07 BST 1998 Adam D. Moss <adam@picman.org>

	* app/ink.c app/paint_core.c: The paint and ink tools
	are synchronous.

Sat Oct  3 21:01:34 BST 1998 Adam D. Moss <adam@picman.org>

	* app/channel.c app/channel_ops.c app/disp_callbacks.c
	app/floating_sel.c app/gdisplay.c app/gdisplay.h
	app/gdisplay_ops.c app/picmanimage.c app/image_map.c
	app/interface.c app/layers_dialog.c app/plug_in.c app/undo.c
	app/xcf.c:

	Resizing image canvases should be less horrible to look at.
	I've removed the implicit clear of the whole area when a
	window is resized by the user, and clear the exposed area around
	the image manually when appropriate.

	Dialogs which want synchronous updates for previews and
	such use displays_update_now().

	Removed some old debugging nonsense which I don't want any more.

Thu Oct  1 22:39:14 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/patterns.c app/pattern_select.c app/internal_procs.c
	* app/patterns.h app/pattern_select.h app/plug_in.c
	* libpicman/picmanmenu.h libpicman/picmanmenu.c libpicman/Makefile.am
	* plug-ins/gfig/gfig.c plug-ins/script-fu/scripts/test-sphere.scm
	* plug-ins/script-fu/script-fu.c plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c

	* New libpicman/picmanpatternmenu.c

	Pattern dialog can now be controlled via the PDB. New widget (not true
	widget) type added to libpicmanui (picman_pattern_select_widget()). Plugins
	should easily be able to control & select patterns. Script-fu
	updated to use new widget. See the test script for example.


Thu Oct  1 17:10:32 BST 1998 Adam D. Moss <adam@picman.org>

	* app/gdisplay.c app/gdisplay.h: Okay, that didn't
	take quite as long as expected.  This is the first cut at
	a picman-wide IdleRender in place of the previously synchronous
	displays_update().  A synchronous displays_update_now() is
	implemented for stuff like brushes, but it isn't used right
	now.  (Seems to go pretty well without.)

	I need feedback and (previously nonexistant!) bug reports...
	please. =)

Thu Oct  1 12:44:19 BST 1998 Adam D. Moss <adam@picman.org>

	* app/floating_sel.c app/gdisplay.c app/gdisplay.h
	app/picmanimage.c app/layers_dialog.c app/undo.c:
	Temporarily disabled IdleRender code whilst working
	on a more centralised approach.

Wed Sep 30 10:48:00 CST 1998 Seth Burgess <sjburges@ou.edu>
	* picman_tips.txt: Ran it through ispell

1998-09-29  Sung-Hyun Nam  <namsh@lgic.co.kr>

	* po/ko.po: New file with Korean translations (some).
	* configure.in (ALL_LINGUAS): Added 'ko'

Mon Sep 28 18:08:14 BST 1998  Adam D. Moss <adam@picman.org>

	* plug-ins/gif.c: Fixed an uninitialized variable bug
	which was making TigerT's gifs blow up.  Sigh!

Sun Sep 27 13:53:03 BST 1998  Adam D. Moss <adam@picman.org>

	* app/paint_funcs.c: Fixed a bug in color_only_pixels(),
	fixed a possible bug in border_region().

Sat Sep 26 20:46:18 BST 1998  Adam D. Moss <adam@picman.org>

	* app/channel.c app/channel_ops.c app/drawable.c
	app/floating_sel.c app/gdisplay.c app/gdisplay.h
	app/picmanimage.c app/layers_dialog.c app/undo.c:

	Moved the idlerender stuff into gdisplay.c.  Implemented
	idlerender when doing floating_sel->layer, and undoing/redoing
	layer deletion.

	idlerender would be useful in many other places for improving
	interactivity, if it weren't for the following problems:

		* By definition, idlerender doesn't wait for a
		gdisplays_update() call	before starting work - it just
		runs in idle time, which due to CPU contention with
		plugins may not	be genuinely available idle time when
		things are 'noninteractive'.

		* Most PICMAN functions don't know whether they're
		being run interactively or not.  idlerender only
		makes sense for interactive work.  This is why
		it is currently only applied to those functions which
		would normally only be activated manually.

		* Mixing idlerender and drawable_update() /
		gdisplays_update_area() calls can lead to a region
		being rerendered twice.

	Hence, some slogwork is needed before idlerender can be
	applied in the more general case.

Sat Sep 26 00:54:14 EDT 1998   Adrian Likins <adrian@picman.org>

	*picmantool.1: minor update to add info about -strip
	build options.

Fri Sep 25 18:05:39 BST 1998  Adam D. Moss <adam@picman.org>

	* app/layers_dialog.c: Tied up some loose ends.

Thu Sep 24 12:39:27 BST 1998  Adam D. Moss <adam@picman.org>

	* app/brush_edit.c: #include <string.h> for memset

	* app/layers_dialog.c:

	Display re-rendering is now handled in an interruptible
	asynchronous idle-threaded, uh, paradigm shift.

	The upshot of this is that fiddling about with layers
	in the layers dialog is now a shipload faster for some
	common operations.

	Still needs to be ratified w.r.t. multiple gimages, but
	it's there.

Wed Sep 23 18:07:54 1998  Jay Cox  (jaycox@picman.org)

	* app/channel.[ch]
	* app/channel_cmds.c
	* app/drawable.h
	* app/channels_dialog.c
	* app/gimage_cmds.c
	* app/picmandrawable.[ch]
	* app/picmanimage.c
	* app/layer.[ch]
	* app/layer_cmds.c
	* app/layer_select.c
	* app/layers_dialog.c: enforce unique names for layers and
	channels.  New functions {channel,picman_drawable,layer}_{get,set}_name

Mon Sep 21 02:05:50 PDT 1998 Manish Singh <yosh@picman.org>

	* app/text_tool.c: correct test for restoring old foundry in
	callback (from Trent Piepho)

	* plug-ins/gauss_iir/gauss_iir.c
	* plug-ins/gauss_rle/gauss_rle.c: better test for bad values,
	put fix in gauss_rle too

Sun Sep 20 15:52:21 PDT 1998 Manish Singh <yosh@picman.org>

	* Upgraded to libtool 1.2b

	* Reversioned libpicman to use gtk-style without a funky soname

	* configure.in: craft GLIB_CFLAGS and GLIB_LIBS

	* Makefile.am (pretty much all of em): changed to use new library
	naming scheme. Only link libpicmanui and libgtk et al to the plugins
	that actually need them.

	* app/gimage_cmds.c: corrected typo that resulted in corrupt PDB
	record

	* libpicman/picman.h
	* libpicman/picmanwire.h
	* libpicman/picmanmenu.[ch]: clean up the callback code

	* Removed unecessary inclusion of gtk headers for plugins that
	don't use em

	* plug-ins/zealouscrop/zealouscrop.c: use gint8 instead of gboolean,
	save some mem

	* plugged some warnings in animationplay, flame, fp, gee, gfig

	* picmantool.in: changes for library reversioning, added --nopicmanui
	option for not linking in libpicmanui

	* configure.in: added finnish translation

Sun Sep 20 12:57:00 CST 1998 Seth Burgess <sjburges@picman.org>

	* plug-ins/gauss_iir/gauss_iir.c: Fixed segfault if neither
	horizontal nor vertical was selected (as reported by Marc Lehman).

Sat Sep 19 01:19:18 BST 1998 Andy Thomas <alt@picnic.demon.co.uk>

	* app/blend.c app/brush_select.c app/brush_select.h app/bucket_fill.c
	app/picmanbrushlist.c app/internal_procs.c app/plug_in.c libpicman/picman.c
	libpicman/picman.h libpicman/picmanmenu.c libpicman/picmantile.c
	plug-ins/gfig/gfig.c

	Infrastructure to allow picman dialogs to be controlled from plugins.
	Brush dialog can now be invoked multiple times. Dialogs invoked
	via plugins do not control the active brush (dialog only used for
	selections).
	New picman_interactive_selection_brush() function to popup dialog
	Example of usage in the gfig plugin.
	Other dialogs should be able to use this method of invocation.

Tue Sep 15 21:27:10 BST 1998  Adam D. Moss <adam@picman.org>

	* plug-ins/gif.c:
	The facility to specify the background colour of
	a transparent/animated GIF for non-transparent
	viewers now works very much more consistantly.
	The only situations in which it will fail to work
	as expected now are those where file size can be reduced
	(abeit not by much, as the plugin is sometimes more pessimistic
	than it need be) by re-using an existing unused colour
	index rather than using another bit per pixel in the
	encoded file.  That will never be an issue with an image
	which was freshly converted from RGB to INDEXED with the
	Quantize option, as that option removes any unused colours
	from the image.

	Let me know if you find the consistancy/size tradeoff more
	annoying than helpful and I can adjust it.  IMHO it is too
	arcane a feature to present to any user as a runtime option.

	* app/ink.c: #include <string.h> for a memset

Mon Sep 14 18:51:54 1998  Jay Cox  (jaycox@picman.org)

	* app/picmanbrushgenerated.c app/picmanbrushgenerated.h
	* app/paint_funcs.c app/paint_funcs.h:
	Made function parameters const where appropriate

Fri Sep 11 11:15:17 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/file_new_dialog.c: fixed a typo that wouldnt let
	you create images smaller than 1 unit

1998-09-11  Tristan Tarrant  <ttarrant@etnoteam.it>

	* po/it.po: New file with Italian translations (some).

	* configure.in (ALL_LINGUAS): Added "it"

Thu Sep 10 13:26:51 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in
	* po/ja.po: added a preliminary Japanese translation from
	Yasuhiro SHIRASAKI <joke@awa.tohoku.ac.jp>

Thu Sep 10 12:00:55 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/script-fu-console.[ch]: added an eval
	PDB interface for running arbitrary scheme code

	* app/batch.c: redid batch mode to use script-fu-eval

	* app/main.c: fixed command line parsing for batch mode and
	image loading

Wed Sep  9 03:02:17 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: added -std1 check for DU4

	* picmantool.in: added strip options

	* plug-ins/hrz/hrz.c: #ifndef'd NeXT out munmap call

	* plug-ins/maze/maze.c: commented out some debug code differently
	so NeXT compiler won't barf.

	* configure.in
	* po/sv.po: added a preliminary Swedish translation from
	Tomas Ogren <stric@ing.umu.se>

Tue Sep  8 18:28:44 1998  Jay Cox  (jaycox@picman.org)

	* app/brush_generated.c: more carefull when the active brush
	  changes
	* app/docindexif.c: white_space() was ungetch'ing the eof
	  marker which can clear the eof flag on some systems.
	* app/docindex.c: check for ferror()s
	* app/brush_select[ch]: sensitize the edit button iff the
	  active brush is a generated brush.

Mon Sep  7 22:30:53 PDT 1998 Manish Singh <yosh@picman.org>

	* app/main.c: s/ATEXIT/g_atexit/ to sync with gtk changes

Sun Sep  6 12:55:45 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: see if CC needs -posix (for NeXTStep)

	* app/channels_dialog.c: added clarifying {}'s around if block

	* app/picmanbrushlist.c: #if 0'd out some dead code

	* plug-ins/script-fu/script-fu-server.c: removed unused variable
	declaration

Fri Sep  4 17:48:42 BST 1998 Adam D. Moss <adam@picman.org>

	* plug-ins/psd/psd.c: Added the ability to load
	Guides info from PSD files.

	* app/gimage_cmds.c: Don't allow careless callers
	to add Guides outside of the image boundaries.

Tue Sep  1 18:32:39 EDT 1998 Adrian Likins <adrian@picman.org>

	* picmantool.1: minor updates to the picmantool
	man page to cover more of the kitchen sink.

Tue Sep  1 23:00:42 BST 1998  Adam D. Moss <adam@picman.org>

	* plug-ins/guillotine/Makefile.am configure.in
	plug-ins/guillotine/guillotine.c plug-ins/Makefile.am:
	New plugin to slice an image up along its Guides.

	* app/gimage_cmds.c: Fixes.

Tue Sep  1 19:19:57 BST 1998  Adam D. Moss <adam@picman.org>

	* app/gimage_cmds.c app/gimage_cmds.h app/picmanimage.c
	app/picmanimage.h libpicman/picman.h libpicman/picmanenums.h
	libpicman/picmanimage.c: Moved the guide PDB functions into
	a more sensible place, made them accessible to plugins
	through libpicman.

Tue Sep  1 01:15:06 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/layers_dialog.c (paint_mode_menu_get_position): added this
	function to translate layer modes to correct menu positions, this
	is ugly but important until someone rewrites the layers_dialog.

Mon Aug 31 23:32:40 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/picmanimage.c (picman_image_remove_layer_mask): add back a call to
	gdisplays_flush that seems to have been lost in the
	objectification.

Mon Aug 31 15:15:01 1998  Raph Levien  <raph@picman.org>

	* app/color_select.c (color_select_update_colors): made it use the
	color_area rectangle draw so it dithers.

	* app/color_area.[ch] (color_area_draw_rect): made it draw the color
	rectangle with gdkrgb (so it gets dithered) rather than the
	rectangle drawing primitive.

	* app/gximage.[ch] (gximage_put): made it align dithers

	* app/gdisplay.c (gdisplay_display_area): made it so that the
	gximage_put routine gets dither alignment values

Mon Aug 31 16:51:35 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/internal_procs.c: included in merge down changes

Mon Aug 31 16:33:11 CDT 1998  Larry Ewing  <lewing@picman.org>

 	* app/picmanimage.[ch]
	* app/gimage_cmds.[ch]
	* app/layers_dialog.c: Added merge down procedure, I'm not really
	sure if this behaves the way people expect it to, so please send
	me any comments on what it actually should do.  It also needs a
	little testing, especially the pdb call.

	* app/picmanimage.c: cleaned up Seth's merge commit a little. Also
	changed the mode of a merged layer to normal, as this seems to be
	the proper thing.  Discussion is welcome here as well.

Mon Aug 31 19:16:36 BST 1998 Adam D. Moss <adam@picman.org>

	* app/picmanimage.c: I'm pleased to say that lewing doesn't
	want to kill me any more.  Hooray!

Mon Aug 31 18:15:16 BST 1998 Adam D. Moss <adam@picman.org>

	* app/gimage.h app/picmanimage.c app/picmanimage.h
	app/internal_procs.c app/layer.c app/xcf.c:
	Guide creation/deletion/query is now available as
	PDB procedures.  Not yet directly exported to libpicman,
	and needs to be moved into gimage_cmds.c, but it
	works.

Mon Aug 31 11:35:00 CST 1998 Seth Burgess <sjburges@picman.org>
	* app/gimage.c
	* app/picmanimage.c: Applied Zach's fix for layer merge opacity.  I
	still don't really like setting opacity to 100% regardless, but at
	least it looks like it behaves correctly.

Sun Aug 30 19:02:56 PDT 1998 Manish Singh <yosh@picman.org>

	* app/Makefile.am
	* plug-ins/*/Makefile.am: removed -lc from all Makefiles, since it
	causes weird problems on DU4

Sun Aug 30 16:45:05 1998  Owen Taylor  <otaylor@gtk.org>

	* app/app_procs.c (app_init_update_status): Instead
	of calling gtk_widget_draw() (which was happening before
	the labels got re-size-allocated), just update the
	event loop so the idle resize/redraw gets run.

Sat Aug 29 15:32:32 PDT 1998 Manish Singh <yosh@picman.org>

	* libpicman/picman.c
	* app/main.c: quell warning to g_set_message_handler

	* app/about_dialog.c: fix off-by-one error for space for the about
	text

Fri Aug 28 15:56:41 PDT 1998 Manish Singh <yosh@picman.org>

	* acconfig.h
	* configure.in
	* app/main.c: added check for putenv and #ifdefed it's usage since
	NeXTStep is lame

	* libpicman/picman.c
	* app/main.c
	* app/plug_in.c: conditionally compile shared mem stuff so platforms
	without it can still work

	* plug-ins/CEL/CEL.c
	* plug-ins/palette/palette.c
	* plug-ins/print/print-escp2.c
	* plug-ins/print/print-pcl.c
	* plug-ins/print/print-ps.c: s/strdup/g_strdup/ for portability

Wed Aug 26 16:30:36 1998  Raph Levien  <raph@picman.org>

	* app/gradient.c (grad_create_gradient_editor,
	cpopup_create_color_item): Turned on dithering in the previews.

Tue Aug 25 14:55:25 PDT 1998 Manish Singh <yosh@picman.org>

	* picmantool.in: use LDFLAGS and LIBS for building too

Mon Aug 24 13:41:49 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/fileops.c (file_save): move the mru and docindex calls to
	before the call to picman_image_set_filename so that they are still
	accessing valid memory.  Fixes the filename corruption seen in
	these interfaces.
	* app/picmanimage.c: added a warning about the side effect that
	caused the above bug.

Mon Aug 24 09:34:37 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/depthmerge.c
	* plug-ins/fli.[ch]
	* plug-ins/gfli.c: updates from the registry

	* plug-ins/pnm/pnm.c: fix for non-interactive mode

	* plug-ins/fractaltrace/fractaltrace.c: minor code cleanups

Mon Aug 24 09:20:38 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: make xdelta not built by default, so poor users
	aren't confused

	* libpicman/picman.c
	* app/blob.c
	* app/errors.c
	* plug-ins/script-fu/script-fu-server.c: fixes for glib changes with
	s/g_debug/g_on_error_debug/ and s/g_vsprintf/g_strdup_vprintf/

Fri Aug 21 17:25:34 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/fileops.c: fixed a lingering bug that occured from the
	removal of the id system.  This should fix tigert's save problems.

1998-08-21  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c (create_idea_menu):
	* app/docindex.c (make_idea_window):
		Got rid of the menu bar in the document index.

1998-08-19  Raph Levien  <raph@picman.org>

	This is the GdkRgb integration.

	* app/gximage.c (gximage_put): Uses gdk_draw_rgb_image rather
	than gdk_draw_image.

	* app/image_render.c: gutted most of this, as it is now subsumed
	by GdkRgb. In the process, gamma != 1.0 doesn't work anymore.
	Also, speedups are almost certainly possible in a bunch of cases.

	* app/info_window.c (get_shades): compiles and runs, but is
	not functional.

	* app/colormaps.c: gutted

	* app/color_select.c: changed dither to max

	A few things remain: the dithering is _not_ correctly aligned for
	scrolling - looks like I'll need to add some more API to GdkRgb
	for that. The gradient editor needs to be set to maximum
	dithering. I'd like to draw the foreground and background colors
	dithered so they don't quantize so much in 8bpp modes.

Wed Aug 19 21:00:00 PDT 1998 Ray Lehtiniemi <rayl@netrover.com>

	* app/airbrush.c gdisplay.c gimage.h picmanimage.c picmanimage.h
	picmanimageP.h image_render.c indexed_palette.c info_window.c
	layers_dialog.c:

	Remove the distinction between flat and layered gimages.  now
	gimages always allocate a projection, even if there is only a
	single layer.

	Fix some gcc-isms.

Tue Aug 18 15:42:44 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/gfig/gfig.c: kludged around the use of the disappearing
	gtk private functions (through the magic of cut and paste ;)

Sun Aug 16 18:48:17 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/ink.c (ink_paste): Make sure we check that
	ink_set_paint_area found a valid canvas_buf.

1998-08-16  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c: Fixed up the UI to make the document index
	look a bit more like a dialog.

	* app/docindex.h:
	* app/docindex.c: Just fixed a few small nits.  Might have made
	the document index a bit more robust during picman crashes.

Sat Aug 15 22:53:36 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/gdisplay.c (gdisplay_update_cursor): Make sure we check the
	return value from picman_image_active_drawable.

Sat Aug 15 19:30:42 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* Makefile.am boundary.h boundaryF.h by_color_select.h
	  file_new_dialog.c fileops.h floating_sel.h gdisplay.h
	  gdisplayF.h ink.c interface.h layer.h layerF.h paint_core.h
	  tools.h toolsF.h: header file tweaks.  Now changing tile.h
	  doesn't force about_dialog to recompile! :)

Sat Aug 15 16:53:45 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/airbrush.c: added a debug warning to a case that previously
	caused a segfault.  This appears to be an xinput related problem
	where more than one button press can occur before a button release,
	so if you see a warning that tells you to contact me, please do.

Sat Aug 15 14:09:12 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/transform_core.c (transform_core_do): Fixed a merge error
	that I missed on the last commit.

	* blend.c boundary.c by_color_select.c channel.c color_picker.c
 	  convert.c drawable_cmds.c file_new_dialog.c flip_tool.c
 	  floating_sel.c fuzzy_select.c gimage_mask.c picmanimage.c
 	  picmanimage.h global_edit.c image_map.c image_render.c ink.c
 	  layer.c paint_core.c paint_funcs.c perspective_tool.c
 	  pixel_region.c pixel_region.h plug_in.c rotate_tool.c
 	  scale_tool.c shear_tool.c text_tool.c tile_manager.c
 	  tile_manager.h tile_manager_pvt.h transform_core.c undo.c xcf.c:

	  Another tile tweak.  This one eliminates tile levels (which add
 	  bookkeeping without being used).  Made copy_region more
 	  intelligent on when to use tile sharing; some changes made to
 	  pixel_regions to facilitate this.  Fixed a refcount problem with
 	  xcf load and probably a few other bugs that I've forgotten
 	  about.  Added a sanity check in set_undo_tiles to help with a
 	  problem larry is reporting with airbrush and xinput.

Sat Aug 15 16:11:07 MEST 1998 Sven Neumann <sven@picman.org>

	* TODO: updated the TODO file
	Well, this is going to be my last commitment to the picman for a
	few months. Have fun coding, folks! I'm looking forward to see
	a nice 1.2 version out there, when I'm back.

Sat Aug 15 15:27:39 MEST 1998 Sven Neumann <sven@picman.org>

	* app/color_picker.c
	* app/crop.c
	* app/info_dialog.[ch]
	* app/info_window.c
	* app/rotate_tool.c
	* app/scale_tool.c
	* app/shear_tool.c: We have entries in the info dialog now that
	allow to enter exact values for the transformations and crop.

	* app/transform_core.c
	* app/transform_tool.c: Changed "Clip perspective" to "Clip result"
	and made it available for all transformations.

	* app/rect_select.c
	* app/ink.c: minor cosmetic changes

Fri Aug 14 19:58:13 EDT 1998 Adrian Likins <adrian@picman.org>

	* plugins/script-fu/scripts/select_to_brush.scm,
	selection-round.scm,slide.scm,sota-chrome-logo.scm,
	spinning_globe.scm,starburst-logo.scm,starscape-logo.scm,
	swirltile.scm, swirly-pattern.scm, t-o-p-logo.scm,
	textured-logo.scm: wave two of the changes

Fri Aug 14 16:40:30 MEST 1998 Sven Neumann <sven@picman.org>

	* app/transform_tool.c
	* app/transform_core.[ch]: Added a "Show grid" toggle. Fixed a
	problem that occured when changing the grid size before the tool
	is created. Don't draw the grid if the perspective trafo is too
	weird.

Thu Aug 13 23:00:39 EDT 1998 Adrian Likins <adrian@picman.org>

	* plug-ins/script-fu/scripts: tileblur.scm, title-header.scm,
	trochoid.scm,truchet.scm, unsharp-mask.scm, waves-anim.scm,
	weave.scm,xach-effect.scm: first wave of scripts to
	use some of the new script-fu options

Thu Aug 13 22:20:06 MEST 1998 Sven Neumann <sven@picman.org>

	* app/transform_tool.[ch]: minor cosmetic changes

Thu Aug 13 22:16:42 MEST 1998 Sven Neumann <sven@picman.org>

	Applied the patch from Tor Lillqvist <tml@iki.fi>:

	* app/transform_core.c app/transform_core.h: Further changes in
	the look-and-feel. Now we have a info_dialog window for each
	transformation tool, with an action and cancel button. The use of
	shift-clicking to approve the transform introduced in
	picman-tml-980724-1 is still there. The old immediate transformation
	on button release is gone.

	For use by the rotate tool we have a center-of-rotation point
	which is draggable. Its coordinates are kept in the TransformCore
	struct.

	As there no longer are several related transformations done after
	each other as in the old look-and-feel, we don't need the _first_
	field in TransformUndo.

	Added the function _transform_core_grid_density_changed_ called
	from transform_tool.c when the grid density spinbutton has been
	changed. The grid is instantaneously redrawn in the new
	density. Neat, huh?

	* transform_tool.c transform_tool.h: More options: a toggle to
	clip the result of a perspective transform, and a spinbutton for
	the rubber-band grid density. The toggle for "new" vs. "old" UI is
	now for "corrective" vs. "traditional" paradigm.

	* rotate_tool.c: Show also the center point coordinates in the
	info dialog. If dragging the center point, update TransformCore
	accordingly. Use the center point coordinates from TransformCore
	where appropriate.

	* perspective_tool.c: Show the transformation matrix in the info
	dialog.

	* undo.c: TransformUndo no longed has the _first_ field, code
	simplified thusly.

Thu Aug 13 20:48:48 MEST 1998 Sven Neumann <sven@picman.org>

	* app/color_area.c: Add event-masks so the tooltip is shown.

	* app/gdisplay.c
	* app/plug_in.c: Check range of progress-percentage to avoid
	warnings.

	* app/picmanlist.c: Include stdio.h to fix compiler warning.

Thu Aug 13 11:32:04 MEST 1998 Sven Neumann <sven@picman.org>

	* app/app_procs.c
	* app/color_area.c
	* app/devices.[ch]
	* app/picmanrc.[ch]
	* app/preferences_dialog.c: applied picman-alt-980812-0.patch:
	Device status is now restored on startup.
	Tooltips added to items in device status dialog box.
	Fixed problem with multiple input devices & new dialog.
	Added option to preferences (under session) that allows user to
	always store device status on exit from picman (default off).
	Fixed problem in color area of toolbar to do the possibility of GC not
	existing when the dialog is refreshed.

	* app/commands.c: include errorconsole.h

Tue Aug 11 23:17:20 CST 1998 Seth Burgess <sjburges@picman.org>

	* app/transform_core.c: Fixed the flip tool so it would operate
	properly even if "New Interface" is selected for the transform
 	tools.

Tue Aug 11 22:41:20 MEST 1998 Sven Neumann <sven@picman.org>

	* app/app_procs.c
	* app/layers_dialog.c: Fixed the progressbar warnings and the
	image id in the layers-n-channels dialog.

Tue Aug 11 21:14:40 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: Added an about-dialog that
	gives access to the short help hidden in the scripts.

Tue Aug 11 12:24:14 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* tile.c tile.h: exported some accessor functions, made Tile
	opaque.
	* tile_manager.c tile_manager.h: added a public call to invalidate
	a tile
	* blend.c boundary.c by_color_select.c channel.c color_picker.c
	drawable_cmds.c fuzzy_select.c picmanimage.c image_render.c ink.c
	layer.c paint_core.c paint_funcs.c pixel_region.c plug_in.c undo.c
	xcf.c: eliminated references to tile private data
	* ink.c (ink_set_undo_tiles), paint_core.c (set_undo_tiles): used
	tile sharing to replace tile copies for undo tiles
	* undo.c (undo_pop_image): swap tiles instead of pixels when
	possible

Mon Aug 10 14:48:20 PDT 1998 Manish Singh <yosh@picman.org>

	* app/gdisplay.c: corrected 2 annoyances: that stupid hash table
	== NULL warning and the pointer in the title bar instead of the
	ID

	* app/internal_procs.c: we're registering more procs, so make update
	the total proc count

Mon Aug 10 16:20:33 MEST 1998 Sven Neumann <sven@picman.org>

	* app/internal_procs.c
	* app/text_tool.[ch]: Wrappers for picman-text and
	picman-text-get-extents.

	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu-scripts.c
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/scripts/test-sphere.scm: A font-selector
	for the script-fu dialog. See documentation in test-sphere.scm.

Sun Aug  9 14:15:42 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: The scripf-fu dialog
	now remembers your last settings and has a "Reset to Defaults"
	button.

1998-08-07  Raja R Harinath  <harinath@cs.umn.edu>

	* plug-ins/script-fu/Makefile.am (INCLUDES):
	List $(top_srcdir) before $(GTK_CFLAGS).

Thu Aug  6 15:12:16 PDT 1998 Manish Singh <yosh@picman.org>

	* acinclude.m4: for people without the gettext macros

	* configure.in: don't explicitly link files

	* app/Makefile.am: ad INTLLIBS to the link line

Thu Aug  6 16:55:45 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/script-fu-scripts.c: New ScriptFu argument type
	SF-ADJUSTMENT: You can have sliders and spin-buttons in the dialog.

	* plug-ins/script-fu/scripts/test-sphere.scm: Simple script to show
	and test the new interface.

Wed Aug  5 16:29:05 PDT 1998 Manish Singh <yosh@picman.org>

	* initial merge of the internationalization stuff. It's still
	broken in a couple places, so you're probably better off running
	configure with --disable-nls (picman-mgomulin-980727-0)

Wed Aug  5 23:31:54 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/scripts/*.scm (well, almost): Changed all
	scripts to make use of the new SF-STRING argument type where
	appropriate.

Wed Aug  5 21:39:59 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-enums.h
	* plug-ins/script-fu/script-fu.c
	* plug-ins/script-fu/script-fu-scripts.c: New ScriptFu argument type
	SF-STRING: Never have to add those damned quotes again... More types
	to follow soon.

Wed Aug  5 14:32:51 MEST 1998 Sven Neumann <sven@picman.org>

	* picmanrc.in
	* app/commands.[ch]
	* app/gdisplay.[ch]
	* app/picmanrc.[ch]
	* app/interface.c
	* app/menus.c
	* app/plug_in.c
	* app/preferences_dialog.c: The statusbar can now be switched off
	like the rulers. Screen estate purists can make this the default
	behaviour in their picmanrc ;-)

1998-08-03  Federico Mena Quintero  <federico@nuclecu.unam.mx>

	* app/gradient.c: Fixed typo (sinuosidal -> sinusoidal).

Sun Aug  2 22:34:43 MEST 1998 Sven Neumann <sven@picman.org>

	* app/gdisplay.c: Tweaked and applied a patch from Daniel Egger
	(picman-egger-980704). Update the statusbar when converting the
	image to another basetype.

Sun Aug  2 21:00:04 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: Applied a patch from
	Simon.Budig@unix-ag.org (picman-simon-220598-0).
	Cosmetic changes to the script-fu dialog.

	* app/app_procs.c
	* app/commands.[ch]
	* app/errorconsole.[ch]
	* app/picmanrc.c
	* app/session.[ch]: Added session-managment to the error-console.

Sun Aug  2 06:02:01 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_manager.c (tile_manager_map): I am an idiot.

Sat Aug  1 20:50:47 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_manager.c: Added an assertion check in tile_manager_map

Fri Jul 31 15:41:30 PDT 1998 Manish Singh <yosh@picman.org>

	* applied picman-alt-980729-0 and picman-alt-980730-0, adds brush
	popup and pattern popup to the devices dialog

Fri Jul 31 19:17:15 BST 1998  Adam D. Moss  <adam@picman.org>

	* app/[lots of files].c: On all picman-core fopen()s
	changed "[rw]"->"[rw]b" to appease OS/2 folk.

Fri Jul 31 18:29:44 BST 1998  Adam D. Moss  <adam@picman.org>

	* app/layers_dialog.c: Removed an ancient kludge that was
	seriously confusing the layer-mode menu.

	* plug-ins/psd/psd.c: Support OVERLAY_MODE where available

Fri Jul 31 13:42:29 BST 1998  Adam D. Moss  <adam@picman.org>

	* plug-ins/psd/psd.c: Worked around some buggy PSD savers
	(suspect PS4 on Mac) - ugh.  + Fixed a bug when loading layer
	masks of certain dimensions.

Tue Jul 28 18:10:33 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* tile_manager.c, tile_manager.h: provided some encapsulations
	functions for tile managers
	* picmanimage.c: rewrote to use encaps, got rid of
	tile_manager_pvt.h include (yay)

Tue Jul 28 17:07:41 EDT 1998 Adrian Likins <adrian@picman.org>

	* plug-ins/mail/mail.c: added a text entry to GUMP,
	so you can now compose real messages. Newsreader
	and 3D flight simulator to follow tomorow.

Tue Jul 28 15:42:39 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/drawable_cmds.c (drawable_fill_invoker):
	* libpicman/picmanenums.h: Changed the libpicman GFillType
	enums to match the core enums in value, the names still
	differ.

	* plug-ins/script-fu/script-fu.c: changed the fill setvars to use
	the GFillType enums.

Tue Jul 28 14:03:57 PDT 1998 Manish Singh <yosh@picman.org>

	* app/Makefile.am
	* app/errors.c
	* app/errorconsole.[ch]
	* app/app_procs.c
	* app/appenv.h
	* app/menus.c: error console implementation from Nuke
	<nuke@bayside.net> Hooks to g_message

	* app/fileops.c: honor message_handler while still setting
	filesel widget sensitivity properly

Tue Jul 28 15:04:39 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/picmandrawable.h: reordered the PicmanFillType enum,
	unfortunately this will cause a lot of recompilation for the
	rest of you.

Tue Jul 28 14:14:43 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/drawable.c (drawable_fill): added a case for
	FOREGROUND_FILL.  Fixes the layer new dialog so that it actually
	works with foreground fill selected.

1998-07-28  Tuomas Kuosmanen  <tigert@picman.org>

	* app/file_new_dialog.c
	* app/layers_dialog.c: change the order of the different
	fill-types (Foreground and Background are nicer to sit besides
	each other)

Tue Jul 28 19:46:53 BST 1998  Adam D. Moss <adam@picman.org>

	* plug-ins/gee/gee.c
	* plug-ins/animationplay/animationplay.c: Fixes for
	gdkrgb output on pseudocolour displays.

Mon Jul 27 12:27:47 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/fp/fp.c: make PDB entry for filter pack saner

Mon Jul 27 14:29:39 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/xcf.c (xcf_load_level): Made xcf loader a little less
	zealous in trying to copy-on-write duplicated tiles.

Sun Jul 26 23:47:33 MEST 1998 Sven Neumann <sven@picman.org>

	* app/blend.c
	* app/crop.c
	* app/edit_selection.c
	* app/rect_select.c: More statusbar stuff (should be finished now,
	but who knows...)

Sat Jul 25 04:11:31 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/pixel_region.c: optimized pixel_region_[gs]et_row,
	minor optimization to pixel_region_[gs]et_col

Sat Jul 25 11:09:58 BST 1998  Adam D. Moss <adam@picman.org>

	* app/convert.c: Convert-to-indexed now remembers the last
	invocation's settings.  Also, GRAY->INDEXED more flexible.

Sat Jul 25 03:09:02 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/picmanbrushgenerated.c: swap out the mask if
	stingy_memory_use is set.

	* app/picmanbrushlist.c: fixed bug related to
	stingy_memory_use

Fri Jul 24 14:03:13 PDT 1998 Manish Singh <yosh@picman.org>

	* app/transform*.[ch]: applied picman-tml-980724-1 for new
	transform tool ui. It's still a little rough, needs fixes

Fri Jul 24 14:40:55 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/layers_dialog.c (lc_dialog_create): moved
	gtk_widget_show (lc_shell) so that the layers show up in the
	dialog again.  I've told Owen about this problem, we'll see what
	comes up.

Fri Jul 24 19:36:33 BST 1998  Adam D. Moss <adam@picman.org>

	* app/appenv.h app/brightness_contrast.c app/color_balance.c
	app/curves.c app/gdisplay.h app/gdisplay_ops.c
	app/hue_saturation.c app/paint_core.c app/paint_funcs.c
	app/undo.c: Attempt to speed-up and/or sanitize
	MAX/MIN/CLAMP macro usage throughout picman-core.

Fri Jul 24 12:01:31 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/gdisplay.c (gdisplay_update_cursor): Fixed a string
	allocation problem that failed to account for the trailing \0
	(removed time sensitve calculation/malloc in the process).

Fri Jul 24 01:33:13 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/vector2d.[ch] Makefile.am: new files for vector math.
	Very minimal.

	* picmanbrush.[ch]: added support for brush axis.

	* picmanbrushgenerated.c: added support for brush axis.
	Changed the mask intensity function from gamma to gauss(gamma)

	* paint_core.[ch]: replaced the mask field with a brush field.
	modified paint_core_interpolate to use brush axis.

	* picmanbrushlist.c: modified picman_list_destroy.

	* picmanbrushlist.c: fixed some broken brush removal stuff.

Thu Jul 23 21:57:25 CDT 1998 Shawn T. Amundson <amundson@picman.org>

	* app/interface.c: usize statusbar to 1 width

Thu Jul 23 22:34:27 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_cache.c (tile_cache_zorch_next): Fixed a problem with
	losing tile data.

Thu Jul 23 20:29:40 MEST 1998 Sven Neumann <sven@picman.org>

	* app/edit_selection.c: Display the move offset in the statusbar.
	* app/rect_select.c: Some code cleanup.

Thu Jul 23 10:30:12 PDT 1998 Manish Singh <yosh@picman.org>

	* app/fileops.c: tell the PDB that picman_register_magic_load_handler
	takes 4 args

Thu Jul 23 01:53:09 MEST 1998 Sven Neumann <sven@picman.org>

	* app/rect_select.c: Display the selection-mode in the statusbar.
	* app/session.c: Restoring saved sessions works again.

Wed Jul 22 23:32:50 MEST 1998 Sven Neumann <sven@picman.org>

	* docs/quick_reference.ps
	* docs/quick_reference.tar.gz:
	Updated the Quick Reference Sheet to the much improved version made
	by Sven Anders <anderss@fmi.uni-passau.de>.

Tue Jul 21 18:32:19 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile.c app/tile_swap.c: Squashed a deadlock.  I hope.

Tue Jul 21 02:11:47 MEST 1998 Sven Neumann <sven@picman.org>

	* app/app_procs.c
	* app/devices.[ch]
	* app/session.[ch]: added session-managment support to the
	device-status-dialog. The restore-function is still not working,
	will have a look at it tomorrow...

Mon Jul 20 21:35:33 BST 1998 Adam D. Moss <adam@picman.org>

	*  plug-ins/animationplay/animationplay.c: UI tweaks.

Mon Jul 20 20:13:58 MEST 1998 Sven Neumann <sven@picman.org>

	* app/rect_selectP.h
	* app/rect_select.h
	* app/rect_select.c: The new "Fixed Size" option now works with
	ellipse_select too. Made the entries use spinbuttons. Minor change
	to the selection_size indicator in the status-bar.

	* plug-ins/png/png.c: made fopen() use "rb" and "wb" instead if "r"
	and "w" since the OS/2 port needs it

Mon Jul 20 11:07:32 EDT 1998  Matthew Wilson  <msw@picman.org>

	* app/app_procs.c
	* app/interface.c: Changed progressbar updaters to work with
	new API.  THIS WILL NOT WORK WITH OLDER GTK+.  SOMEONE NEEDS
	TO MAKE AN ENTRY IN gtkfeatures.h SO WE CAN #ifdef THIS.
	(I suppose I should... but what can I say - I'm lazy)

Mon Jul 20 06:27:18 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/brush_select.c app/picmanbrush.c app/picmanbrush.h
	* app/picmanbrushgenerated.c app/picmanbrushlist.c
	* app/picmanbrushlist.h
	Removed the index field from PicmanBrush.  Tweaked the
	brush renameing code.

	* app/edit_selection.c
	Look ahead in the event queue and process as many arrow
	keys as we can at once.

Sun Jul 19 15:26:11 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/brush_select.c
	recalc the scrollbar when a brush is added/removed.

	* app/picmanbrush.c app/picmanbrush.h app/picmanbrushlist.c
	Make sure brush names are unique when they are added to a
	brush list.

Sun Jul 19 20:55:36 BST 1998 Adam D. Moss <adam@picman.org>

	* plug-ins/animationplay/animationplay.c: Another
	speedup for some types of shaped animation.

Sun Jul 19 10:23:58 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/paint_funcs.c
	new and improved color_pixels now 4-7 times as fast and 8-12
	times as convoluted as original color_pixels.

Sun Jul 19 12:48:00 BST 1998 Adam D. Moss <adam@picman.org>

	* plug-ins/animationplay/animationplay.c: Adapted
	to use GDKRGB when available - results in improved
	speed and stability.

	* app/session.c
	* app/session.h: PICMAN compiles again with the latest
	GTK.  Sven will have to look at this fix, but it seems
	to work.

Sat Jul 18 20:15:59 BST 1998 Adam D. Moss <adam@picman.org>

	* plug-ins/gee/gee.c: About eight times faster with
	new GTKs, a little faster without.  Less bugs.  PH34R.

Sat Jul 18 21:22:37 MEST 1998 Sven Neumann <sven@picman.org>

	* app/rect_select.c
	* app/rect_selectP.h: Show the selection size in the
	statusbar.

Sat Jul 18 18:23:28 BST 1998 Adam D. Moss <adam@picman.org>

	* app/picmanrc.c
	* app/picmanrc.h
	* app/ink.c
	* app/paint_core.c
	* app/preferences_dialog.c: Now the perfect-mouse-tracking
	normally enabled by pressing MOD1 is a preferences option,
	and MOD1 inverts the affect.

	* app/ink.c: Mildly tweaked the default brush size/range for
	my own twisted sense of esthetics.  Forgive me.

Sat Jul 18 19:28:53 MEST 1998 Sven Neumann <sven@picman.org>

	* plug-ins/script-fu/script-fu-scripts.c: cosmetic change
	to the Script-Fu dialog

Sat Jul 18 16:32:51 BST 1998 Adam D. Moss <adam@picman.org>

	* app/fileops.c: Fixed my idiotic comment syntax
	* app/airbrush.c: Less wussy default/max rate

Sat Jul 18 16:08:23 BST 1998 Adam D. Moss <adam@picman.org>

	* app/fileops.c: Added the ability to make multiple
	selections from PICMAN's load-file-selector.  It's
	adequate but not perfect without the ability to get
	the filesel's idea of its cwd via clean GTK coding.

	* app/convert.c: Minor textual changes.

Fri Jul 17 01:28:30 PDT 1998 Manish Singh <yosh@picman.org>

	* picmantool.in: Made usage printout more verbose, added
	--quiet and -n options

	* picman.m4: set NOUI stuff if available

Thu Jul 16 16:20:47 PDT 1998 Manish Singh <yosh@picman.org>

	* picmantool.in: Added --cflags-noui and --libs-noui flags and
	appropriate sed junk to craft it. Don't call gtk-config unless
	GTK_CONFIG is set; hard code the info. Strip out redundant
	stuff from the output

	* libpicman/picman.h
	* libpicman/picmanimage.c: make picman_image_flatten return a value
	to be consistent with the PDB

Thu Jul 16 13:13:23 PDT 1998 Manish Singh <yosh@picman.org>

	* updated MapObject again

Thu Jul 16 04:38:19 PDT 1998 Jay Cox  <jaycox@picman.org>

	* brush_edit.[ch]: added a zoom indicator on the preview

	* picmanbrushgenerated.[ch] picmanbrushlist.c: added support
	for loading generated brushes.

	* data/brushes/round01.vbr: a sample generated brush

Wed Jul 15 22:06:32 CDT 1998 Shawn T. Amundson <amundson@picman.org>

	* Cursor location in statusbar
	* Fixed resize of window
	* progressbar is smaller now

Thu Jul 16 02:43:51 MEST 1998 Sven Neumann <sven@picman.org>

	updated MapObject plug-in

Wed Jul 15 04:55:30 PDT 1998 Jay Cox <jaycox@picman.org>

	* app/picmanbrushgenerated.c
	* app/picmanbrushgenerated.h
	Added freeze/thaw methods

	* app/brush_edit.c
	display a preview in the brush_edit window

Tue Jul 14 19:22:46 PDT 1998 Manish Singh <yosh@picman.org>

	* acconfig.h
	* configure.in
	* app/about_dialog.c
	* app/app_procs.c
	* app/main.c
	* libpicman/picman.[ch]
	* libpicman/picmanfeatures.h.in: added features header

Mon Jul 13 22:49:15 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: check for inline by ourselves if it's not
	defined in glibconfig.h. So inline works if glib is compiled
	with a different compiler than picman. The plug-ins that use
	inline #include "config.h" now (blur, destripe, emboss,
	gfli, nlfilt, ps, randomize, sinus, and zealouscrop)

	* app/main.c: applied picman-kc-980707-0; fixes command line
	parsing

	* plug-ins/dbbrowser/dbbrowser_utils.c: searching by name does
	- <-> _ translation

	* Added filter pack plugin

Mon Jul 13 22:00:31 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/rect_select.c : argh, s/snprintf/g_snprintf

Mon Jul 13 19:07:43 EDT 1998  Adrian Likins <adrian@picman.org>

	* app/drawable.c app/commands.c app/picmanimage.h
	  app/layers_dialog.c: applied picman-kc-980707-1 from
	  Kevin Cozens <kcozens@interlog.com>

	* Dialog boxes for creating a new image or a new layer now include
	  as a fill type option.

Mon Jul 13 18:08:35 EDT 1998 Adrian Likins <adrian@picman.org>

	* plug-ins/script-fu/scripts/3dTruchet.scm
	 plug-ins/script-fu/scripts/flatland.scm
	 plug-ins/script-fu/scripts/truchet.scm:
	updated these scripts to return the display they open,
	mainly so i can use them in another script

Mon Jul 13 17:48:21 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/rect_select.[ch]: applied picman-chap-980709-0
	from  Chap Lovejoy  (chap@cc.gatech.edu)

	From the README:

	Adds fixed size and fixed ratio rectangular selections to the
	picman.

	Fixed size is enabled by filling in the height and width boxes in
	the rectangular selection tool options box and checking the
	"fixed size" checkbox.

	Fixed ratio is enabled by enabling fixed size (set the height and
	width to the desired ratio values) and holding shift after
	starting the selection (holding shift while starting the selection
	will change the selection operation to add).

Tue Jul 14 00:26:49 MEST 1998 Sven Neumann <sven@picman.org>

	* app/fileops.c
	* app/menus.c
	* app/preferences_dialog.c: fixed a few bugs in the new MRU list

Mon Jul 13 03:00:46 PDT 1998 Jay Cox  <jaycox@picman.org>

	* brush_select.c picmanbrushlist.c: fixed brush ref counting

Mon Jul 13 07:42:36 BST 1998 Adam D. Moss <adam@picman.org>

	* app/convert.c: July 6th's patch from Yasuhiro SHIRASAKI for
	constraining custom-palette choices to <=256 colours broke
	the automatic defaulting of 'Web' palette.  Fixed.

Sun Jul 12 23:56:35 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_swap.c: #if 0'd some of mkj's last commit because it's
	busted.

Sun Jul 12 19:00:15 EDT 1998 Michael K. Johnson <johnsonm@redhat.com>

	* app/tile_swap.c
	* app/tile_swap.h
	* app/tile_manager.c
	* app/tile_manager.h
	* app/pixel_region.c
	* app/pixel_region.h: asynchronous swapin on systems with
	pthreads.  This version is not at all tuned, and the only
	interface which makes use of it now is
	pixel_region_{g,s}et_{row,col}.  Other functions which
	know ahead of time the area that they will be needing can
	request that it be asynchronously swapped in via the
	pixel_region_get_async() function.

Sun Jul 12 17:32:24 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_cache.c: Some optimizations and bugfixes relative to
 	the preswapper.

Sun Jul 12 15:56:01 BST 1998 Adam D. Moss <adam@picman.org>

	* app/gdisplay.h
	* app/interface.c
	* app/plug_in.c: Added the ability to cancel a running
	plugin when the progress-bar has been sucked into the image
	window.

	* plug-ins/psd/psd.c: Turned debugging on again, since we
	are in a development cycle...

Sun Jul 12 04:16:17 PDT 1998 Jay Cox <jaycox@picman.org>
	* picmanlist{.c,.h,F.h,P.h}
	New class for lists

	* picmanbrushlist.h picmanbrushlistF.h picmanbrushlistP.h brush_select.c
	split picmanbrushlist.h into 3 files.  Made picmanlist
	the parent class of PicmanBrushList.

	* picmanbrushlist.c: brushes in the list are once again sorted by name.

	* paint_funcs.c: minor speed tweak to a minor speed tweak in
	border_region

Sat Jul 11 22:15:31 PDT 1998 Manish Singh <yosh@picman.org>

	* fileops.c
	* picmanrc.[ch]
	* menus.[ch]
	* preferences_dialog.c: added MRU file list (patch from
	nuke@bayside.net) Moved document index menu item into the
	dialogs submenu

Sat Jul 11 23:57:09 1998  Owen Taylor  <otaylor@gtk.org>

	* app/ink.c (tools_free_ink): Free last_blob when destroying
	  tool.

	* app/blob.c: Fix off-by-one error when searhing for gaps.

Sat Jul 11 19:57:28 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile.c: Added some more debugging code.
	* app/tile_cache.c (tile_idle_thread): Modified tile preswapper to
	be a bit less aggressive.

Sun Jul 12 00:44:57 MEST 1998 Sven Neumann <sven@picman.org>

	* app/session.c: disabled setting the size of the dialogs since
	lewing pointed out that you can't make them smaller any more :-(

Sun Jul 12 00:13:02 MEST 1998 Sven Neumann <sven@picman.org>

	* picmanrc.in
	* app/app_procs.c
	* app/appenv.h
	* app/brush_select.c
	* app/picmanrc.c
	* app/picmanrc.h
	* app/gradient.c
	* app/info_dialog.c
	* app/interface.c
	* app/layers_dialog.c
	* app/main.c
	* app/palette.c
	* app/pattern_select.c
	* app/preferences_dialog.c
	* app/session.c
	* app/session.h
	* app/tools.c: More session-managment functionality. Opened dialogs
	are saved and eventually reopened. Try to use the --restore-session
	command-line option. The format of picmanrc and sessionrc have
	slightly changed. You should remove your sessionrc and delete the
	line (save-window-positions-on-exit) from your picmanrc to avoid
	warnings.

Sat Jul 11 12:20:50 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/paint_funcs.c (copy_region): Added missing tile_release
	call.
	* app/tile.c app/tile_cache.c: Added some sanity checks and
	debugging stuff.

Sat Jul 11 16:59:22 BST 1998 Adam D. Moss <adam@picman.org>

	* app/paint_funcs.c: Shaved about 25% off the time spent in
	combine_inten_[a_]and_inten_a_pixels() - yay.

	* app/xcf.c: Removed 'M' and '.' debugging spew
	* app/tile_manager.c: Removed #include <stdio.h>

Sat Jul 11 08:58:49 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/paint_core.c (paint_core_get_orig_image): Fixed a really
	dumb bug.  (This may solve some of the undo-related crashes.)

1998-07-11  Seth Burgess <sjburges@picman.org>

	* app/main.c:
 	* app/picmanrc.c:
	Added commandline for alternate systemwide picmanrc.  Fixed alternate
	picmanrc (guess I should have tested a little more).

1998-07-10  Seth Burgess <sjburges@picman.org>

	* app/main.c:
	* app/picmanrc.c:
	Added commandline support for an alternate picmanrc.

1998-07-10  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c:
	* app/docindexif.h: Screwed up a file name change.

Fri Jul 10 23:06:09 BST 1998 Adam D. Moss <adam@picman.org>

	* app/paint_funcs.c:
	Fixed copy-on-write path of copy_region which was sometimes
	crashing with Scott's new tile scheme.

	* app/tile_manager.c:
	Added some sanity warnings.

	* app/xcf.c:
	Fixed copy-on-write tile loading which was causing crashes
	with Scott's new tile scheme.  Ref balance count seems funny
	still.

1998-07-10  Chris Lahey  <clahey@umich.edu>

	* app/docindexif.c: New file.
	* app/docindexif.h: New file.
	* app/docindex.h:
	* app/docindex.c: Lots of changes.  Added docindexif.c and
	docindexif.h as an interface between the document index and the
	application.  This way the document index can be used in two
	applications and updated in both at the same time.  Also, made the
	document index save files even if it's not shown on the screen.

	* app/Makefile.am (picman_SOURCES): Added docindexif.c and docindexif.h.

Fri Jul 10 01:44:29 PDT 1998 Jay Cox <jaycox@picman.org>

	* paint_core.c paint_core.h picmanbrushlist.h picmanbrushlist.c
	  picmanbrushgenerated.c brush_select.h brush_select.c
	Signalified brushes.  got rid of some warnings.
	Fixed a bug that showed up when run --no-data

	* paint_funcs.c
	Minor speed tweak to border_region

Thu Jul 9 21:23:46 1998 Scott Goehring <scott@poverty.bloomington.in.us>

	* paint_core.c tile.c undo.c: tile tweaks.

	* tile.c tile_manager.c tile_cache.c tile.h tile_manager.h
	  tile_manager_pvt.h tile_pvt.h:
	  completely redid tile management.

	* blend.c boundary.c by_color_select.c channel.c color_picker.c
 	  drawable_cmds.c frac.c fuzzy_select.c picmanimage.c image_render.c
 	  ink.c layer.c paint_core.c paint_funcs.c pixel_region.c
 	  plug_in.c preferences_dialog.c procedural_db.c transform_core.c
 	  undo.c xcf.c:
	  changed to reflect new tile management protocols.  (Also killed
	  a few compilation warnings.)

Thu Jul  9 22:04:04 EDT 1998  Michael K. Johnson <johnsonm@redhat.com>

	* app/clone.c: clone_motion: silently ignore cloning if the
	  clone source hasn't been selected or no longer exists.

Wed Jul  8 21:34:31 PDT 1998  Jay Cox <jaycox@picman.org>

	* app/brushes.c app/brushes.h:  removed files

	* app/picmanbrush.c app/picmanbrush.h
	* app/picmanbrushlist.c app/picmanbrushlist.h
	  the New files replace the functionality of brushes.[ch]
	  and objectify the brushes.  The basic structure is in
	  but signals are not used as much as they should be.

	* app/picmanbrushgenerated.c app/picmanbrushgenerated.h
	  New type of brush that is can be modified on the fly

	* brush_edit.c brush_edit.h
	  new files that implement a gui for the PicmanBrushGenerated class.
	  very basic.

	* brush_select.c devices.c ink.c picmanobject.h paint_core.c
	  brush_select.h brush_edit.h preferences_dialog.c pencil.c
	  paintbrush.c internal_procs.c gimage_mask.c eraser.c convolve.c
	  commands.c colormaps.c airbrush.c clone.c app_procs.c
	  paint_core.h
	  Minor changes to support above new functionality.

Wed Jul  8 22:36:12 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/color_area.c (color_area_edit): raise the color select when
	the color area is clicked.

Wed Jul  8 21:08:03 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/picmanimage.c (picman_image_raise_layer): fixed a small typo
	that prevented the composite image from being updated properly

Wed Jul  8 10:47:51 CDT 1998  Larry Ewing  <lewing@picman.org>

	* app/preferences_dialog.c: replaced old invalidate calls
	with an iteration over gimages.

	* app/layer.c: added an assert to check for gimage != NULL.

1998-07-08  Chris Lahey  <clahey@umich.edu>

	* app/menus.c (toolbox_entries): Made it so that you won't get two
	document indexes open at the same time.  (docindex.c assumes that
	you only have one open.)

	* app/docindex.h: Added a function to close the document index
	from outside docindex.c.

	* app/docindex.c: Got rid of warnings about isspace().
	(create_idea_toolbar): Got rid of the warnings about pixmaps.
	(close_idea_window): Added a function to close the document index
	from outside docindex.c.
	(idea_hide_callback): Made this function work correctly if called
	when ideas is NULL.

	* app/app_procs.c (really_quit_callback):
	(app_exit): Made it so that the document index saves even if you
	quit without closing it.

	* app/fileops.c (file_save): Made Save As add to the document index.

1998-07-08  Chris Lahey  <clahey@umich.edu>

	* app/docindex.h:
	* app/docindex.c: New files containing the document index.

	* app/menus.c (toolbox_entries): Added a menu item to open the
	Document Index.

	* app/Makefile.am (picman_SOURCES): Added docindex.c and
	docindex.h.

	* app/fileops.c (file_open): Made it so that opening a file adds
	to the document index.

Wed Jul  8 01:38:15 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* Makefile.am blend.c boundary.c by_color_select.c channel.c
 	* color_picker.c drawable_cmds.c fuzzy_select.c picmanimage.c
 	* image_render.c ink.c layer.c main.c paint_core.c paint_funcs.c
 	* pixel_region.c plug_in.c tile.c tile.h tile_cache.c tile_manager.c
 	* tile_swap.c transform_core.c undo.c xcf.c: split off tile_pvt.h
	from tile.h so changes in the tile implementation don't force a
	complete recompile.

Wed Jul  8 01:35:22 EEST 1998  Lauri Alanko <nether@picman.org>

	* app/app_procs.c (app_exit_finish): Unregister pdb procs _before_
	destroying pdb.

Mon Jul  6 20:38:36 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/gimage_mask.c (gimage_mask_boundary): fixed crash when you
	delete the last layer of an image.

Mon Jul  6 5:12:00 CST	1998 Seth Burgess <sjburges@picman.org>

	* plug-ins/gbr/gbr.c: added gbr version 1 support

Mon Jul  6 12:02:43 PDT 1998 Manish Singh <yosh@picman.org>

	* app/convert.c: check for > 256 colors palettes when indexing,
	since the code doesn't handle it (from Yasuhiro SHIRASAKI)

Mon Jul  6 13:18:12 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* pixmaps.h pixmaps2.h tools.c: splits pixmaps up into two headers
	* tile.c: fixed a doublelock deadlock

Sun Jul  5 15:49:02 EDT 1998  Adrian Likins <adrian@picman.org>

	* applied a patch from Adam D. Moss <adam@picman.org>
	* app/convert.c:  Sucked the warning about
	quantizing to too many colours into a text
	widget embedded in the dialog, improved intelligence of
	dialog to default 'custom palette' selection to 'Web'
 	if available, and in this case not bother to present
	the native WWW-palette radio button. [Adam]

Sat Jul  4 22:58:23 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/autostretch_hsv/autostretch_hsv.c: corrected progress
	display caption

Sat Jul  4 16:58:43 PDT 1998 Manish Singh <yosh@picman.org>

	* app/tile_swap.c: made the g_message errors a little smarter instead
	of popping up a ton of dialogs

	* app/layer.c
	* app/channel.c
	* app/gdisplay.c
	* app/picmanrc.c: some code cleanups

Thu Jul  2 18:10:43 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* blend.c boundary.c by_color_select.c channel.c color_picker.c
	drawable_cmds.c frac.c fuzzy_select.c image_render.c invert.c
	layer.c paint_core.c paint_funcs.c pixel_region.c plug_in.c tile.c
	tile.h tile_cache.c tile_manager.c transform_core.c undo.c xcf.c:
	incorporated Adam's copy-on-write patches.  Tested briefly:
	nothing seems to be broken, but I guarantee nothing.

Thu Jul  2 11:03:12 PDT 1998 Manish Singh <yosh@picman.org>

	* updated blur, randomize, and exchange plugins (not sure if
	they should go into stable, they break PDB interfaces)

Thu Jul  2 01:45:24 EEST 1998  Lauri Alanko <nether@picman.org>

	* app/Makefile.am:
	* app/picmanset(.c|[FP]?.h):

	Started picmanset, a generic class for handling collections of
	objects. (And to automatically manage their signals, not
	implemented yet)

	* app/drawable.[ch]
	* app/picmandrawable.[ch]
	* app/picmanimage.c:

	Moved drawable_apply_image to drawable.c

	* app/app_procs.c
	* app/appenv.h
	* app/gimage.[ch]
	* app/layers_dialog.c
	* app/main.c
	* app/procedural_db.c:

	Created a global context object (image_context) to handle the
	collection of images that the app manages.

	* app/picmanobject.c:
	* app/layer.h: Nothing major.

	* app/move.c: Fixed an uninitialized var that made guides crash.
	* app/tools.h: Removed an unused and conflicting X define.

Wed Jul  1 14:55:21 PDT 1998 Manish Singh <yosh@picman.org>

	* added waterselect plug-in

Wed Jul  1 14:13:45 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/jpeg/jpeg.c: fix for non-interactive mode

Wed Jul  1 10:14:41 PDT 1998 Manish Singh <yosh@picman.org>

	* ltconfig: fix for properly detecting shared lib support on
	SunPro cc (taken from libtool 1.2.a)

	* app/convert.c: PDB wrapper for convert_indexed_palette should
	return args associated with it's own proc

Tue Jun 30 12:19:58 CDT 1998 arturo@nuclecu.unam.mx

	* pupi-button.scm: (script-fu-round-button) A new beveled button
	script for rendering round, elliptical or squared buttons.

Tue Jun 30 12:13:36 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/flame/flame.c: don't use app private includes

Tue Jun 30 18:08:01 EEST 1998  Lauri Alanko  <nether@picman.org>

	* app/Makefile.am: start collecting some core stuff to libpicmanim.a
	* app/gdisplay.c (gdisplays_update_area): remove an (apparently)
	redundant display area

	* app/drawable.c:
	* app/drawable.h:
	* app/picmandrawable.c:
	* app/picmandrawable.h:
	* app/picmandrawableF.h:
	* app/picmandrawableP.h:

	Started separating crud out of drawables.

	* app/blend.c:
	* app/bucket_fill.c:
	* app/channel.h:
	* app/clone.c:
	* app/commands.c:
	* app/disp_callbacks.c:
	* app/drawable_cmds.c:
	* app/drawable_pvt.h:
	* app/fileops.c:
	* app/floating_sel.c:
	* app/gimage.c:
	* app/gimage_cmds.c:
	* app/gimage_mask.c:
	* app/picmanimage.c:
	* app/picmanimage.h:
	* app/picmanimageP.h:
	* app/indexed_palette.c:
	* app/interface.c:
	* app/interface.h:
	* app/invert.c:
	* app/layer.c:
	* app/layer.h:
	* app/layers_dialog.c:
	* app/plug_in.c:
	* app/procedural_db.c:
	* app/procedural_db.h:
	* app/transform_core.c:
	* app/xcf.c:

	Isolated the id system of images entirely within pdb. Even the
	window titles and menus use pointers instead of ids. Should at
	least remind people that this is a developers' version. :)

Tue Jun 30 04:00:38 EEST 1998  Lauri Alanko  <nether@picman.org>

	* app/commands.c:
	* app/edit_cmds.c:
	* app/gdisplay.c:
	* app/gimage.c:
	* app/gimage.h:
	* app/picmanimage.c:
	* app/picmanimage.h:
	* app/picmanimageP.h:
	* app/picmanobject.c:
	* app/picmanobject.h:
	* app/picmanobjectP.h:
	* app/global_edit.c:
	* app/global_edit.h:
	* app/indexed_palette.c:
	* app/layer.c:
	* app/layers_dialog.c:
	* app/move.c:
	* app/undo.c:
	* app/undo.h:

	Misc cleaning up here and there. Note that since the ids were used
 	to detect if an image still exists, some things may, for now,
 	access freed images and break. This will be fixed once proper
 	destroy handlers are added.

Sun Jun 28 19:32:06 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile_swap.c: Added a mutex on the swapfile to avoid a
	potential race condition.

Mon Jun 29 03:14:14 EEST 1998  Lauri Alanko  <nether@picman.org>


	* app/airbrush.c app/bezier_select.c app/by_color_select.c:
 	* app/channel.c app/channel.h app/channel_cmds.c app/channel_ops.c:
 	* app/channel_ops.h app/channels_dialog.c app/commands.c:
 	* app/convert.c app/convert.h app/convolve.c app/crop.c:
 	* app/drawable.c app/drawable.h app/drawable_pvt.h:
 	* app/ellipse_select.c app/file_new_dialog.c app/fileops.c:
 	* app/fileops.h app/floating_sel.c app/free_select.c:
 	* app/fuzzy_select.c app/gdisplay.c app/gdisplay.h app/gimage.c:
 	* app/gimage_cmds.c app/gimage_mask.c app/picmanimage.c:
 	* app/picmanimage.h app/picmanimageF.h app/picmanobject.c app/picmanobject.h:
 	* app/indexed_palette.c app/indexed_palette.h app/ink.c:
 	* app/iscissors.c app/layer.c app/layer.h app/layer_cmds.c:
 	* app/layers_dialog.c app/layers_dialog.h app/layers_dialogP.h:
 	* app/move.c app/paint_core.c app/paint_funcs.c app/paint_funcs.h:
 	* app/preferences_dialog.c app/rect_select.c app/text_tool.c:
 	* app/transform_core.c app/undo.c app/xcf.c:

	Removed most of the image id system. They're still used with pdb.
	At quick glance, nothing seems to be broken, but if things weird
	out, blame me.

	Now just the same for layers, channels and displays...


Sun Jun 28 10:08:53 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/ps/ps.c: don't use app private includes

Sun Jun 28 13:30:20 EEST 1998  Lauri Alanko  <nether@picman.org>

	* app/gimage.c
	* app/gimage.h
	* app/picmanimage.c
	* app/picmanimage.h
	* app/picmanimageF.h
	* app/picmanimageP.h
	* app/picmanobject.c
	* app/picmanobject.h
	* app/picmanobjectF.h
	* app/picmanobjectP.h
	* app/picmansignal.c
	* app/picmansignal.h
	* docs/OO.txt

	Started doing a GtkObjectifying framework, and started cleaning
	images from all sorts of ugly dependencies.

Sun Jun 28 08:32:20 1998  Tim Janik  <timj@gtk.org>

	* app/layer.c (picman_layer_mask_get_type):
	(picman_layer_get_type):
	* app/drawable.c (picman_drawable_get_type):
	* app/channel.c (picman_channel_get_type):
	return a GtkType value and initialize the GtkTypeInfo structure
 	correctly.

	* app/layer.h:
	* app/drawable.h:
	* app/channel.h:
	provide PICMAN_TYPE_* and PICMAN_IS_*_CLASS() macros.

Sat Jun 27 23:28:26 PDT 1998 Manish Singh <yosh@picman.org>

	* app/interface.c: minor unused variable warning cleanup

	* plug-ins/bumpmap/bumpmap.c: another warning cleanup

	* plug-ins/flame/flame.c: time(NULL) instead of time(0)

	* plug-ins/gpc/Makefile.am
	* plug-ins/megawidget/Makefile.am: install in $libdir instead
	of $picmanplugindir since they *are* libs. Some archs try to
	exec them, and it barfs

Sun Jun 28 00:23:52 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/tile.c : fix from Scott Goehring for a thread deadlock

Fri Jun 26 17:22:00 PDT 1998 Manish Singh <yosh@picman.org>

	* libpicman/picman.[ch]
	* app/procedural_db.c: add procedural_db_get_data_size and
	picman_get_data_Size functions from Nick Lamb

Fri Jun 26 11:00:35 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/script-fu/scripts.c: define DIVIDE here too (auf,
	script-fu sucks)

	* plug-ins/illusion/illusion.c: parse gtkrc

Fri Jun 26 00:59:16 PDT 1998 Manish Singh <yosh@picman.org>

	* app/Makefile.am: corrected typo

	* app/bezier_select.c
	* app/rect_select.[ch]: merged in bezier extend patch
	by Raphael FRANCOIS (fraph@ibm.net)

	* app/menus.c: restored "lost" menu items and shortcuts
	These really aren't tools.. maybe they should go somewhere
	else?

	* plug-ins/Lighting/lighting_main.c: added picman_displays_flush

Thu Jun 25 17:25:01 PDT 1998 Adrian Likins <adrian@picman.org>

	* Makefile.am:
	* app/app_procs.c:
	* picman1_1_splash.ppm: Some cosmetic changes to
	better reflect the development stage of picman.

Tue Jun 23 22:26:09 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: compile everything with -D_REENTRANT

	* app/menus.c: fix for default accel (wrong X char)

	* libpicman/picmanenums.h: make DIVIDE_MODE visible

	* plug-ins/gif/gif.c: make it less verbose again

Wed Jun 24 00:45:01 MEST 1998 Sven Neumann <sven@picman.org>

	* picmanrc.in
	* app/picmanrc.c
	* app/preferences_dialog.c
	* app/session.c
	* app/tips_dialog.c: Moved the (last-tip-shown xx) entry to
	sessionrc. You might want to delete that line from your picmanrc,
	but it works fine without doing so.

Tue Jun 23 23:21:16 MEST 1998 Sven Neumann <sven@picman.org>

	* app/commands.c
	* app/layers_dialog.c
	* app/menus.c: The lc-dialog can now be opened from the
	toolbox-menu. Did that in preparation for auto-opening dialogs on
	start-up.

Mon Jun 22 22:57:00 EDT 1998 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* app/eraser.c:  Ack, try to get pressure sensitivity right this time.

Mon Jun 22 22:57:00 EDT 1998 Manish Vachharajani <mvachhar@vger.rutgers.edu>

	* app/eraser.c:  Added support for pressure sensitive eraser

Mon Jun 22 23:35:52 MEST 1998 Sven Neumann <sven@picman.org>

	* app/pixmaps.h: Made a new pixmap for the ink tool that fits
	better to the others.

Mon Jun 22 18:43:22 MEST 1998 Sven Neumann <sven@picman.org>

	* app/Makefile.am
	* app/app_procs.c
	* app/brush_select.c
	* app/picmanrc.[ch]
	* app/gradient.c
	* app/info_dialog.c
	* app/interface.c
	* app/layers_dialog.c
	* app/palette.c
	* app/pattern_select.c
	* app/preferences_dialog.c
	* app/session.[ch]  (new files)
	* app/tools.c: Rough outline of session-managment. A new config
	file 'sessionrc' is written and the position of some windows is
	remembered. Still has some problems (offset by wm decorations).
	Can be switched off in the preferences.

Sun Jun 21 15:16:46 CDT 1998 Larry Ewing <lewing@picman.org>

	* app/bezier_select.c
	* app/commands.[ch]
	* app/devices.c
	* app/disp_callbacks.c
	* app/interface.c
	* app/menus.c
	* app/pixmaps.h
	* app/tools.[ch]
	* app/undo.c: Lots of changes to the way tools are intialized and
	accessed.  All information about a tool type is now contained in a
	single ToolInfo array.  There are still some small issues to
	adress about tool groups and we need some way of getting menu
	ordering/grouping to work better (plug-ins need this too).  There
	is still much to be done, but this is the next in cleaning up the
	tools.

	* app/posterize.[ch]
	* app/threshold.[ch]
	* app/histogram_tool.[ch]
	* app/hue_saturation.[ch]
	* app/levels.[ch]
	* app/brightness_contrast.[ch]
	* app/by_color_select.[ch]
	* app/color_balance.[ch]
	* app/curves.[ch]: Changed the *_initalize function prototypes from
	gpointer to GDisplay, to allow better type chacking and provide a
	uniform interface for all the dialog tools.

Sun Jun 21 15:49:43 1998  Owen Taylor  <otaylor@gtk.org>

	* app/tools.c (tools_select): Set active_tool before
	updating device status dialog.

Sat Jun 20 22:09:16 PDT 1998 Manish Singh <yosh@picman.org>

	* picmantool.in: fixes for new library versioning

Sat Jun 20 11:36:16 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in
	* app/Makefile.am: really add thread support

Sat Jun 20 12:04:41 1998  Scott Goehring  <scott@poverty.bloomington.in.us>

	* app/tile.h: #include config.h so we can tell if we're doing
	threads.  (PICMAN's includes are f*ck*d.)

	* app/tile_cache.c app/tile.c app/tile.h app/tile_swap.c: modified
	tile swapping to preswap dirty tiles, using a thread if threads
	are enabled in configure or a gtk_timeout if they're not.  The
	code appears stable but could use improvement.  Be careful when
	working in here; there are four sets of semaphores and getting the
	locking wrong will cause deadlocks or tile corruption.  I'll try
	to write up a document describing what's going on in here sometime
	soon.

Fri Jun 19 16:37:40 PDT 1998 Manish Singh <yosh@picman.org>

	* app/appenv.h
	* app/app_procs.c
	* app/errors.[ch]
	* app/main.c
	* app/plug_in.c: implemented PDB interface for changing
	the g_message handler

	* plug-ins/gif/gif.c: g_printized "no comment" warning

Fri Jun 19 16:12:51 EDT 1998 Adrian Likins <adrain@picman.org>

	* TODO: more updates

Fri Jun 19 12:34:29 PDT 1998 Manish Singh <yosh@picman.org>

	* changes libpicman versioning to gtk-style. Bunch o' Makefile.am
	changes for that

Thu Jun 18 23:11:36 1998  Owen Taylor  <otaylor@gtk.org>

	* app/ink.c: Shift the range to smaller brushes.
	(1/8 - 25 pixel radius, instead of 1-100 pixels)

Thu Jun 18 18:34:58 PDT 1998 Manish Singh <yosh@picman.org>

	* acconfig.h
	* config.h.in
	* configure.in: added --with-threads (taken from gtk+ configure.in)

	* libpicman/Makefile.am: ugly hack to force libpicmani.a to get
	rebuilt since libpicman.la compilations screws up the deps. Fixes
	relinking on make install.

	* configure.in
	* plug-ins/Makefile.am: other cleanups

	* libpicman/picman.c
	* app/plug_in.c: pass INT32 instead of INT8 for gdisp_id since
	that's the correct type

	* app/preferences_dialog.c
	* plug-ins/script-fu/script-fu-server.c
	* plug-ins/tileit/tileit.c: warning fixups

Thu Jun 18 21:20:12 1998  Owen Taylor  <otaylor@gtk.org>

	* app/interface.c app/tools.c: Removed calls to
	  gtk_container_[dis/en]able_resize()

Thu Jun 18 21:03:33 1998  Owen Taylor  <otaylor@gtk.org>

	* app/interface.c (create_display_shell): Set the resize
	mode on the statusbar to prevent the window from being
	unnecessarily auto-shrunk.

	* plug-ins/gfig/gfig.c (my_gtk_label_set): Removed unused
	function using deprecated gtk_container_need_resize()

Thu Jun 18 16:31:16 1998  Owen Taylor  <otaylor@gtk.org>

	* app/blob.c: Try to prevent overflows when drawing ellipses)
	(fixes the ink => line bug for big sizes)

Thu Jun 18 16:11:19 MEST 1998 Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: fiddled with the spinbuttons
	* app/file_new_dialog.c: removed two warnings

Wed Jun 17 23:52:13 EDT 1998 Adrian Likins <adrian@picman.org>

	* app/file_new_dialog.c: updated the spinbuttons
	to use the new api

	* app/picmanrc.[ch]: added some stuff in preparation for
	making a preference

Thu Jun 18 00:56:41 MEST 1998 Sven Neumann <sven@picman.org>

	* channels_dialog.c
	* layers_dialog.c: the middle mouse button now pops up the menu
	as well as the third when clicking on the layer/channel. This should
	help users that use a tablet and don't have a right mouse button.

Wed Jun 17 17:47:30 MEST 1998 Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: fixed a bug I introduced with the
	new mem_size_unit for the tile_cache_size

Wed Jun 17 16:38:40 MEST 1998 Sven Neumann <sven@picman.org>

	* app/channel.c
	* app/paint_funcs.c
	* app/paint_funcs.h: applied a patch from Jay Cox.
	Reimplements selection_grow, selection_shrink, and selection_border
	using new algorithms.

Wed Jun 17 12:07:44 MEST 1998 Sven Neumann <sven@picman.org>

	* app/picmanrc.c: default "save_window_positions_on_exit" to FALSE
	until I know why gdk_window_get_position() doesn't work properly
	when the window was never moved

Wed Jun 17 01:56:30 MEST 1998 Sven Neumann <sven@picman.org>

	* app/app_procs.c
	* app/picmanrc.c
	* app/picmanrc.h
	* app/layers_dialog.c
	* app/interface.c
	* app/preferences_dialog.c: started to implement some sort of
	session-managment; right now it only saves a few window-positions.
	I plan to move the saving out of picmanrc into a seperate rcfile

Tue Jun 16 15:06:19 CDT 1998 Larry Ewing <lewing@picman.org>

	* app/interface.c:
	* app/menus.c: added menu entry and changed loop bounds to get the
	new ink tool functioning properly

	* app/tools.[ch]: added new and free funcs to the ToolInfo struct,
	and began small cleanup of tools

Mon Jun 15 12:42:43 PDT 1998 Manish Singh <yosh@picman.org>

	* app/plug_in.c: initialize progress_gdisp_ID field in
	plug_in_new so things don't crash

	* app/menus.c: use proper keycodes (?) for zoom accelerator
	defaults

	* plug-ins/apply_lens/apply_lens.c: fixed a warning

Mon Jun 15 14:39:43 MEST 1998 Sven Neumann <sven@picman.org>

	* app/preferences_dialog.c: Added units (B,KB,MB) to the
	tile_cache_size entry. Added spinbuttons where appropriate (used
	parts of the patch Nuke <nuke@bayside.net> sent to the list).

Sun Jun 15 00:41:05 CDT 1998 Shawn T. Amundson <amundson@picman.org>

	* app/interface.c: Table spacings

Sun Jun 14 23:41:17 CDT 1998 Shawn T. Amundson <amundson@picman.org>

	* app/plug_in.c: Fixed progress code to account for when
	a plugin gets two progress inits

	* app/interface.c: Fixed table allocation sickness.  Now use
	two tables, and a vbox instead of one table so things don't
	get expanded when they shouldn't.  This (table/table_inner)
	should be merged back to 1.0 tree.  The other resize bug is a
	gtkstatusbar bug.

Sun Jun 14 21:16:42 CDT 1998 Shawn T. Amundson <amundson@picman.org>

	* app/gdisplay.c
	* app/gdisplay.h
	* app/interface.c
	* app/plug_in.c
	* app/plug_in.h
	* libpicman/picman.c: added statusbar and progressbar, which
	the plugins now use if they have a gdisp.  Unfortunately
	this introduces a resize bug I wasn't able to fix
	immediately. ;-(

Sun Jun 14 18:37:06 1998  Owen Taylor  <otaylor@gtk.org>

	* app/blob.[ch] (blob_bounds): Added new files for
	handling scan-converted convex polygons. (From
	gsumi) (these will be moved out to a plug-in tool directory
	when such a thing exists)

	* app/ink.[ch]: New tool for drawing with a hard-edged
	pressure and tilt-sensitive brush.

Sun Jun 14 16:03:29 EDT 1998 Adrian Likins <adrian@picman.org>

	* TODO: cleaned up and expanded the todo

Sun Jun 14 00:50:25 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/gif/gif.c: don't pop up dialog for informational
	"Too many colors?" message

Sat Jun 13 21:11:17 PDT 1998 Manish Singh <yosh@picman.org>

	* Makefile.am: install picman.m4 too

	* libpicman/picmanprotocol.[ch]
	* libpicman/picman.c
	* app/plug_in.[ch]
	* app/procedural_db.c: exported the gdisplay ID to the plugins,
	so they can be smart about hooking on to status bars in the
	appropriate display shell

	* libpicman/Makefile.am
	* libpicman/picman.c: make the plugins aware of $picmandir for gtkrc
	parsing

Sat Jun 13 16:52:34 EDT 1998 Adrian Likins <adrian@picman.org>

	*app/file_new_dialog.c: removed unsightly warnings,
	replace a * with a / so it will work

Sat Jun 13 15:46:55 EDT 1998 Adrian Likins <adrian@picman.org>

	*app/file_new_dialog.c: more file new tweaks,
	now uses spinbuttons. I'm still not sure this change is
	for the better, let me know. Pretty heavily based
	on a patch by Nuke Skyjumper <nuke@bayside.net>

Fri Jun 12 14:17:54 EDT 1998 Adrian Likins <adrian@picman.org>

	*app/file_new_dialog.c
	app/file_new_dialog.h:
	app/gloal_edit.c:  added behaviour so that the
	new file size will default to the current cut buffer
	if its "fresh"

Thu Jun 11 23:37:06 PDT 1998 Manish Singh <yosh@picman.org>

	* picman.m4: .m4 file for autoconf picmantool stuff

Thu Jun 11 00:34:51 1998  Owen Taylor  <otaylor@gtk.org>

	* app/color_area.c (color_area_events): Create/resize
	the pixmap on every expose CONFIGURE event, not just
	on the first expose event.

Thu Jun 11 00:02:15 1998  Owen Taylor  <otaylor@gtk.org>

	* app/interface.c (create_toolbox): Create the color
	area before showing the window, so that the window gets
	created at the right size. [ This doesn't actually fix
	much, but it is better to do that way ]

Wed Jun 10 14:17:44 1998  Owen Taylor  <otaylor@gtk.org>

	* app/disp_callbacks.c (gdisplay_origin_button_press):
	Stop signal emission so that button doesn't grab the
	pointer away from the menu.

Tue Jun  9 19:47:19 1998  Owen Taylor  <otaylor@gtk.org>

	* app/brushes.c app/drawable.c app/patterns.c
	  app/procedural_db.c plug-ins/script-fu/script_fu_server.c

	Fixes for warnings generated by changing GCompareFunc
	and GHashFunc to take const arguments.

Tue Jun  9 16:08:20 EDT 1998 Adrian Likins <adrain@picman.org>

	*app/file_new_dialog.c: more fiddling with file_new.
	the resoution unit optionmenu should work now. Just
	need to get the optionmenus remembering history.

Tue Jun  9 12:36:57 EDT 1998  Adrian Likins <adrian@picman.org>

	*confiure.in: corrected small type concering jpeg test
	(warning printed out "checking for jpeg.h" instead of
	jpeglib.h)

Tue Jun  9 04:36:52 PDT 1998 Manish Singh <yosh@picman.org>

	* Got rid of a bunch of warnings when compiling plugins

	* app/disp_callbacks.h: add declaration to get interface.c
	to compile

	* autogen.sh: make sure we know about ACLOCAL_FLAGS

Tue Jun  9 11:18:03 MEST 1998 Sven Neumann <sven@picman.org>

	* app/disp_callbacks.c
	* app/interface.c: add a pop-up menu to the upper left corner of
	the image window

	* updated pagecurl plug-in

Mon Jun  8 21:55:55 PDT 1998 Manish Singh <yosh@picman.org>

	* picmantool.in: use @picmandir@ instead of hardcoding .picman

	* app/palette.c: remove unnecessary gtk_widget_destroy for menus
	that have already been removed (from Shuji Narazaki)

Mon Jun  8 20:58:09 PDT 1998 Manish Singh <yosh@picman.org>

	* app/blend.c
	* app/brushes.c
	* app/brush_select.c
	* app/bucket_fill.c
	* app/layer_cmds.c
	* app/layers_dialog.c
	* app/paint_funcs.[ch]: applied a variation on
	picman-scier-980315-0 (implements divide (dodge) layer mode)

Mon Jun  8 22:09:07 1998  Owen Taylor  <otaylor@gtk.org>

	* app/airbrush.c: Simple pressure sensitivity.

Mon Jun  8 17:47:37 PDT 1998 Manish Singh <yosh@picman.org>

	* app/menus.c: unref the itemfactories instead of destroying
	them (from timj)

Mon Jun  8 17:16:22 PDT 1998 Manish Singh <yosh@picman.org>

	* app/color_select.[ch]: added a hex triplet to the color
	selector. It updates on focus_leave for now, so I bet there
	are some interface nits...

	* app/fileops.c: add an #include to quell a warning

Mon Jun  8 16:18:00 PDT 1998 Manish Singh <yosh@picman.org>

	* app/menus.c: fix stupid <Separator> menu bug

Mon Jun  8 16:39:19 EDT 1998 Adrian Likins <adrian@picman.org>

	*app/commands.c
	*app/file_new_dialog.[ch]
	*app/prefereces_dialog.[ch]: split up command.c
	into three files, commands.c, file_new_dialog.c,
	and preferences.c

	*app/Makefile.am: change to incorporate the new files

	*TODO: more feature ideas

Mon Jun  8 04:30:00 EDT 1998 Chris Lahey  <clahey@umich.edu>

	* app/devices.c: stdio.h
	* plug-ins/depthmerge/depthmerge.c: stdio.h
	* plug-ins/gtm/gtm.c: stdio.h
	* plug-ins/nlfilt/nlfilt.c: stdio.h, stdlib.h
	Added the listed includes to get it to compile.

Sun Jun  7 19:30:22 EDT 1998 Adrian Likins <adrian@picman.org>

	*app/commands.c: more fiddling with the file_new dialog.
	More stuff hooked up and working, but still not finished.

	*TODO: filling in more wishlist stuff

Sun Jun  7 16:18:16 PDT 1998 Manish singh <yosh@picman.org>

	* plug-ins/Lighting/lighting_main.c
	* plug-ins/Lighting/lighting_ui.c: ui fixes (taken from MapObject)

Sun Jun  7 18:44:17 EDT 1998  Matthew Wilson  <msw@picman.org>

	* plug-ins/webbrowser/web-browser.scm: changed the URL for the
	Manual

Sun Jun  7 12:39:56 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/libgck/gck/gcktypes.h
	* plug-ins/libgck/gck/gckui.h
	* plug-ins/libgck/gck/gckui.c
	* plug-ins/ifscompose/ifscompose.c: changes for the new accelerator
	stuff

Sun Jun  7 11:04:38 1998  Tim Janik  <timj@gtk.org>

	* app/gradient.c (cpopup_create_menu_item_with_label): use GtkAccelLabel
	when creating a menuitems label seperatedly.

	* app/commands.h:
 	* app/commands.c:
	(tips_dialog_cmd_callback):
	(filters_repeat_cmd_callback):
	(tools_select_cmd_callback): make use of the callback_action argument.

	* app/main.c (main): removed gtk_accelerator_table_set_mod_mask(),
	since gtk provides decent default values now.

	* app/layers_dialog.c:
	* app/interface.c:
	* app/indexed_palette.c:
	* app/channels_dialog.c:
	* app/buildmenu.c:
 	conversions for use of GtkAccelGroup.

	* app/buildmenu.c:
	* app/gradient.c:
	installed accelerators are locked, because these code portions don't
	support accelerator saving.

	* ChangeLog:
	* ChangeLog.pre-1-0: ChangeLog split up.

Sun Jun  7 01:21:43 PDT 1998 Manish Singh <yosh@picman.org>

	* plug-ins/script-fu/script-fu.c: fixed param passing for
	INT8 and INT16 types. This used to fail on big endian machines

	* plug-ins/maze/maze.c: properly handle INT8 and INT16 types.
	With these two fixes, circuit.scm will no longer crash on
	big endian machines

Sun Jun  7 00:19:22 EDT 1998  Adrian Likins <adrian@picman.org>

	* app/commands.c: Reworked the file_new dialog to
	be a little more useful. Added entries for a height
	and width in the unit of your choice, and a resolution.
	Not everythings hooked up yet, but its getting there.

Sun Jun  7 00:22:01 EDT 1998  Matthew Wilson  <msw@picman.org>

	* app/interface.c: Register private tips for all the tools -
	for use with online help later

Sat Jun  6 16:12:20 PDT 1998 Manish Singh <yosh@picman.org>

	* adding Lighting plugin

	* updated despeckle, png, sgi, and sharpen

Sat Jun  6 14:22:19 PDT 1998 Manish Singh <yosh@picman.org>

	* app/interface.c: changed it back, things work now

	* plug-ins/gfli/gfli.c: fixed gccism

	* plug-ins/MapObject/mapobject_main.c: update display when
	we're done (from seth)

Sat Jun  6 04:00:04 PDT 1998 Manish Singh <yosh@picman.org>

	* app/interface.c: changed GDK_IMAGE_NORMAL to GDK_IMAGE_SHARED
	to workaround gtk bug

Fri Jun  5 22:37:40 1998  Owen Taylor  <otaylor@gtk.org>

	* app/Makefile.am app/app_procs.c app/brushes.c app/commands.[ch]
	  app/disp_callbacks.c app/gdisplay.[ch] app/picmanrc.c
	  app/interface.[ch] app/menus.c app/paint_core.[ch]
	  app/paintbrush.c app/palette.c app/scroll.c
	  app/tools.[ch] app/undo.c

	- Added two new dialogs - input devices; (GtkInputDialog)
	  and DeviceStatus - which shows the tool/color for
	  each device.

	- Added device_status_update() call that gets called
	  whenever the tool/color etc. are changed.

	- Added ~/.picman/devicerc file to store settings

	- Code to draw cursor on canvas for non XFree86 XInput
	  where device can't control cursor and extended input
	  device simultaneously.

	- Changed input handling so that we always use the pointer
	  position from the device, not from gdk_input_window_get_cursor,
	  so that motion and cursor position sync.

	- Various changes so things work with non-integer coordinates

	- Pay attention to pressure and tilt in basic tool support.

	- New paint mode PRESSURE that changes the brush based on
	  the brush pressure

	- Left in a few XInput hacks that should be removed, but I no longer
	  remember what they are.

Fri Jun  5 18:08:32 PDT 1998 Manish Singh <yosh@picman.org>

	* configure.in: bumped to 1.1

Thu Jun  4 18:12:14 MEST 1998 Sven Neumann <sven@picman.org>

	* updated screenshot plug-in

Tue Jun  2 16:40:33 PDT 1998 Manish Singh <yosh@picman.org>

	* Made 1.0.0 release
